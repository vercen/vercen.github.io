[{"data":1,"prerenderedAt":430},["ShallowReactive",2],{"/2024/problem-solved":3,"surround-/2024/problem-solved":421},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"type":12,"categories":13,"tags":15,"readingTime":20,"body":25,"_type":414,"_id":415,"_source":416,"_file":417,"_stem":418,"_extension":419,"_original_dir":420},"/2024/problem-solved","2024",false,"","有问题，就要讲出来。","讲出来，修好了学校不通的路，解决了别人和我使用博客主题时遇到的问题，用 Nuxt.js 重构了个人网站，也配好了 Stylelint 和 Windows 上的 clangd。","2024-06-04T00:02:36.000Z","2024-06-10T17:06:28.000Z","story",[14],"生活",[16,17,18,19],"问题","校园","系统","朋友",{"text":21,"minutes":22,"time":23,"words":24},"9 min read",8.675,520500,1735,{"type":26,"children":27,"toc":399},"root",[28,36,42,47,52,57,62,68,73,95,100,106,119,124,150,155,161,185,199,204,209,214,219,224,229,234,238,260,265,270,275,284,290,295,302,307,320,354,359,364,370,384,393],{"type":29,"tag":30,"props":31,"children":33},"element","h2",{"id":32},"此路不通",[34],{"type":35,"value":32},"text",{"type":29,"tag":37,"props":38,"children":39},"p",{},[40],{"type":35,"value":41},"在几年前，由于「这样或者那样」的原因，学校家属院和东校区之间修建了很长一段隔离栅（护栏网），食堂旁边的两处台阶都被阻断了通行。但是几年过去，已经没有阻断通行的必要，学校却只拆除了其中一处台阶的一片隔离栅，而另一处台阶仍然被阻断。",{"type":29,"tag":37,"props":43,"children":44},{},[45],{"type":35,"value":46},"有些影响通行，但是大家能绕路另一处台阶，所以这段被学生们戏称为「柏林墙」的隔离栅已经在「形势」好转后，不合理地横亘长达一年之久。",{"type":29,"tag":37,"props":48,"children":49},{},[50],{"type":35,"value":51},"终于，在一次又一次的绕行之后，我忍不住了。5月14日，我在学校的信息直通车（综合反馈答复平台）上提出建议，希望学校将另一处台阶打开。四天后，拦截台阶的那片隔离栅就被拆除。",{"type":29,"tag":37,"props":53,"children":54},{},[55],{"type":35,"value":56},"不过，在可预知的未来中，缺失了两片隔离栅的「柏林墙」将依然屹立于东校区与家属院之间，成为历史的痕迹。",{"type":29,"tag":30,"props":58,"children":60},{"id":59},"修修博客",[61],{"type":35,"value":59},{"type":29,"tag":63,"props":64,"children":66},"h3",{"id":65},"锚点块",[67],{"type":35,"value":65},{"type":29,"tag":37,"props":69,"children":70},{},[71],{"type":35,"value":72},"六天前，一位自称为 Hermitlsr 的人通过 QQ 联系我，询问我关于 Stellar 主题的问题。他说自己最近开始重新打理博客，升级主题后，新版标题左侧的锚点块并没有显示。",{"type":29,"tag":37,"props":74,"children":75},{},[76,78,85,87,93],{"type":35,"value":77},"最终，我们通过腾讯会议找到了问题：他先前为了兼容公式显示，换用了 ",{"type":29,"tag":79,"props":80,"children":82},"code",{"className":81},[],[83],{"type":35,"value":84},"hexo-render-markdown-it-plus",{"type":35,"value":86}," 作为 Markdown 渲染器，这个渲染器虽然在标题之前也插入了标题锚点块，但是由于类名不同，主题的锚点块样式并没有成功应用。在恢复使用默认的 ",{"type":29,"tag":79,"props":88,"children":90},{"className":89},[],[91],{"type":35,"value":92},"hexo-render-marked",{"type":35,"value":94}," 之后，问题就暂时解决了。",{"type":29,"tag":37,"props":96,"children":97},{},[98],{"type":35,"value":99},"Hermitlsr 给主题提了一个 Issue。不久后被 KazariEX 看到，我们在腾讯会议上沟通，一起修复了相关的 Stylus 样式代码，使用其他 Markdown 渲染引擎也能正常显示样式了，好耶。",{"type":29,"tag":63,"props":101,"children":103},{"id":102},"夸克app",[104],{"type":35,"value":105},"夸克APP",{"type":29,"tag":37,"props":107,"children":108},{},[109,111,117],{"type":35,"value":110},"五天前，Kegongteng 在「纸鹿摸鱼处」博客的交流群中指出，Stellar 博客主题生成的页面",{"type":29,"tag":112,"props":113,"children":114},"strong",{},[115],{"type":35,"value":116},"在手机端显示不正常",{"type":35,"value":118},"。先前我也注意到了相关问题，但并没有在意。",{"type":29,"tag":37,"props":120,"children":121},{},[122],{"type":35,"value":123},"问题既然被放到了明面上，那无论如何我都得尝试解决了。我先在手机上测试了一下，发现只有「夸克」才会出现问题。专门下载了夸克，发现它不支持远程调试，我只能在本地测试环境中加入了 Eruda 插件，才找到了问题。",{"type":29,"tag":37,"props":125,"children":126},{},[127,129,148],{"type":35,"value":128},"夸克",{"type":29,"tag":112,"props":130,"children":131},{},[132,134,146],{"type":35,"value":133},"不支持 ",{"type":29,"tag":79,"props":135,"children":138},{"className":136,"language":137,"style":7},"language-css shiki shiki-themes catppuccin-latte one-dark-pro","css",[139],{"type":29,"tag":140,"props":141,"children":143},"span",{"style":142},"--shiki-default:#1E66F5;--shiki-dark:#E06C75",[144],{"type":35,"value":145},"prefers-color-scheme",{"type":35,"value":147}," CSS 媒体特性",{"type":35,"value":149},"，这个特性能让浏览器检测到用户处于深色模式时，使用网页自定的深色模式样式。很难想象这个 2019 年 Chrome 支持、2020 年“Baseline Widely available”全部支持的特性在 4 年后的这款 APP 上无法工作，看着它关于界面“基于创新无限的极速内核 Quarkium”的描述，我再一次感到了莫大的讽刺。",{"type":29,"tag":37,"props":151,"children":152},{},[153],{"type":35,"value":154},"后来，朋友告诉我夸克支持深色模式。我在夸克 APP 设置里启用之后，它放着网页官方提供的深色模式不用，而是换上了自己的代码干预网页显示。烂欸。😾",{"type":29,"tag":63,"props":156,"children":158},{"id":157},"pr-与-commit-关键词",[159],{"type":35,"value":160},"PR 与 Commit 关键词",{"type":29,"tag":37,"props":162,"children":163},{},[164,166,175,177,183],{"type":35,"value":165},"KazariEX 指出，我给主题提交 PR 之后，虽然使用了相应关键词，但对应的 Issue 并没有自动关闭。在重新阅读 ",{"type":29,"tag":167,"props":168,"children":172},"a",{"href":169,"rel":170},"https://docs.github.com/zh/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue",[171],"nofollow",[173],{"type":35,"value":174},"使用关键词将拉取请求链接到议题",{"type":35,"value":176}," 之后，我发现是因为我 commit 时依照作者的风格写的提交信息是以 ",{"type":29,"tag":79,"props":178,"children":180},{"className":179},[],[181],{"type":35,"value":182},"[fix]",{"type":35,"value":184}," 开头的，方括号阻碍了关键词的匹配。",{"type":29,"tag":37,"props":186,"children":187},{},[188,190,197],{"type":35,"value":189},"作者会在合并 Pull request 时选择 Squash and merge，默认情况下，PR 的标题会作为 Commit 的标题（参见 ",{"type":29,"tag":167,"props":191,"children":194},{"href":192,"rel":193},"https://docs.github.com/zh/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/about-pull-request-merges#merge-message-for-a-squash-merge",[171],[195],{"type":35,"value":196},"GitHub 文档",{"type":35,"value":198},"），所以需要在 PR 的标题中同时链接 Issue，才能在被合并时关闭 Issue。",{"type":29,"tag":37,"props":200,"children":201},{},[202],{"type":35,"value":203},"后来，我把这个想法投入了实践，在 PR 合并的时候，我怀着期待的心情，查看了对应 Issue 的状态——它还是没有自动关闭，因为不是我提出的。",{"type":29,"tag":63,"props":205,"children":207},{"id":206},"注入动画代码",[208],{"type":35,"value":206},{"type":29,"tag":37,"props":210,"children":211},{},[212],{"type":35,"value":213},"和 KazariEX 聊到他主页 Logo 的动画，他参考了 Kloudy Shape 的 Logo 动画样式。忽而想到自己的主页也可以做一个 Logo 动画。",{"type":29,"tag":37,"props":215,"children":216},{},[217],{"type":35,"value":218},"我的 Logo 使用的是可变字体，能调整字体的粗细和方圆程度。先前做过一版 Logo 字体缓慢变化的效果，不过切换页面时 Logo 又会从初始状态变化，大概因为我没用路由或者 PJAX 加载页面。后来决定让字体的参数随着时间变化，算是暂时解决了切换页面时动画不连续的问题。又过了一段时间，我发现动画的性能不佳，为了优化体验，索性关闭动画。",{"type":29,"tag":37,"props":220,"children":221},{},[222],{"type":35,"value":223},"直到看到大家的 Logo 动画，我决定重新写一个出来。",{"type":29,"tag":37,"props":225,"children":226},{},[227],{"type":35,"value":228},"经过一段时间的头脑风暴，它终于有了一个原型：“纸鹿摸鱼处”五个字利用可变字体的特性变形，辅以📄🦌🙌🐟🏖️几个 Emoji 元素的景深动画。",{"type":29,"tag":37,"props":230,"children":231},{},[232],{"type":35,"value":233},"思路是通过 JS 注入元素，通过 CSS 变量控制动画的参数。经过了许多修改优化，终于实现了以下效果：",{"type":29,"tag":235,"props":236,"children":237},"zhilu-header",{},[],{"type":29,"tag":37,"props":239,"children":240},{},[241,243,258],{"type":35,"value":242},"在制作动画的过程中，也遇到文字抖动、溢出边界、显示滚动条等问题，稍微做了些优化，如果你现在使用“检查元素”功能的话，会发现 ",{"type":29,"tag":79,"props":244,"children":245},{"className":136,"language":137,"style":7},[246,252],{"type":29,"tag":140,"props":247,"children":249},{"style":248},"--shiki-default:#7C7F93;--shiki-dark:#D19A66",[250],{"type":35,"value":251},".",{"type":29,"tag":140,"props":253,"children":255},{"style":254},"--shiki-default:#DF8E1D;--shiki-dark:#D19A66",[256],{"type":35,"value":257},"emoji-tail",{"type":35,"value":259}," 采用了 Grid 布局方式，我最近愈发体会到 CSS Grid 的妙用了。",{"type":29,"tag":30,"props":261,"children":263},{"id":262},"个人主页",[264],{"type":35,"value":262},{"type":29,"tag":37,"props":266,"children":267},{},[268],{"type":35,"value":269},"过年时用 VitePress 重构了一年半未动的个人主页。六天前和 KazariEX 一起在腾讯会议上修 bug 时提到了自己的主页，我们一拍即合，他带我直接零基础实战 Nuxt.js，经过几小时的共同努力就成功上线。",{"type":29,"tag":37,"props":271,"children":272},{},[273],{"type":35,"value":274},"目前个人主页还是毛坯状态，正在努力完善。",{"type":29,"tag":276,"props":277,"children":278},"blur",{},[279],{"type":29,"tag":37,"props":280,"children":281},{},[282],{"type":35,"value":283},"正如博客写到这里的时候，已经是开题第六天晚上了。",{"type":29,"tag":30,"props":285,"children":287},{"id":286},"stylelint",[288],{"type":35,"value":289},"Stylelint",{"type":29,"tag":37,"props":291,"children":292},{},[293],{"type":35,"value":294},"我在上一篇文章中吐槽 Stylelint 和 pnpm 之后，KazariEX 写了一篇博客文章，讲述自己在开发过程中配置、使用 CSS 的习惯。",{"type":29,"tag":296,"props":297,"children":301},"link-card",{"icon":298,"link":299,"title":300},"https://cdn.libravatar.org/avatar/ecb2ea87c4532f007838d86d02798f89","https://bikari.top/book/daily/44dc7f8","个人向 CSS 编码风格汇总",[],{"type":29,"tag":37,"props":303,"children":304},{},[305],{"type":35,"value":306},"按照这个教程，我在个人主页开发过程中成功引入并配置了 Stylelint。",{"type":29,"tag":37,"props":308,"children":309},{},[310,312,318],{"type":35,"value":311},"BTW，之前使用 pnpm 全局安装 Stylelint 时找不到依赖项，使用此配置可以提升依赖项到 ",{"type":29,"tag":79,"props":313,"children":315},{"className":314},[],[316],{"type":35,"value":317},"node_modules",{"type":35,"value":319}," 的根目录。",{"type":29,"tag":321,"props":322,"children":327},"pre",{"className":323,"code":324,"filename":325,"language":326,"meta":7,"style":7},"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","shamefully-hoist=true\n","~/.npmrc","ini",[328],{"type":29,"tag":79,"props":329,"children":330},{"__ignoreMap":7},[331],{"type":29,"tag":140,"props":332,"children":335},{"class":333,"line":334},"line",1,[336,342,348],{"type":29,"tag":140,"props":337,"children":339},{"style":338},"--shiki-default:#1E66F5;--shiki-dark:#C678DD",[340],{"type":35,"value":341},"shamefully-hoist",{"type":29,"tag":140,"props":343,"children":345},{"style":344},"--shiki-default:#179299;--shiki-dark:#ABB2BF",[346],{"type":35,"value":347},"=",{"type":29,"tag":140,"props":349,"children":351},{"style":350},"--shiki-default:#4C4F69;--shiki-dark:#98C379",[352],{"type":35,"value":353},"true\n",{"type":29,"tag":30,"props":355,"children":357},{"id":356},"clangd",[358],{"type":35,"value":356},{"type":29,"tag":37,"props":360,"children":361},{},[362],{"type":35,"value":363},"Shawn 看到了我的上一篇文章，写了一篇在 Windows 上使用 clangd 的文章。",{"type":29,"tag":296,"props":365,"children":369},{"icon":366,"link":367,"title":368},"https://wsrv.nl/?url=github.com/ShawnJeffersonWang.png","https://shawn.thisis.host/2024/clang-config/","Windows 下配置 Clang 和 clangd",[],{"type":29,"tag":37,"props":371,"children":372},{},[373,375,382],{"type":35,"value":374},"我在 Linux 上安装了 Clang 和 clangd 后就能正常使用了。但我在 Windows 上只安装了 LLVM 和 clangd，当时应该是没有安装 MSVC 或者 ",{"type":29,"tag":167,"props":376,"children":379},{"href":377,"rel":378},"https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/",[171],[380],{"type":35,"value":381},"MSBuild（Microsoft C++ / Visual Studio 生成工具）",{"type":35,"value":383},"工具，所以才没有成功。",{"type":29,"tag":385,"props":386,"children":387},"quote",{},[388],{"type":29,"tag":37,"props":389,"children":390},{},[391],{"type":35,"value":392},"问题：讲出来——然后解决了。",{"type":29,"tag":394,"props":395,"children":396},"style",{},[397],{"type":35,"value":398},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":400,"depth":400,"links":401},4,[402,404,411,412,413],{"id":32,"depth":403,"text":32},2,{"id":59,"depth":403,"text":59,"children":405},[406,408,409,410],{"id":65,"depth":407,"text":65},3,{"id":102,"depth":407,"text":105},{"id":157,"depth":407,"text":160},{"id":206,"depth":407,"text":206},{"id":262,"depth":403,"text":262},{"id":286,"depth":403,"text":289},{"id":356,"depth":403,"text":356},"markdown","content:posts:2024:problem-solved.md","content","posts/2024/problem-solved.md","posts/2024/problem-solved","md","/posts",[422,426],{"_path":423,"title":424,"date":425},"/2024/css-sort","从 CSS 排序折腾到 Stylelint 和 pnpm","2024-05-21T14:44:44.000Z",{"_path":427,"title":428,"date":429},"/2024/windows-terminal","Windows 终端体验优化指南","2024-06-16T14:48:57.000Z",1743402690427]