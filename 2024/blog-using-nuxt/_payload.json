[{"data":1,"prerenderedAt":4059},["ShallowReactive",2],{"/2024/blog-using-nuxt":3,"surround-/2024/blog-using-nuxt":4050},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"categories":13,"tags":15,"type":18,"aside":19,"github":22,"readingTime":26,"body":31,"_type":4043,"_id":4044,"_source":4045,"_file":4046,"_stem":4047,"_extension":4048,"_original_dir":4049},"/2024/blog-using-nuxt","2024",false,"","博客进化：从 Hexo 到 Nuxt Content","抬笔一挥，便洒出占半的前端样式代码。开发功能并不慢，样式优化与问题修复却很耗时间。博客前端的现代化转型，且听我话其分晓。","2024-08-27T10:30:55.000Z","2024-09-04T13:18:32.000Z","https://7.isyangs.cn/24/66d4c3ea35003-24.jpg",[14],"经验分享",[16,17],"网站","博客","story",[20,21],"toc","github-card",{"name":23,"description":24,"url":25},"L33Z22L11/blog-v3","基于 Nuxt Content 的博客主题，使用 Nuxt 3 构建。","https://github.com/L33Z22L11/blog-v3",{"text":27,"minutes":28,"time":29,"words":30},"22 min read",21.615,1296900,4323,{"type":32,"children":33,"toc":4014},"root",[34,48,54,61,66,71,77,82,87,92,97,102,107,112,117,122,127,141,168,178,236,280,285,306,330,335,420,425,430,448,468,918,923,928,972,1603,1608,1623,1628,1692,1788,1869,1874,1879,1884,1933,1938,1943,1948,1953,1958,1981,2060,2068,2074,2079,2084,2150,2252,2323,2344,2349,2354,2360,2365,2370,2375,2383,2388,2401,2423,2436,2442,2447,2468,2498,2503,2588,3087,3092,3097,3141,3186,3974,3987,3992,3997,4009],{"type":35,"tag":36,"props":37,"children":40},"element","alert",{"title":38,"type":39},"技术提醒","warning",[41],{"type":35,"tag":42,"props":43,"children":44},"p",{},[45],{"type":46,"value":47},"text","本文代码为撰写时的状态，仅供参考，不代表最终实现。",{"type":35,"tag":49,"props":50,"children":52},"h2",{"id":51},"升级动力",[53],{"type":46,"value":51},{"type":35,"tag":55,"props":56,"children":58},"h3",{"id":57},"hexo-主题",[59],{"type":46,"value":60},"Hexo 主题",{"type":35,"tag":42,"props":62,"children":63},{},[64],{"type":46,"value":65},"2023年5月24日，我使用 Heo 风格的 Acrylic 主题，将个人网站升级为 Hexo 博客。但不久之后，Acrylic 主题停止维护，同时 Heo 风格的博客主题大行其道，令我感到「泯然于众Blog」。",{"type":35,"tag":42,"props":67,"children":68},{},[69],{"type":46,"value":70},"于是在2024年1月9日，我选择了偶然之间瞥见的「千雪的咖啡厅」的上游主题 Stellar。并且惊喜地发现，Stellar 的作者 xaoxuu 也是知名主题 Volantis 的主要贡献者。朋友 Colsrch 负责管理 Volantis 主题交流群，我也曾于2020年加入了交流群。",{"type":35,"tag":55,"props":72,"children":74},{"id":73},"站际关系",[75],{"type":46,"value":76},"「站」际关系",{"type":35,"tag":42,"props":78,"children":79},{},[80],{"type":46,"value":81},"在更换 Stellar 主题之后，我于2024年1月29日开始积极更新博客，并添加了一些友链，藉以丰富自己的「站」际关系。由于几天后友链之一「微光档案」无法访问，我通过 Internet Archive 找到并加入了其交流群，了解到网站正在备案。自此，命运的齿轮开始转动，我与「微光档案」的站长 KazariEX 在后来结下了更深的联系。",{"type":35,"tag":55,"props":83,"children":85},{"id":84},"博客美化",[86],{"type":46,"value":84},{"type":35,"tag":42,"props":88,"children":89},{},[90],{"type":46,"value":91},"Stellar 主题的更新迭代速度很快，就如同我博客文章的更新速度一样。在这期间，我通过插入自定义 CSS 来更改样式。随着修改幅度越来越大，我编写了一系列 CSS 文件、Hexo 脚本，甚至还使用 JS 修改 DOM，为博客 Logo 注入动画元素。我的底线是「不修改主题源代码」，以避免拉取新版本时处理合并冲突，就算修改也是向主题提交 Bug 修复 PR。",{"type":35,"tag":42,"props":93,"children":94},{},[95],{"type":46,"value":96},"KazariEX 见此情况，几次建议我使用 Nuxt.js 重构博客并手写主题，但我当时认为博客重心在于文章，因此并未考虑。",{"type":35,"tag":55,"props":98,"children":100},{"id":99},"重构思考",[101],{"type":46,"value":99},{"type":35,"tag":42,"props":103,"children":104},{},[105],{"type":46,"value":106},"我的想法是，当 Hexo 无法满足我对博客的要求时（可能是几年后），我会考虑用 Astro 重构博客。但目前一切尚好。",{"type":35,"tag":42,"props":108,"children":109},{},[110],{"type":46,"value":111},"2024年6月1日， KazariEX 带领我 10 小时极速上手 Nuxt 重构个人主页。从某种意义上讲，此刻我由原生前端开发转变为一名现代前端开发者。我通过实战了解了 Nuxt 和 Vue 的基础知识，并体验到了现代前端开发的便捷。",{"type":35,"tag":42,"props":113,"children":114},{},[115],{"type":46,"value":116},"8月3日，在 KazariEX 不知第几次建议下，我开始尝试使用 Nuxt Content 构建博客。8月11日，新博客上线。",{"type":35,"tag":49,"props":118,"children":120},{"id":119},"功能开发",[121],{"type":46,"value":119},{"type":35,"tag":55,"props":123,"children":125},{"id":124},"深色模式",[126],{"type":46,"value":124},{"type":35,"tag":42,"props":128,"children":129},{},[130,132,139],{"type":46,"value":131},"我选择直接使用个人主页项目中的 ",{"type":35,"tag":133,"props":134,"children":136},"code",{"className":135},[],[137],{"type":46,"value":138},"ThemeToggle.vue",{"type":46,"value":140}," 组件。这个组件的开发过程也很有意思。",{"type":35,"tag":42,"props":142,"children":143},{},[144,146,158,160,166],{"type":46,"value":145},"我使用原生的 ",{"type":35,"tag":133,"props":147,"children":150},{"className":148,"language":149,"style":7},"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","sh",[151],{"type":35,"tag":152,"props":153,"children":155},"span",{"style":154},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[156],{"type":46,"value":157},"localStorage",{"type":46,"value":159}," 实现了颜色模式的持久化存储和自动加载，但后来觉得既然有了框架，使用 Pinia 来管理状态会更好。但随之而来遇到的问题是网页会在 ",{"type":35,"tag":133,"props":161,"children":163},{"className":162},[],[164],{"type":46,"value":165},"mounted",{"type":46,"value":167}," 钩子读取持久化存储的主题，如果主题与系统偏好不匹配时，刷新会导致短暂地使用系统偏好。",{"type":35,"tag":36,"props":169,"children":172},{"title":170,"type":171},"简而言之","info",[173],{"type":35,"tag":42,"props":174,"children":175},{},[176],{"type":46,"value":177},"如果系统偏好浅色模式，而博客选择了深色主题，刷新时会闪白。",{"type":35,"tag":42,"props":179,"children":180},{},[181,183,192,194,207,209,216,218,225,227,234],{"type":46,"value":182},"不少网站都有这个问题，比如 ",{"type":35,"tag":184,"props":185,"children":189},"a",{"href":186,"rel":187},"https://docs.github.com/zh",[188],"nofollow",[190],{"type":46,"value":191},"GitHub Docs",{"type":46,"value":193},"、",{"type":35,"tag":184,"props":195,"children":198},{"href":196,"rel":197},"https://vueuse.org/core/useColorMode/",[188],[199,201],{"type":46,"value":200},"VueUse 文档的 ",{"type":35,"tag":133,"props":202,"children":204},{"className":203},[],[205],{"type":46,"value":206},"useColorMode",{"type":46,"value":208},"。最令我佩服的是 Astro 主题 ",{"type":35,"tag":184,"props":210,"children":213},{"href":211,"rel":212},"https://github.com/EveSunMaple/Frosti",[188],[214],{"type":46,"value":215},"Frosti",{"type":46,"value":217},"，我提出 ",{"type":35,"tag":184,"props":219,"children":222},{"href":220,"rel":221},"https://github.com/EveSunMaple/Frosti/issues/16",[188],[223],{"type":46,"value":224},"Issue: 深色模式下刷新/切换页面时的屏幕闪烁",{"type":46,"value":226}," 后，作者 ",{"type":35,"tag":184,"props":228,"children":231},{"href":229,"rel":230},"https://github.com/EveSunMaple",[188],[232],{"type":46,"value":233},"EveSunMaple",{"type":46,"value":235}," 持续跟进，最终解决了问题。",{"type":35,"tag":42,"props":237,"children":238},{},[239,241,263,265,270,272,278],{"type":46,"value":240},"话说回来，我在解决页面刷新时的主题问题时遇到了困难，于是请求 KazariEX 的支援。我们发现 VitePress 没有这个问题，就一起研究它的源码，最终发现 VitePress 使用原生 ",{"type":35,"tag":133,"props":242,"children":245},{"className":243,"language":244,"style":7},"language-html shiki shiki-themes catppuccin-latte one-dark-pro","html",[246,252,258],{"type":35,"tag":152,"props":247,"children":249},{"style":248},"--shiki-default:#179299;--shiki-dark:#ABB2BF",[250],{"type":46,"value":251},"\u003C",{"type":35,"tag":152,"props":253,"children":255},{"style":254},"--shiki-default:#1E66F5;--shiki-dark:#E06C75",[256],{"type":46,"value":257},"script",{"type":35,"tag":152,"props":259,"children":260},{"style":248},[261],{"type":46,"value":262},">",{"type":46,"value":264}," 预处理主题，避免了在 ",{"type":35,"tag":133,"props":266,"children":268},{"className":267},[],[269],{"type":46,"value":165},{"type":46,"value":271}," 钩子中才切换主题的情况。我们参考这一思路解决了问题。后来 isYangs 引入了现成的 ",{"type":35,"tag":133,"props":273,"children":275},{"className":274},[],[276],{"type":46,"value":277},"@nuxt/color-mode",{"type":46,"value":279}," 模块，使代码更加优雅。",{"type":35,"tag":55,"props":281,"children":283},{"id":282},"样式预处理",[284],{"type":46,"value":282},{"type":35,"tag":42,"props":286,"children":287},{},[288,290,304],{"type":46,"value":289},"在开发过程中，我选择基于自己修改的 Stellar 主题编写样式。通过 ",{"type":35,"tag":133,"props":291,"children":292},{"className":148,"language":149,"style":7},[293,298],{"type":35,"tag":152,"props":294,"children":295},{"style":154},[296],{"type":46,"value":297},"tokei",{"type":35,"tag":152,"props":299,"children":301},{"style":300},"--shiki-default:#40A02B;--shiki-dark:#98C379",[302],{"type":46,"value":303}," ./app",{"type":46,"value":305}," 统计，博客前端排除空行后大约有4000行代码，其中大约一半是样式代码。",{"type":35,"tag":42,"props":307,"children":308},{},[309,311,322,324],{"type":46,"value":310},"我选择了 SCSS 作为样式预处理器，主要使用 SCSS 的嵌套声明块、",{"type":35,"tag":133,"props":312,"children":315},{"className":313,"language":314,"style":7},"language-css shiki shiki-themes catppuccin-latte one-dark-pro","css",[316],{"type":35,"tag":152,"props":317,"children":319},{"style":318},"--shiki-default:#8839EF;--shiki-dark:#C678DD",[320],{"type":46,"value":321},"@mixin",{"type":46,"value":323}," 和少量用于媒体查询宽度的变量。",{"type":35,"tag":325,"props":326,"children":327},"strong",{},[328],{"type":46,"value":329},"绝大多数语法均兼容 CSS 3。",{"type":35,"tag":42,"props":331,"children":332},{},[333],{"type":46,"value":334},"有群友提出使用原子化 CSS，有助于减少样式代码量。我认为原子化 CSS 能处理简易样式，但不适合设计导向或复杂样式，「风记星辰」的站长「宇」也支持我的观点。",{"type":35,"tag":336,"props":337,"children":338},"chat",{},[339,344,355,360,365,369,392,396,401,405,410,415],{"type":35,"tag":42,"props":340,"children":341},{},[342],{"type":46,"value":343},"{.}",{"type":35,"tag":42,"props":345,"children":346},{},[347,349,353],{"type":46,"value":348},"删一行样式都会出问题的哪种😵",{"type":35,"tag":350,"props":351,"children":352},"br",{},[],{"type":46,"value":354},"\n当我能给样式代码写注释的时候，它已经不是普通的易于改动的代码了",{"type":35,"tag":42,"props":356,"children":357},{},[358],{"type":46,"value":359},"{Restent Ou}",{"type":35,"tag":42,"props":361,"children":362},{},[363],{"type":46,"value":364},"所以我用 UnoCSS",{"type":35,"tag":42,"props":366,"children":367},{},[368],{"type":46,"value":343},{"type":35,"tag":42,"props":370,"children":371},{},[372,374,377,379,382,384,390],{"type":46,"value":373},"UnoCSS 能帮助处理这种近乎玄学的问题吗",{"type":35,"tag":350,"props":375,"children":376},{},[],{"type":46,"value":378},"\n我昨晚睡前还认真思考了一下要不要上 UnoCSS",{"type":35,"tag":350,"props":380,"children":381},{},[],{"type":46,"value":383},"\n最后觉得我的新博客既然注重样式，还是专门使用 ",{"type":35,"tag":133,"props":385,"children":387},{"className":386},[],[388],{"type":46,"value":389},"\u003Cstyle>",{"type":46,"value":391}," 好",{"type":35,"tag":42,"props":393,"children":394},{},[395],{"type":46,"value":359},{"type":35,"tag":42,"props":397,"children":398},{},[399],{"type":46,"value":400},"我提到原子化 CSS 是因为相比手写 CSS，其复杂度会相对降低",{"type":35,"tag":42,"props":402,"children":403},{},[404],{"type":46,"value":343},{"type":35,"tag":42,"props":406,"children":407},{},[408],{"type":46,"value":409},"毕竟我现在遇到的问题是 CSS 本身特性带来的问题，而不是原不原子化影响对样式的约束/控制能力",{"type":35,"tag":42,"props":411,"children":412},{},[413],{"type":46,"value":414},"{宇}",{"type":35,"tag":42,"props":416,"children":417},{},[418],{"type":46,"value":419},"是的，其实现在专门设计的网站，几乎都不使用 CSS 框架了，自己写不仅节省代码，而且 HTML 也干净",{"type":35,"tag":42,"props":421,"children":422},{},[423],{"type":46,"value":424},"因此，博客未来只可能会有限地引入原子化 CSS，例如仅对需要设置透明度、字体大小和颜色的元素应用原子化 CSS。",{"type":35,"tag":55,"props":426,"children":428},{"id":427},"海量组件",[429],{"type":46,"value":427},{"type":35,"tag":42,"props":431,"children":432},{},[433,435,446],{"type":46,"value":434},"先前我选择 Stellar 主题的原因之一，便是它「支持丰富的标签和动态数据组件」。没想到八个月前的回旋镖飞回到了自己头上，我望着博客 Markdown 文件里大量通过 Nunjucks 语法 ",{"type":35,"tag":133,"props":436,"children":439},{"className":437,"language":438,"style":7},"language-mdc shiki shiki-themes catppuccin-latte one-dark-pro","mdc",[440],{"type":35,"tag":152,"props":441,"children":443},{"style":442},"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF",[444],{"type":46,"value":445},"{% tag_name attr1 attr2:val2 %}",{"type":46,"value":447}," 调用的组件，思考如何用 Nuxt Content 和 MDC 语法编写用于替代的 Vue 组件。随后，我便开始了漫长的组件编写之旅。",{"type":35,"tag":42,"props":449,"children":450},{},[451,453,459,461,466],{"type":46,"value":452},"MDC 语法相比传统 Markdown 语法，能够更方便地使用 Vue 组件并传递参数。受限于一些组件（如聊天记录、时间线）的渲染方式，我甚至使用非标准方式获取 VNode 子节点中的默认插槽内容的文本值，写出了 ",{"type":35,"tag":133,"props":454,"children":456},{"className":455},[],[457],{"type":46,"value":458},"as any",{"type":46,"value":460}," 类型断言。不过总之，各种组件能",{"type":35,"tag":325,"props":462,"children":463},{},[464],{"type":46,"value":465},"以比较优雅的方式调用",{"type":46,"value":467},"了。",{"type":35,"tag":469,"props":470,"children":473},"tab",{":center":471,":tabs":472,"center":7},"true","[\"使用Chat组件\", \"使用Tab组件\", \"Timeline组件简化源码\"]",[474,598,781],{"type":35,"tag":475,"props":476,"children":477},"template",{"v-slot:tab1":7},[478],{"type":35,"tag":479,"props":480,"children":483},"pre",{"className":437,"code":481,"filename":482,"language":438,"meta":7,"style":7},"::chat\n\n{.}\n\n这是我说的内容，显示在右侧\n\n{用户1}\n\n这是用户1的回复\\\n可以这样换行\n\n::\n","blog-using-nuxt.md",[484],{"type":35,"tag":133,"props":485,"children":486},{"__ignoreMap":7},[487,502,512,521,529,538,546,555,563,572,581,589],{"type":35,"tag":152,"props":488,"children":491},{"class":489,"line":490},"line",1,[492,497],{"type":35,"tag":152,"props":493,"children":494},{"style":248},[495],{"type":46,"value":496},"::",{"type":35,"tag":152,"props":498,"children":499},{"style":254},[500],{"type":46,"value":501},"chat\n",{"type":35,"tag":152,"props":503,"children":505},{"class":489,"line":504},2,[506],{"type":35,"tag":152,"props":507,"children":509},{"emptyLinePlaceholder":508},true,[510],{"type":46,"value":511},"\n",{"type":35,"tag":152,"props":513,"children":515},{"class":489,"line":514},3,[516],{"type":35,"tag":152,"props":517,"children":518},{"style":442},[519],{"type":46,"value":520},"{.}\n",{"type":35,"tag":152,"props":522,"children":524},{"class":489,"line":523},4,[525],{"type":35,"tag":152,"props":526,"children":527},{"emptyLinePlaceholder":508},[528],{"type":46,"value":511},{"type":35,"tag":152,"props":530,"children":532},{"class":489,"line":531},5,[533],{"type":35,"tag":152,"props":534,"children":535},{"style":442},[536],{"type":46,"value":537},"这是我说的内容，显示在右侧\n",{"type":35,"tag":152,"props":539,"children":541},{"class":489,"line":540},6,[542],{"type":35,"tag":152,"props":543,"children":544},{"emptyLinePlaceholder":508},[545],{"type":46,"value":511},{"type":35,"tag":152,"props":547,"children":549},{"class":489,"line":548},7,[550],{"type":35,"tag":152,"props":551,"children":552},{"style":442},[553],{"type":46,"value":554},"{用户1}\n",{"type":35,"tag":152,"props":556,"children":558},{"class":489,"line":557},8,[559],{"type":35,"tag":152,"props":560,"children":561},{"emptyLinePlaceholder":508},[562],{"type":46,"value":511},{"type":35,"tag":152,"props":564,"children":566},{"class":489,"line":565},9,[567],{"type":35,"tag":152,"props":568,"children":569},{"style":442},[570],{"type":46,"value":571},"这是用户1的回复\\\n",{"type":35,"tag":152,"props":573,"children":575},{"class":489,"line":574},10,[576],{"type":35,"tag":152,"props":577,"children":578},{"style":442},[579],{"type":46,"value":580},"可以这样换行\n",{"type":35,"tag":152,"props":582,"children":584},{"class":489,"line":583},11,[585],{"type":35,"tag":152,"props":586,"children":587},{"emptyLinePlaceholder":508},[588],{"type":46,"value":511},{"type":35,"tag":152,"props":590,"children":592},{"class":489,"line":591},12,[593],{"type":35,"tag":152,"props":594,"children":595},{"style":248},[596],{"type":46,"value":597},"::\n",{"type":35,"tag":475,"props":599,"children":600},{"v-slot:tab2":7},[601],{"type":35,"tag":479,"props":602,"children":604},{"className":437,"code":603,"filename":482,"language":438,"meta":7,"style":7},"::tab\n---\ntabs: [\"使用Chat组件\", \"使用Tab组件\", \"Timeline组件简化源码\"]\ncenter: true\nactive: 2 # 默认显示第二个选项卡，可选\n---\n#tab1\n内容：使用Chat组件\n#tab2\n内容：使用Tab组件\n#tab3\n内容：聊天组件源代码\n::\n",[605],{"type":35,"tag":133,"props":606,"children":607},{"__ignoreMap":7},[608,620,628,676,694,717,724,733,741,749,757,765,773],{"type":35,"tag":152,"props":609,"children":610},{"class":489,"line":490},[611,615],{"type":35,"tag":152,"props":612,"children":613},{"style":248},[614],{"type":46,"value":496},{"type":35,"tag":152,"props":616,"children":617},{"style":254},[618],{"type":46,"value":619},"tab\n",{"type":35,"tag":152,"props":621,"children":622},{"class":489,"line":504},[623],{"type":35,"tag":152,"props":624,"children":625},{"style":442},[626],{"type":46,"value":627},"---\n",{"type":35,"tag":152,"props":629,"children":630},{"class":489,"line":514},[631,636,641,647,652,657,662,666,671],{"type":35,"tag":152,"props":632,"children":633},{"style":254},[634],{"type":46,"value":635},"tabs",{"type":35,"tag":152,"props":637,"children":638},{"style":248},[639],{"type":46,"value":640},":",{"type":35,"tag":152,"props":642,"children":644},{"style":643},"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF",[645],{"type":46,"value":646}," [",{"type":35,"tag":152,"props":648,"children":649},{"style":300},[650],{"type":46,"value":651},"\"使用Chat组件\"",{"type":35,"tag":152,"props":653,"children":654},{"style":643},[655],{"type":46,"value":656},",",{"type":35,"tag":152,"props":658,"children":659},{"style":300},[660],{"type":46,"value":661}," \"使用Tab组件\"",{"type":35,"tag":152,"props":663,"children":664},{"style":643},[665],{"type":46,"value":656},{"type":35,"tag":152,"props":667,"children":668},{"style":300},[669],{"type":46,"value":670}," \"Timeline组件简化源码\"",{"type":35,"tag":152,"props":672,"children":673},{"style":643},[674],{"type":46,"value":675},"]\n",{"type":35,"tag":152,"props":677,"children":678},{"class":489,"line":523},[679,684,688],{"type":35,"tag":152,"props":680,"children":681},{"style":254},[682],{"type":46,"value":683},"center",{"type":35,"tag":152,"props":685,"children":686},{"style":248},[687],{"type":46,"value":640},{"type":35,"tag":152,"props":689,"children":691},{"style":690},"--shiki-default:#FE640B;--shiki-dark:#D19A66",[692],{"type":46,"value":693}," true\n",{"type":35,"tag":152,"props":695,"children":696},{"class":489,"line":531},[697,702,706,711],{"type":35,"tag":152,"props":698,"children":699},{"style":254},[700],{"type":46,"value":701},"active",{"type":35,"tag":152,"props":703,"children":704},{"style":248},[705],{"type":46,"value":640},{"type":35,"tag":152,"props":707,"children":708},{"style":690},[709],{"type":46,"value":710}," 2",{"type":35,"tag":152,"props":712,"children":714},{"style":713},"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic",[715],{"type":46,"value":716}," # 默认显示第二个选项卡，可选\n",{"type":35,"tag":152,"props":718,"children":719},{"class":489,"line":540},[720],{"type":35,"tag":152,"props":721,"children":722},{"style":442},[723],{"type":46,"value":627},{"type":35,"tag":152,"props":725,"children":726},{"class":489,"line":548},[727],{"type":35,"tag":152,"props":728,"children":730},{"style":729},"--shiki-default:#DF8E1D;--shiki-dark:#D19A66",[731],{"type":46,"value":732},"#tab1\n",{"type":35,"tag":152,"props":734,"children":735},{"class":489,"line":557},[736],{"type":35,"tag":152,"props":737,"children":738},{"style":442},[739],{"type":46,"value":740},"内容：使用Chat组件\n",{"type":35,"tag":152,"props":742,"children":743},{"class":489,"line":565},[744],{"type":35,"tag":152,"props":745,"children":746},{"style":729},[747],{"type":46,"value":748},"#tab2\n",{"type":35,"tag":152,"props":750,"children":751},{"class":489,"line":574},[752],{"type":35,"tag":152,"props":753,"children":754},{"style":442},[755],{"type":46,"value":756},"内容：使用Tab组件\n",{"type":35,"tag":152,"props":758,"children":759},{"class":489,"line":583},[760],{"type":35,"tag":152,"props":761,"children":762},{"style":729},[763],{"type":46,"value":764},"#tab3\n",{"type":35,"tag":152,"props":766,"children":767},{"class":489,"line":591},[768],{"type":35,"tag":152,"props":769,"children":770},{"style":442},[771],{"type":46,"value":772},"内容：聊天组件源代码\n",{"type":35,"tag":152,"props":774,"children":776},{"class":489,"line":775},13,[777],{"type":35,"tag":152,"props":778,"children":779},{"style":248},[780],{"type":46,"value":597},{"type":35,"tag":475,"props":782,"children":783},{"v-slot:tab3":7},[784],{"type":35,"tag":479,"props":785,"children":790},{"className":786,"code":787,"filename":788,"language":789,"meta":7,"style":7},"language-vue shiki shiki-themes catppuccin-latte one-dark-pro","\u003Cscript lang=\"tsx\" setup>\nfunction render() {\n    return defineSlots().default?.().map((node: VNode) => {\n        const textContent = (node.children as any)?.default?.()[0].children || ''\n        const match = textContent?.match?.(/^\\{(.*?)\\}$/)\n        return match\n            ? \u003Cdiv class=\"timeline-caption\">{match[1]}\u003C/div>\n            : \u003Cdiv class=\"timeline-body card\">{node}\u003C/div>\n    })\n}\n\u003C/script>\n","Timeline.vue","vue",[791],{"type":35,"tag":133,"props":792,"children":793},{"__ignoreMap":7},[794,830,838,846,854,862,870,878,886,894,902],{"type":35,"tag":152,"props":795,"children":796},{"class":489,"line":490},[797,801,805,810,815,820,825],{"type":35,"tag":152,"props":798,"children":799},{"style":248},[800],{"type":46,"value":251},{"type":35,"tag":152,"props":802,"children":803},{"style":254},[804],{"type":46,"value":257},{"type":35,"tag":152,"props":806,"children":807},{"style":729},[808],{"type":46,"value":809}," lang",{"type":35,"tag":152,"props":811,"children":812},{"style":248},[813],{"type":46,"value":814},"=",{"type":35,"tag":152,"props":816,"children":817},{"style":300},[818],{"type":46,"value":819},"\"tsx\"",{"type":35,"tag":152,"props":821,"children":822},{"style":729},[823],{"type":46,"value":824}," setup",{"type":35,"tag":152,"props":826,"children":827},{"style":248},[828],{"type":46,"value":829},">\n",{"type":35,"tag":152,"props":831,"children":832},{"class":489,"line":504},[833],{"type":35,"tag":152,"props":834,"children":835},{"style":442},[836],{"type":46,"value":837},"function render() {\n",{"type":35,"tag":152,"props":839,"children":840},{"class":489,"line":514},[841],{"type":35,"tag":152,"props":842,"children":843},{"style":442},[844],{"type":46,"value":845},"    return defineSlots().default?.().map((node: VNode) => {\n",{"type":35,"tag":152,"props":847,"children":848},{"class":489,"line":523},[849],{"type":35,"tag":152,"props":850,"children":851},{"style":442},[852],{"type":46,"value":853},"        const textContent = (node.children as any)?.default?.()[0].children || ''\n",{"type":35,"tag":152,"props":855,"children":856},{"class":489,"line":531},[857],{"type":35,"tag":152,"props":858,"children":859},{"style":442},[860],{"type":46,"value":861},"        const match = textContent?.match?.(/^\\{(.*?)\\}$/)\n",{"type":35,"tag":152,"props":863,"children":864},{"class":489,"line":540},[865],{"type":35,"tag":152,"props":866,"children":867},{"style":442},[868],{"type":46,"value":869},"        return match\n",{"type":35,"tag":152,"props":871,"children":872},{"class":489,"line":548},[873],{"type":35,"tag":152,"props":874,"children":875},{"style":442},[876],{"type":46,"value":877},"            ? \u003Cdiv class=\"timeline-caption\">{match[1]}\u003C/div>\n",{"type":35,"tag":152,"props":879,"children":880},{"class":489,"line":557},[881],{"type":35,"tag":152,"props":882,"children":883},{"style":442},[884],{"type":46,"value":885},"            : \u003Cdiv class=\"timeline-body card\">{node}\u003C/div>\n",{"type":35,"tag":152,"props":887,"children":888},{"class":489,"line":565},[889],{"type":35,"tag":152,"props":890,"children":891},{"style":442},[892],{"type":46,"value":893},"    })\n",{"type":35,"tag":152,"props":895,"children":896},{"class":489,"line":574},[897],{"type":35,"tag":152,"props":898,"children":899},{"style":442},[900],{"type":46,"value":901},"}\n",{"type":35,"tag":152,"props":903,"children":904},{"class":489,"line":583},[905,910,914],{"type":35,"tag":152,"props":906,"children":907},{"style":248},[908],{"type":46,"value":909},"\u003C/",{"type":35,"tag":152,"props":911,"children":912},{"style":254},[913],{"type":46,"value":257},{"type":35,"tag":152,"props":915,"children":916},{"style":248},[917],{"type":46,"value":829},{"type":35,"tag":55,"props":919,"children":921},{"id":920},"评论接入",[922],{"type":46,"value":920},{"type":35,"tag":42,"props":924,"children":925},{},[926],{"type":46,"value":927},"2024年6月28日，我为上一版博客接入了 Twikoo 评论系统；在8月11日新博客上线当天，我通过简易代码重新接入了 Twikoo。",{"type":35,"tag":42,"props":929,"children":930},{},[931,933,948,950,956,958,970],{"type":46,"value":932},"后来，KazariEX 提出使用 ",{"type":35,"tag":133,"props":934,"children":937},{"className":935,"language":936,"style":7},"language-js shiki shiki-themes catppuccin-latte one-dark-pro","js",[938,943],{"type":35,"tag":152,"props":939,"children":940},{"style":154},[941],{"type":46,"value":942},"useScriptTag",{"type":35,"tag":152,"props":944,"children":945},{"style":442},[946],{"type":46,"value":947},"()",{"type":46,"value":949}," 引入 Twikoo，我觉得这就是一种抽象。从积极的插入脚本变为懒加载之后，无论是在外部使用动态 key 调用组件，抑或是在组件内监听 ",{"type":35,"tag":133,"props":951,"children":953},{"className":952},[],[954],{"type":46,"value":955},"path",{"type":46,"value":957},"，都会在 SSG 环境下异常，只得如此在 ",{"type":35,"tag":133,"props":959,"children":960},{"className":935,"language":936,"style":7},[961,966],{"type":35,"tag":152,"props":962,"children":963},{"style":154},[964],{"type":46,"value":965},"onMounted",{"type":35,"tag":152,"props":967,"children":968},{"style":442},[969],{"type":46,"value":947},{"type":46,"value":971}," 中手动重新调用，倒是显得不太优雅了。",{"type":35,"tag":469,"props":973,"children":976},{":center":471,":tabs":974,"center":7,":active":975},"[\"旧代码\", \"新代码\"]","2",[977,1331],{"type":35,"tag":475,"props":978,"children":979},{"v-slot:tab1":7},[980],{"type":35,"tag":479,"props":981,"children":986},{"className":982,"code":983,"filename":984,"language":985,"meta":7,"style":7},"language-ts shiki shiki-themes catppuccin-latte one-dark-pro","onMounted(() => {\n    const script = document.createElement('script')\n    script.src = appConfig.twikoo.js\n    script.defer = true\n    script.onload = () => {\n        window.twikoo.init({\n            envId: appConfig.twikoo.envId,\n            el: '#tk-comment',\n        })\n    }\n    document.head.appendChild(script)\n})\n","Comment.vue > script setup","ts",[987],{"type":35,"tag":133,"props":988,"children":989},{"__ignoreMap":7},[990,1017,1066,1111,1135,1168,1202,1240,1261,1273,1281,1319],{"type":35,"tag":152,"props":991,"children":992},{"class":489,"line":490},[993,997,1002,1006,1012],{"type":35,"tag":152,"props":994,"children":995},{"style":154},[996],{"type":46,"value":965},{"type":35,"tag":152,"props":998,"children":999},{"style":442},[1000],{"type":46,"value":1001},"(",{"type":35,"tag":152,"props":1003,"children":1004},{"style":643},[1005],{"type":46,"value":947},{"type":35,"tag":152,"props":1007,"children":1009},{"style":1008},"--shiki-default:#179299;--shiki-dark:#C678DD",[1010],{"type":46,"value":1011}," =>",{"type":35,"tag":152,"props":1013,"children":1014},{"style":643},[1015],{"type":46,"value":1016}," {\n",{"type":35,"tag":152,"props":1018,"children":1019},{"class":489,"line":504},[1020,1025,1031,1037,1042,1047,1052,1056,1061],{"type":35,"tag":152,"props":1021,"children":1022},{"style":318},[1023],{"type":46,"value":1024},"    const",{"type":35,"tag":152,"props":1026,"children":1028},{"style":1027},"--shiki-default:#4C4F69;--shiki-dark:#E5C07B",[1029],{"type":46,"value":1030}," script",{"type":35,"tag":152,"props":1032,"children":1034},{"style":1033},"--shiki-default:#179299;--shiki-dark:#56B6C2",[1035],{"type":46,"value":1036}," =",{"type":35,"tag":152,"props":1038,"children":1039},{"style":1027},[1040],{"type":46,"value":1041}," document",{"type":35,"tag":152,"props":1043,"children":1044},{"style":248},[1045],{"type":46,"value":1046},".",{"type":35,"tag":152,"props":1048,"children":1049},{"style":154},[1050],{"type":46,"value":1051},"createElement",{"type":35,"tag":152,"props":1053,"children":1054},{"style":442},[1055],{"type":46,"value":1001},{"type":35,"tag":152,"props":1057,"children":1058},{"style":300},[1059],{"type":46,"value":1060},"'script'",{"type":35,"tag":152,"props":1062,"children":1063},{"style":442},[1064],{"type":46,"value":1065},")\n",{"type":35,"tag":152,"props":1067,"children":1068},{"class":489,"line":514},[1069,1074,1078,1084,1088,1093,1097,1102,1106],{"type":35,"tag":152,"props":1070,"children":1071},{"style":1027},[1072],{"type":46,"value":1073},"    script",{"type":35,"tag":152,"props":1075,"children":1076},{"style":248},[1077],{"type":46,"value":1046},{"type":35,"tag":152,"props":1079,"children":1081},{"style":1080},"--shiki-default:#4C4F69;--shiki-dark:#E06C75",[1082],{"type":46,"value":1083},"src",{"type":35,"tag":152,"props":1085,"children":1086},{"style":1033},[1087],{"type":46,"value":1036},{"type":35,"tag":152,"props":1089,"children":1090},{"style":1027},[1091],{"type":46,"value":1092}," appConfig",{"type":35,"tag":152,"props":1094,"children":1095},{"style":248},[1096],{"type":46,"value":1046},{"type":35,"tag":152,"props":1098,"children":1099},{"style":1027},[1100],{"type":46,"value":1101},"twikoo",{"type":35,"tag":152,"props":1103,"children":1104},{"style":248},[1105],{"type":46,"value":1046},{"type":35,"tag":152,"props":1107,"children":1108},{"style":1080},[1109],{"type":46,"value":1110},"js\n",{"type":35,"tag":152,"props":1112,"children":1113},{"class":489,"line":523},[1114,1118,1122,1127,1131],{"type":35,"tag":152,"props":1115,"children":1116},{"style":1027},[1117],{"type":46,"value":1073},{"type":35,"tag":152,"props":1119,"children":1120},{"style":248},[1121],{"type":46,"value":1046},{"type":35,"tag":152,"props":1123,"children":1124},{"style":1080},[1125],{"type":46,"value":1126},"defer",{"type":35,"tag":152,"props":1128,"children":1129},{"style":1033},[1130],{"type":46,"value":1036},{"type":35,"tag":152,"props":1132,"children":1133},{"style":690},[1134],{"type":46,"value":693},{"type":35,"tag":152,"props":1136,"children":1137},{"class":489,"line":531},[1138,1142,1146,1151,1155,1160,1164],{"type":35,"tag":152,"props":1139,"children":1140},{"style":1027},[1141],{"type":46,"value":1073},{"type":35,"tag":152,"props":1143,"children":1144},{"style":248},[1145],{"type":46,"value":1046},{"type":35,"tag":152,"props":1147,"children":1148},{"style":154},[1149],{"type":46,"value":1150},"onload",{"type":35,"tag":152,"props":1152,"children":1153},{"style":1033},[1154],{"type":46,"value":1036},{"type":35,"tag":152,"props":1156,"children":1157},{"style":643},[1158],{"type":46,"value":1159}," ()",{"type":35,"tag":152,"props":1161,"children":1162},{"style":1008},[1163],{"type":46,"value":1011},{"type":35,"tag":152,"props":1165,"children":1166},{"style":643},[1167],{"type":46,"value":1016},{"type":35,"tag":152,"props":1169,"children":1170},{"class":489,"line":540},[1171,1176,1180,1184,1188,1193,1197],{"type":35,"tag":152,"props":1172,"children":1173},{"style":1027},[1174],{"type":46,"value":1175},"        window",{"type":35,"tag":152,"props":1177,"children":1178},{"style":248},[1179],{"type":46,"value":1046},{"type":35,"tag":152,"props":1181,"children":1182},{"style":1027},[1183],{"type":46,"value":1101},{"type":35,"tag":152,"props":1185,"children":1186},{"style":248},[1187],{"type":46,"value":1046},{"type":35,"tag":152,"props":1189,"children":1190},{"style":154},[1191],{"type":46,"value":1192},"init",{"type":35,"tag":152,"props":1194,"children":1195},{"style":442},[1196],{"type":46,"value":1001},{"type":35,"tag":152,"props":1198,"children":1199},{"style":643},[1200],{"type":46,"value":1201},"{\n",{"type":35,"tag":152,"props":1203,"children":1204},{"class":489,"line":548},[1205,1210,1214,1218,1222,1226,1230,1235],{"type":35,"tag":152,"props":1206,"children":1207},{"style":1080},[1208],{"type":46,"value":1209},"            envId",{"type":35,"tag":152,"props":1211,"children":1212},{"style":248},[1213],{"type":46,"value":640},{"type":35,"tag":152,"props":1215,"children":1216},{"style":1027},[1217],{"type":46,"value":1092},{"type":35,"tag":152,"props":1219,"children":1220},{"style":248},[1221],{"type":46,"value":1046},{"type":35,"tag":152,"props":1223,"children":1224},{"style":1027},[1225],{"type":46,"value":1101},{"type":35,"tag":152,"props":1227,"children":1228},{"style":248},[1229],{"type":46,"value":1046},{"type":35,"tag":152,"props":1231,"children":1232},{"style":1080},[1233],{"type":46,"value":1234},"envId",{"type":35,"tag":152,"props":1236,"children":1237},{"style":643},[1238],{"type":46,"value":1239},",\n",{"type":35,"tag":152,"props":1241,"children":1242},{"class":489,"line":557},[1243,1248,1252,1257],{"type":35,"tag":152,"props":1244,"children":1245},{"style":1080},[1246],{"type":46,"value":1247},"            el",{"type":35,"tag":152,"props":1249,"children":1250},{"style":248},[1251],{"type":46,"value":640},{"type":35,"tag":152,"props":1253,"children":1254},{"style":300},[1255],{"type":46,"value":1256}," '#tk-comment'",{"type":35,"tag":152,"props":1258,"children":1259},{"style":643},[1260],{"type":46,"value":1239},{"type":35,"tag":152,"props":1262,"children":1263},{"class":489,"line":565},[1264,1269],{"type":35,"tag":152,"props":1265,"children":1266},{"style":643},[1267],{"type":46,"value":1268},"        }",{"type":35,"tag":152,"props":1270,"children":1271},{"style":442},[1272],{"type":46,"value":1065},{"type":35,"tag":152,"props":1274,"children":1275},{"class":489,"line":574},[1276],{"type":35,"tag":152,"props":1277,"children":1278},{"style":643},[1279],{"type":46,"value":1280},"    }\n",{"type":35,"tag":152,"props":1282,"children":1283},{"class":489,"line":583},[1284,1289,1293,1298,1302,1307,1311,1315],{"type":35,"tag":152,"props":1285,"children":1286},{"style":1027},[1287],{"type":46,"value":1288},"    document",{"type":35,"tag":152,"props":1290,"children":1291},{"style":248},[1292],{"type":46,"value":1046},{"type":35,"tag":152,"props":1294,"children":1295},{"style":1027},[1296],{"type":46,"value":1297},"head",{"type":35,"tag":152,"props":1299,"children":1300},{"style":248},[1301],{"type":46,"value":1046},{"type":35,"tag":152,"props":1303,"children":1304},{"style":154},[1305],{"type":46,"value":1306},"appendChild",{"type":35,"tag":152,"props":1308,"children":1309},{"style":442},[1310],{"type":46,"value":1001},{"type":35,"tag":152,"props":1312,"children":1313},{"style":1080},[1314],{"type":46,"value":257},{"type":35,"tag":152,"props":1316,"children":1317},{"style":442},[1318],{"type":46,"value":1065},{"type":35,"tag":152,"props":1320,"children":1321},{"class":489,"line":591},[1322,1327],{"type":35,"tag":152,"props":1323,"children":1324},{"style":643},[1325],{"type":46,"value":1326},"}",{"type":35,"tag":152,"props":1328,"children":1329},{"style":442},[1330],{"type":46,"value":1065},{"type":35,"tag":475,"props":1332,"children":1333},{"v-slot:tab2":7},[1334],{"type":35,"tag":479,"props":1335,"children":1337},{"className":982,"code":1336,"filename":984,"language":985,"meta":7,"style":7},"function initTwikoo() {\n    window.twikoo?.init?.({\n        envId: appConfig.twikoo.envId,\n        el: '#twikoo',\n    })\n}\n// 从其他页面路由至文章页面时，通过 onLoaded 事件初始化，onMounted 不起作用\nuseScriptTag(appConfig.twikoo.js, () => initTwikoo(), { defer: true })\n// 在文章页面之间路由时不会触发 onLoaded 事件，需要手动初始化\nonMounted(() => initTwikoo())\n",[1338],{"type":35,"tag":133,"props":1339,"children":1340},{"__ignoreMap":7},[1341,1362,1399,1435,1456,1468,1475,1483,1567,1575],{"type":35,"tag":152,"props":1342,"children":1343},{"class":489,"line":490},[1344,1349,1354,1358],{"type":35,"tag":152,"props":1345,"children":1346},{"style":318},[1347],{"type":46,"value":1348},"function",{"type":35,"tag":152,"props":1350,"children":1351},{"style":154},[1352],{"type":46,"value":1353}," initTwikoo",{"type":35,"tag":152,"props":1355,"children":1356},{"style":643},[1357],{"type":46,"value":947},{"type":35,"tag":152,"props":1359,"children":1360},{"style":643},[1361],{"type":46,"value":1016},{"type":35,"tag":152,"props":1363,"children":1364},{"class":489,"line":504},[1365,1370,1374,1378,1383,1387,1391,1395],{"type":35,"tag":152,"props":1366,"children":1367},{"style":1027},[1368],{"type":46,"value":1369},"    window",{"type":35,"tag":152,"props":1371,"children":1372},{"style":248},[1373],{"type":46,"value":1046},{"type":35,"tag":152,"props":1375,"children":1376},{"style":1027},[1377],{"type":46,"value":1101},{"type":35,"tag":152,"props":1379,"children":1380},{"style":248},[1381],{"type":46,"value":1382},"?.",{"type":35,"tag":152,"props":1384,"children":1385},{"style":154},[1386],{"type":46,"value":1192},{"type":35,"tag":152,"props":1388,"children":1389},{"style":248},[1390],{"type":46,"value":1382},{"type":35,"tag":152,"props":1392,"children":1393},{"style":442},[1394],{"type":46,"value":1001},{"type":35,"tag":152,"props":1396,"children":1397},{"style":643},[1398],{"type":46,"value":1201},{"type":35,"tag":152,"props":1400,"children":1401},{"class":489,"line":514},[1402,1407,1411,1415,1419,1423,1427,1431],{"type":35,"tag":152,"props":1403,"children":1404},{"style":1080},[1405],{"type":46,"value":1406},"        envId",{"type":35,"tag":152,"props":1408,"children":1409},{"style":248},[1410],{"type":46,"value":640},{"type":35,"tag":152,"props":1412,"children":1413},{"style":1027},[1414],{"type":46,"value":1092},{"type":35,"tag":152,"props":1416,"children":1417},{"style":248},[1418],{"type":46,"value":1046},{"type":35,"tag":152,"props":1420,"children":1421},{"style":1027},[1422],{"type":46,"value":1101},{"type":35,"tag":152,"props":1424,"children":1425},{"style":248},[1426],{"type":46,"value":1046},{"type":35,"tag":152,"props":1428,"children":1429},{"style":1080},[1430],{"type":46,"value":1234},{"type":35,"tag":152,"props":1432,"children":1433},{"style":643},[1434],{"type":46,"value":1239},{"type":35,"tag":152,"props":1436,"children":1437},{"class":489,"line":523},[1438,1443,1447,1452],{"type":35,"tag":152,"props":1439,"children":1440},{"style":1080},[1441],{"type":46,"value":1442},"        el",{"type":35,"tag":152,"props":1444,"children":1445},{"style":248},[1446],{"type":46,"value":640},{"type":35,"tag":152,"props":1448,"children":1449},{"style":300},[1450],{"type":46,"value":1451}," '#twikoo'",{"type":35,"tag":152,"props":1453,"children":1454},{"style":643},[1455],{"type":46,"value":1239},{"type":35,"tag":152,"props":1457,"children":1458},{"class":489,"line":531},[1459,1464],{"type":35,"tag":152,"props":1460,"children":1461},{"style":643},[1462],{"type":46,"value":1463},"    }",{"type":35,"tag":152,"props":1465,"children":1466},{"style":442},[1467],{"type":46,"value":1065},{"type":35,"tag":152,"props":1469,"children":1470},{"class":489,"line":540},[1471],{"type":35,"tag":152,"props":1472,"children":1473},{"style":643},[1474],{"type":46,"value":901},{"type":35,"tag":152,"props":1476,"children":1477},{"class":489,"line":548},[1478],{"type":35,"tag":152,"props":1479,"children":1480},{"style":713},[1481],{"type":46,"value":1482},"// 从其他页面路由至文章页面时，通过 onLoaded 事件初始化，onMounted 不起作用\n",{"type":35,"tag":152,"props":1484,"children":1485},{"class":489,"line":557},[1486,1490,1494,1499,1503,1507,1511,1515,1519,1523,1527,1531,1535,1539,1544,1549,1553,1558,1563],{"type":35,"tag":152,"props":1487,"children":1488},{"style":154},[1489],{"type":46,"value":942},{"type":35,"tag":152,"props":1491,"children":1492},{"style":442},[1493],{"type":46,"value":1001},{"type":35,"tag":152,"props":1495,"children":1496},{"style":1027},[1497],{"type":46,"value":1498},"appConfig",{"type":35,"tag":152,"props":1500,"children":1501},{"style":248},[1502],{"type":46,"value":1046},{"type":35,"tag":152,"props":1504,"children":1505},{"style":1027},[1506],{"type":46,"value":1101},{"type":35,"tag":152,"props":1508,"children":1509},{"style":248},[1510],{"type":46,"value":1046},{"type":35,"tag":152,"props":1512,"children":1513},{"style":1080},[1514],{"type":46,"value":936},{"type":35,"tag":152,"props":1516,"children":1517},{"style":643},[1518],{"type":46,"value":656},{"type":35,"tag":152,"props":1520,"children":1521},{"style":643},[1522],{"type":46,"value":1159},{"type":35,"tag":152,"props":1524,"children":1525},{"style":1008},[1526],{"type":46,"value":1011},{"type":35,"tag":152,"props":1528,"children":1529},{"style":154},[1530],{"type":46,"value":1353},{"type":35,"tag":152,"props":1532,"children":1533},{"style":442},[1534],{"type":46,"value":947},{"type":35,"tag":152,"props":1536,"children":1537},{"style":643},[1538],{"type":46,"value":656},{"type":35,"tag":152,"props":1540,"children":1541},{"style":643},[1542],{"type":46,"value":1543}," {",{"type":35,"tag":152,"props":1545,"children":1546},{"style":1080},[1547],{"type":46,"value":1548}," defer",{"type":35,"tag":152,"props":1550,"children":1551},{"style":248},[1552],{"type":46,"value":640},{"type":35,"tag":152,"props":1554,"children":1555},{"style":690},[1556],{"type":46,"value":1557}," true",{"type":35,"tag":152,"props":1559,"children":1560},{"style":643},[1561],{"type":46,"value":1562}," }",{"type":35,"tag":152,"props":1564,"children":1565},{"style":442},[1566],{"type":46,"value":1065},{"type":35,"tag":152,"props":1568,"children":1569},{"class":489,"line":565},[1570],{"type":35,"tag":152,"props":1571,"children":1572},{"style":713},[1573],{"type":46,"value":1574},"// 在文章页面之间路由时不会触发 onLoaded 事件，需要手动初始化\n",{"type":35,"tag":152,"props":1576,"children":1577},{"class":489,"line":574},[1578,1582,1586,1590,1594,1598],{"type":35,"tag":152,"props":1579,"children":1580},{"style":154},[1581],{"type":46,"value":965},{"type":35,"tag":152,"props":1583,"children":1584},{"style":442},[1585],{"type":46,"value":1001},{"type":35,"tag":152,"props":1587,"children":1588},{"style":643},[1589],{"type":46,"value":947},{"type":35,"tag":152,"props":1591,"children":1592},{"style":1008},[1593],{"type":46,"value":1011},{"type":35,"tag":152,"props":1595,"children":1596},{"style":154},[1597],{"type":46,"value":1353},{"type":35,"tag":152,"props":1599,"children":1600},{"style":442},[1601],{"type":46,"value":1602},"())\n",{"type":35,"tag":55,"props":1604,"children":1606},{"id":1605},"页面布局",[1607],{"type":46,"value":1605},{"type":35,"tag":42,"props":1609,"children":1610},{},[1611,1613,1621],{"type":46,"value":1612},"我参考了 Stellar 主题的左中右三栏布局。其中，右侧栏可以通过元数据或 Front Matter 中的 ",{"type":35,"tag":133,"props":1614,"children":1615},{"className":935,"language":936,"style":7},[1616],{"type":35,"tag":152,"props":1617,"children":1618},{"style":1080},[1619],{"type":46,"value":1620},"aside",{"type":46,"value":1622}," 数组来自定义组件。",{"type":35,"tag":42,"props":1624,"children":1625},{},[1626],{"type":46,"value":1627},"Stellar 主题使用 Grid 布局，而我选择借鉴 VitePress 默认主题的 Flex 布局实现方式，这样不仅兼容性更好，还能在隐藏右侧栏时让正文占据此空间。",{"type":35,"tag":479,"props":1629,"children":1633},{"className":1630,"code":1631,"filename":482,"language":1632,"meta":7,"style":7},"language-yaml shiki shiki-themes catppuccin-latte one-dark-pro","---\n# hideAside: true # 隐藏右侧栏\naside: [toc, github-card]\n---\n","yaml",[1634],{"type":35,"tag":133,"props":1635,"children":1636},{"__ignoreMap":7},[1637,1645,1653,1685],{"type":35,"tag":152,"props":1638,"children":1639},{"class":489,"line":490},[1640],{"type":35,"tag":152,"props":1641,"children":1643},{"style":1642},"--shiki-default:#EA76CB;--shiki-dark:#ABB2BF",[1644],{"type":46,"value":627},{"type":35,"tag":152,"props":1646,"children":1647},{"class":489,"line":504},[1648],{"type":35,"tag":152,"props":1649,"children":1650},{"style":713},[1651],{"type":46,"value":1652},"# hideAside: true # 隐藏右侧栏\n",{"type":35,"tag":152,"props":1654,"children":1655},{"class":489,"line":514},[1656,1660,1664,1668,1672,1676,1681],{"type":35,"tag":152,"props":1657,"children":1658},{"style":254},[1659],{"type":46,"value":1620},{"type":35,"tag":152,"props":1661,"children":1662},{"style":248},[1663],{"type":46,"value":640},{"type":35,"tag":152,"props":1665,"children":1666},{"style":643},[1667],{"type":46,"value":646},{"type":35,"tag":152,"props":1669,"children":1670},{"style":300},[1671],{"type":46,"value":20},{"type":35,"tag":152,"props":1673,"children":1674},{"style":643},[1675],{"type":46,"value":656},{"type":35,"tag":152,"props":1677,"children":1678},{"style":300},[1679],{"type":46,"value":1680}," github-card",{"type":35,"tag":152,"props":1682,"children":1683},{"style":643},[1684],{"type":46,"value":675},{"type":35,"tag":152,"props":1686,"children":1687},{"class":489,"line":523},[1688],{"type":35,"tag":152,"props":1689,"children":1690},{"style":1642},[1691],{"type":46,"value":627},{"type":35,"tag":42,"props":1693,"children":1694},{},[1695,1697,1704,1706,1714,1716,1751,1753,1776,1778,1786],{"type":46,"value":1696},"在处理侧边栏显隐的逻辑时，我起初复用了 ",{"type":35,"tag":133,"props":1698,"children":1699},{"className":935,"language":936,"style":7},[1700],{"type":35,"tag":152,"props":1701,"children":1702},{"style":1080},[1703],{"type":46,"value":1620},{"type":46,"value":1705},"，其值为 ",{"type":35,"tag":133,"props":1707,"children":1708},{"className":935,"language":936,"style":7},[1709],{"type":35,"tag":152,"props":1710,"children":1711},{"style":690},[1712],{"type":46,"value":1713},"false",{"type":46,"value":1715}," 时会隐藏侧边栏，但后来我发现这种写法意义不够明确，不利于其他人识别，尤其是代码中 ",{"type":35,"tag":133,"props":1717,"children":1718},{"className":935,"language":936,"style":7},[1719,1724,1728,1733,1737,1741,1746],{"type":35,"tag":152,"props":1720,"children":1721},{"style":1027},[1722],{"type":46,"value":1723},"route",{"type":35,"tag":152,"props":1725,"children":1726},{"style":248},[1727],{"type":46,"value":1046},{"type":35,"tag":152,"props":1729,"children":1730},{"style":1027},[1731],{"type":46,"value":1732},"meta",{"type":35,"tag":152,"props":1734,"children":1735},{"style":248},[1736],{"type":46,"value":1046},{"type":35,"tag":152,"props":1738,"children":1739},{"style":1080},[1740],{"type":46,"value":1620},{"type":35,"tag":152,"props":1742,"children":1743},{"style":1033},[1744],{"type":46,"value":1745}," !==",{"type":35,"tag":152,"props":1747,"children":1748},{"style":690},[1749],{"type":46,"value":1750}," false",{"type":46,"value":1752}," 的判断经常会被简化为 ",{"type":35,"tag":133,"props":1754,"children":1755},{"className":935,"language":936,"style":7},[1756,1760,1764,1768,1772],{"type":35,"tag":152,"props":1757,"children":1758},{"style":1027},[1759],{"type":46,"value":1723},{"type":35,"tag":152,"props":1761,"children":1762},{"style":248},[1763],{"type":46,"value":1046},{"type":35,"tag":152,"props":1765,"children":1766},{"style":1027},[1767],{"type":46,"value":1732},{"type":35,"tag":152,"props":1769,"children":1770},{"style":248},[1771],{"type":46,"value":1046},{"type":35,"tag":152,"props":1773,"children":1774},{"style":1080},[1775],{"type":46,"value":1620},{"type":46,"value":1777},"。在 isYangs 的建议下，我将隐藏侧边栏的逻辑移到了 ",{"type":35,"tag":133,"props":1779,"children":1780},{"className":935,"language":936,"style":7},[1781],{"type":35,"tag":152,"props":1782,"children":1783},{"style":1080},[1784],{"type":46,"value":1785},"hideAside",{"type":46,"value":1787}," 中，并修改了类型定义。",{"type":35,"tag":479,"props":1789,"children":1794},{"className":1790,"code":1791,"filename":1792,"language":1793,"meta":7,"style":7},"language-diff shiki shiki-themes catppuccin-latte one-dark-pro","declare module 'vue-router' {\n    interface RouteMeta {\n-       aside: string[] | false\n+       hideAside?: boolean\n+       aside: string[]\n    }\n}\n","types/index.ts","diff",[1795],{"type":35,"tag":133,"props":1796,"children":1797},{"__ignoreMap":7},[1798,1806,1814,1829,1843,1855,1862],{"type":35,"tag":152,"props":1799,"children":1800},{"class":489,"line":490},[1801],{"type":35,"tag":152,"props":1802,"children":1803},{"style":442},[1804],{"type":46,"value":1805},"declare module 'vue-router' {\n",{"type":35,"tag":152,"props":1807,"children":1808},{"class":489,"line":504},[1809],{"type":35,"tag":152,"props":1810,"children":1811},{"style":442},[1812],{"type":46,"value":1813},"    interface RouteMeta {\n",{"type":35,"tag":152,"props":1815,"children":1816},{"class":489,"line":514},[1817,1823],{"type":35,"tag":152,"props":1818,"children":1820},{"style":1819},"--shiki-default:#7C7F93;--shiki-dark:#E06C75",[1821],{"type":46,"value":1822},"-",{"type":35,"tag":152,"props":1824,"children":1826},{"style":1825},"--shiki-default:#D20F39;--shiki-dark:#E06C75",[1827],{"type":46,"value":1828},"       aside: string[] | false\n",{"type":35,"tag":152,"props":1830,"children":1831},{"class":489,"line":523},[1832,1838],{"type":35,"tag":152,"props":1833,"children":1835},{"style":1834},"--shiki-default:#7C7F93;--shiki-dark:#98C379",[1836],{"type":46,"value":1837},"+",{"type":35,"tag":152,"props":1839,"children":1840},{"style":300},[1841],{"type":46,"value":1842},"       hideAside?: boolean\n",{"type":35,"tag":152,"props":1844,"children":1845},{"class":489,"line":531},[1846,1850],{"type":35,"tag":152,"props":1847,"children":1848},{"style":1834},[1849],{"type":46,"value":1837},{"type":35,"tag":152,"props":1851,"children":1852},{"style":300},[1853],{"type":46,"value":1854},"       aside: string[]\n",{"type":35,"tag":152,"props":1856,"children":1857},{"class":489,"line":540},[1858],{"type":35,"tag":152,"props":1859,"children":1860},{"style":442},[1861],{"type":46,"value":1280},{"type":35,"tag":152,"props":1863,"children":1864},{"class":489,"line":548},[1865],{"type":35,"tag":152,"props":1866,"children":1867},{"style":442},[1868],{"type":46,"value":901},{"type":35,"tag":49,"props":1870,"children":1872},{"id":1871},"带动效应",[1873],{"type":46,"value":1871},{"type":35,"tag":55,"props":1875,"children":1877},{"id":1876},"汲取灵感",[1878],{"type":46,"value":1876},{"type":35,"tag":42,"props":1880,"children":1881},{},[1882],{"type":46,"value":1883},"我使用 Nuxt 和 Nuxt Content 开发博客时遇到了不少问题，但好在发现了不少使用 Nuxt Content 的小伙伴，他们的文章提供了不少灵感。",{"type":35,"tag":1885,"props":1886,"children":1887},"ul",{},[1888,1901,1921],{"type":35,"tag":1889,"props":1890,"children":1891},"li",{},[1892,1899],{"type":35,"tag":184,"props":1893,"children":1896},{"href":1894,"rel":1895},"https://blog.ahzoo.cn/p/511b3f9/",[188],[1897],{"type":46,"value":1898},"从Hexo到Nuxt，正式升级为动态博客！- Z次元",{"type":46,"value":1900},"：这篇文章来自我的友链，他的博客间接鼓励了我使用 Nuxt Content。",{"type":35,"tag":1889,"props":1902,"children":1903},{},[1904,1911,1913,1919],{"type":35,"tag":184,"props":1905,"children":1908},{"href":1906,"rel":1907},"https://hadb.me/posts/switch-blog-from-ghost-to-nuxt-content",[188],[1909],{"type":46,"value":1910},"博客从 Ghost 迁移至 Nuxt Content - HADB.ME",{"type":46,"value":1912},"：我开发博客时，他在 Wakatime 排行榜上每日代码时长、语言排名与我极其相似，再访问他的个人主页，原来他也在使用 Nuxt Content 构建博客，非常巧合。我参考了他的 ",{"type":35,"tag":133,"props":1914,"children":1916},{"className":1915},[],[1917],{"type":46,"value":1918},"atom.xml",{"type":46,"value":1920}," 生成逻辑。",{"type":35,"tag":1889,"props":1922,"children":1923},{},[1924,1931],{"type":35,"tag":184,"props":1925,"children":1928},{"href":1926,"rel":1927},"https://blog.gxres.net/posts/rebuild-my-blog-with-nuxt",[188],[1929],{"type":46,"value":1930},"使用 Nuxt 重构我的博客 - Restent's Notebook",{"type":46,"value":1932},"：刚开始参考了他的目录逻辑，但后来通过递归使用复用组件完成了逻辑，并做出了伴随滚动切换高亮项的目录。",{"type":35,"tag":55,"props":1934,"children":1936},{"id":1935},"开源反哺",[1937],{"type":46,"value":1935},{"type":35,"tag":42,"props":1939,"children":1940},{},[1941],{"type":46,"value":1942},"我在使用 Nuxt Content 开发博客时，为其他人提供了一些样式思路。博客交流群里也有不少小伙伴受到鼓舞，使用现代的前端框架重构博客。",{"type":35,"tag":49,"props":1944,"children":1946},{"id":1945},"兼容优化",[1947],{"type":46,"value":1945},{"type":35,"tag":55,"props":1949,"children":1951},{"id":1950},"样式特性",[1952],{"type":46,"value":1950},{"type":35,"tag":42,"props":1954,"children":1955},{},[1956],{"type":46,"value":1957},"当然，也少不了我们的老伙计——安卓上的夸克浏览器。",{"type":35,"tag":1959,"props":1960,"children":1961},"quote",{},[1962],{"type":35,"tag":42,"props":1963,"children":1964},{},[1965,1967,1972,1974,1979],{"type":46,"value":1966},"如果一个现代的前端网站能在夸克APP上正常运行，那么它的兼容性",{"type":35,"tag":325,"props":1968,"children":1969},{},[1970],{"type":46,"value":1971},"十分",{"type":46,"value":1973},"良好；如果它将兼容夸克APP，那么我认为这实在",{"type":35,"tag":325,"props":1975,"children":1976},{},[1977],{"type":46,"value":1978},"万分",{"type":46,"value":1980},"厉害。",{"type":35,"tag":42,"props":1982,"children":1983},{},[1984,1986,1994,1996,2002,2004,2022,2024,2031,2033,2041,2043,2058],{"type":46,"value":1985},"它除了不支持五年前的 ",{"type":35,"tag":133,"props":1987,"children":1988},{"className":313,"language":314,"style":7},[1989],{"type":35,"tag":152,"props":1990,"children":1991},{"style":254},[1992],{"type":46,"value":1993},"prefers-color-scheme",{"type":46,"value":1995}," 特性外，我还在测试环节留意到诸如 ",{"type":35,"tag":133,"props":1997,"children":1999},{"className":1998},[],[2000],{"type":46,"value":2001},"dvh",{"type":46,"value":2003}," 的动态视口单位、",{"type":35,"tag":133,"props":2005,"children":2006},{"className":313,"language":314,"style":7},[2007,2012,2017],{"type":35,"tag":152,"props":2008,"children":2010},{"style":2009},"--shiki-default:#7C7F93;--shiki-dark:#56B6C2",[2011],{"type":46,"value":640},{"type":35,"tag":152,"props":2013,"children":2014},{"style":1033},[2015],{"type":46,"value":2016},"has",{"type":35,"tag":152,"props":2018,"children":2020},{"style":2019},"--shiki-default:#7C7F93;--shiki-dark:#C678DD",[2021],{"type":46,"value":947},{"type":46,"value":2023}," 函数式伪类等新特性也不受支持。对于动态视口单位，我通过多个声明语句渐进覆盖，「风记星辰」的站长「宇」推荐我阅读 ",{"type":35,"tag":184,"props":2025,"children":2028},{"href":2026,"rel":2027},"https://www.thyuu.com/72670#%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88",[188],[2029],{"type":46,"value":2030},"2023年应该重新定义的CSS习惯(一)",{"type":46,"value":2032},"，使用更优雅的媒体查询 ",{"type":35,"tag":133,"props":2034,"children":2035},{"className":313,"language":314,"style":7},[2036],{"type":35,"tag":152,"props":2037,"children":2038},{"style":318},[2039],{"type":46,"value":2040},"@supports",{"type":46,"value":2042}," 写法。对于 ",{"type":35,"tag":133,"props":2044,"children":2045},{"className":313,"language":314,"style":7},[2046,2050,2054],{"type":35,"tag":152,"props":2047,"children":2048},{"style":2009},[2049],{"type":46,"value":640},{"type":35,"tag":152,"props":2051,"children":2052},{"style":1033},[2053],{"type":46,"value":2016},{"type":35,"tag":152,"props":2055,"children":2056},{"style":2019},[2057],{"type":46,"value":947},{"type":46,"value":2059}," 函数式伪类，我通过 Vue 的动态 class 绑定解决。",{"type":35,"tag":1959,"props":2061,"children":2062},{},[2063],{"type":35,"tag":42,"props":2064,"children":2065},{},[2066],{"type":46,"value":2067},"代码越少，越使用新特性。越使用新特性，兼容性越差。兼容性越差，越需要更多的兼容性代码。所以代码越少，代码就越多。",{"type":35,"tag":55,"props":2069,"children":2071},{"id":2070},"ssg-ssr",[2072],{"type":46,"value":2073},"SSG != SSR",{"type":35,"tag":42,"props":2075,"children":2076},{},[2077],{"type":46,"value":2078},"Nuxt 之 SSR 开发体验，善也。然限于 Vercel 之速，以 SSG 部署尔。",{"type":35,"tag":42,"props":2080,"children":2081},{},[2082],{"type":46,"value":2083},"上文样式之扰仅为滥觞，代码之兼容性亦困我于囹圄。幸有 KazariEX 助我。",{"type":35,"tag":42,"props":2085,"children":2086},{},[2087,2089,2110,2112,2117,2148],{"type":46,"value":2088},"其一为 ",{"type":35,"tag":133,"props":2090,"children":2091},{"className":935,"language":936,"style":7},[2092,2097,2101,2106],{"type":35,"tag":152,"props":2093,"children":2094},{"style":1027},[2095],{"type":46,"value":2096},"Object",{"type":35,"tag":152,"props":2098,"children":2099},{"style":248},[2100],{"type":46,"value":1046},{"type":35,"tag":152,"props":2102,"children":2103},{"style":154},[2104],{"type":46,"value":2105},"groupBy",{"type":35,"tag":152,"props":2107,"children":2108},{"style":442},[2109],{"type":46,"value":947},{"type":46,"value":2111},"——本地体验大善，上云部署错误，观之为 Node.js 20 环境，果断升至 22。此后正常部署，本地体验正常。",{"type":35,"tag":325,"props":2113,"children":2114},{},[2115],{"type":46,"value":2116},"喜笑颜开之时，掏出夸克APP。不喜。",{"type":35,"tag":133,"props":2118,"children":2119},{"className":935,"language":936,"style":7},[2120,2125,2129,2134,2138,2143],{"type":35,"tag":152,"props":2121,"children":2122},{"style":318},[2123],{"type":46,"value":2124},"import",{"type":35,"tag":152,"props":2126,"children":2127},{"style":643},[2128],{"type":46,"value":1543},{"type":35,"tag":152,"props":2130,"children":2131},{"style":1080},[2132],{"type":46,"value":2133}," group",{"type":35,"tag":152,"props":2135,"children":2136},{"style":643},[2137],{"type":46,"value":1562},{"type":35,"tag":152,"props":2139,"children":2140},{"style":318},[2141],{"type":46,"value":2142}," from",{"type":35,"tag":152,"props":2144,"children":2145},{"style":300},[2146],{"type":46,"value":2147}," 'radash'",{"type":46,"value":2149}," 解决之。",{"type":35,"tag":42,"props":2151,"children":2152},{},[2153,2155,2186,2188,2216,2218,2223,2251],{"type":46,"value":2154},"其二为 ",{"type":35,"tag":133,"props":2156,"children":2157},{"className":935,"language":936,"style":7},[2158,2164,2168,2173,2177,2182],{"type":35,"tag":152,"props":2159,"children":2161},{"style":2160},"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit",[2162],{"type":46,"value":2163},"Array",{"type":35,"tag":152,"props":2165,"children":2166},{"style":248},[2167],{"type":46,"value":1046},{"type":35,"tag":152,"props":2169,"children":2170},{"style":1080},[2171],{"type":46,"value":2172},"prototype",{"type":35,"tag":152,"props":2174,"children":2175},{"style":248},[2176],{"type":46,"value":1046},{"type":35,"tag":152,"props":2178,"children":2179},{"style":154},[2180],{"type":46,"value":2181},"sort",{"type":35,"tag":152,"props":2183,"children":2184},{"style":442},[2185],{"type":46,"value":947},{"type":46,"value":2187},"。此为修改方法而非复制方法，会破坏响应性。忽闻 ",{"type":35,"tag":133,"props":2189,"children":2190},{"className":935,"language":936,"style":7},[2191,2195,2199,2203,2207,2212],{"type":35,"tag":152,"props":2192,"children":2193},{"style":2160},[2194],{"type":46,"value":2163},{"type":35,"tag":152,"props":2196,"children":2197},{"style":248},[2198],{"type":46,"value":1046},{"type":35,"tag":152,"props":2200,"children":2201},{"style":1080},[2202],{"type":46,"value":2172},{"type":35,"tag":152,"props":2204,"children":2205},{"style":248},[2206],{"type":46,"value":1046},{"type":35,"tag":152,"props":2208,"children":2209},{"style":154},[2210],{"type":46,"value":2211},"toSorted",{"type":35,"tag":152,"props":2213,"children":2214},{"style":442},[2215],{"type":46,"value":947},{"type":46,"value":2217},"，大喜，如获至宝，遂部署。",{"type":35,"tag":325,"props":2219,"children":2220},{},[2221],{"type":46,"value":2222},"复掏出夸克APP。不喜。",{"type":35,"tag":133,"props":2224,"children":2225},{"className":935,"language":936,"style":7},[2226,2230,2234,2239,2243,2247],{"type":35,"tag":152,"props":2227,"children":2228},{"style":318},[2229],{"type":46,"value":2124},{"type":35,"tag":152,"props":2231,"children":2232},{"style":643},[2233],{"type":46,"value":1543},{"type":35,"tag":152,"props":2235,"children":2236},{"style":1080},[2237],{"type":46,"value":2238}," alphabetical",{"type":35,"tag":152,"props":2240,"children":2241},{"style":643},[2242],{"type":46,"value":1562},{"type":35,"tag":152,"props":2244,"children":2245},{"style":318},[2246],{"type":46,"value":2142},{"type":35,"tag":152,"props":2248,"children":2249},{"style":300},[2250],{"type":46,"value":2147},{"type":46,"value":2149},{"type":35,"tag":42,"props":2253,"children":2254},{},[2255,2257,2285,2287,2292,2294,2321],{"type":46,"value":2256},"其三为 ",{"type":35,"tag":133,"props":2258,"children":2259},{"className":935,"language":936,"style":7},[2260,2264,2268,2272,2276,2281],{"type":35,"tag":152,"props":2261,"children":2262},{"style":2160},[2263],{"type":46,"value":2163},{"type":35,"tag":152,"props":2265,"children":2266},{"style":248},[2267],{"type":46,"value":1046},{"type":35,"tag":152,"props":2269,"children":2270},{"style":1080},[2271],{"type":46,"value":2172},{"type":35,"tag":152,"props":2273,"children":2274},{"style":248},[2275],{"type":46,"value":1046},{"type":35,"tag":152,"props":2277,"children":2278},{"style":154},[2279],{"type":46,"value":2280},"at",{"type":35,"tag":152,"props":2282,"children":2283},{"style":442},[2284],{"type":46,"value":947},{"type":46,"value":2286},"。开启 Chrome 88，发觉友链页面先正常加载后报错。此为 SSG 与 CSR ",{"type":35,"tag":325,"props":2288,"children":2289},{},[2290],{"type":46,"value":2291},"水合不匹配",{"type":46,"value":2293},"，经查，友链页面提取域名之函数使用 ",{"type":35,"tag":133,"props":2295,"children":2296},{"className":935,"language":936,"style":7},[2297,2301,2305,2309,2313,2317],{"type":35,"tag":152,"props":2298,"children":2299},{"style":2160},[2300],{"type":46,"value":2163},{"type":35,"tag":152,"props":2302,"children":2303},{"style":248},[2304],{"type":46,"value":1046},{"type":35,"tag":152,"props":2306,"children":2307},{"style":1080},[2308],{"type":46,"value":2172},{"type":35,"tag":152,"props":2310,"children":2311},{"style":248},[2312],{"type":46,"value":1046},{"type":35,"tag":152,"props":2314,"children":2315},{"style":154},[2316],{"type":46,"value":2280},{"type":35,"tag":152,"props":2318,"children":2319},{"style":442},[2320],{"type":46,"value":947},{"type":46,"value":2322},"，而 Chrome 92 之前无此方法。遂改之。",{"type":35,"tag":42,"props":2324,"children":2325},{},[2326,2328,2334,2336,2342],{"type":46,"value":2327},"其四为 SSG 下 HTML 属性 (attrs) 响应性之缺失。初，使用 URL 之查询参数 ",{"type":35,"tag":133,"props":2329,"children":2331},{"className":2330},[],[2332],{"type":46,"value":2333},"?page=",{"type":46,"value":2335}," 以定页面，点击翻页功能如常，然刷新时渲染不符预期。测试 attrs 时，发现其难以具备响应性，遂弃查询参数，以 Vue Router 之动态路由匹配 ",{"type":35,"tag":133,"props":2337,"children":2339},{"className":2338},[],[2340],{"type":46,"value":2341},"/page/:page",{"type":46,"value":2343}," 替之。",{"type":35,"tag":42,"props":2345,"children":2346},{},[2347],{"type":46,"value":2348},"其五为 SSG 下侧栏组件篡位。侧栏目录 (TOC) 组件在换文之时，会悄然以新文数据覆于旧文缓存中，偶以极其复杂之触发条件令其原形毕现，遂通过侧栏动态组件之 key 断其生命周期，乃造新 TOC 于新文而非旧 TOC 监听 URL 路径以篡其数据也。",{"type":35,"tag":42,"props":2350,"children":2351},{},[2352],{"type":46,"value":2353},"SSG 之 Bug 种种，实扰人耳。",{"type":35,"tag":55,"props":2355,"children":2357},{"id":2356},"bug-排查",[2358],{"type":46,"value":2359},"Bug 排查",{"type":35,"tag":42,"props":2361,"children":2362},{},[2363],{"type":46,"value":2364},"发现了 Bug，当然要快速定位问题。还好我使用的是 Vercel，它提供了历史部署版本的快照，通过访问旧部署，即可快速定位到 Commit 和出现问题的代码。",{"type":35,"tag":42,"props":2366,"children":2367},{},[2368],{"type":46,"value":2369},"然后只需要修复就行。至少听起来十分轻松。",{"type":35,"tag":42,"props":2371,"children":2372},{},[2373],{"type":46,"value":2374},"嗯，我还会留下注释，防止自己后续优化代码时又改回可能导致 Bug 的写法。",{"type":35,"tag":1959,"props":2376,"children":2377},{},[2378],{"type":35,"tag":42,"props":2379,"children":2380},{},[2381],{"type":46,"value":2382},"在这个项目里，没有一行注释是无辜的。",{"type":35,"tag":55,"props":2384,"children":2386},{"id":2385},"列表负载",[2387],{"type":46,"value":2385},{"type":35,"tag":42,"props":2389,"children":2390},{},[2391,2393,2399],{"type":46,"value":2392},"我善于观察异常的苗头，因此发现了许多容易被忽视的问题。例如，我的博客上线第一天，相比于旧博客的带宽消耗翻了番。经过排查，首页、归档页面加载时，会附带一个约 2MB 的 ",{"type":35,"tag":133,"props":2394,"children":2396},{"className":2395},[],[2397],{"type":46,"value":2398},"payload.json",{"type":46,"value":2400},"，细看发现竟含有我全站的文章元数据和正文内容。",{"type":35,"tag":42,"props":2402,"children":2403},{},[2404,2406,2421],{"type":46,"value":2405},"KazariEX 猜我没学过数据库，因为我犯了类似 ",{"type":35,"tag":133,"props":2407,"children":2410},{"className":2408,"language":2409,"style":7},"language-sql shiki shiki-themes catppuccin-latte one-dark-pro","sql",[2411,2416],{"type":35,"tag":152,"props":2412,"children":2413},{"style":318},[2414],{"type":46,"value":2415},"select",{"type":35,"tag":152,"props":2417,"children":2418},{"style":248},[2419],{"type":46,"value":2420}," *",{"type":46,"value":2422}," 的错误。而我也确实没学过，毕竟这学期才会有《数据库原理与应用》课程。",{"type":35,"tag":42,"props":2424,"children":2425},{},[2426,2428,2434],{"type":46,"value":2427},"不过凭直觉，应该在查询结果中排除 ",{"type":35,"tag":133,"props":2429,"children":2431},{"className":2430},[],[2432],{"type":46,"value":2433},"body",{"type":46,"value":2435}," 字段，后来我改成只选择指定字段，需要什么就加什么。虽然 Nuxt 相比于 Vue 不用手动书写 Vue 内置函数、组件、工具函数、组合式函数的导入语句，但在 Nuxt Content 的编程模式下，我仍需审慎组合、使用它提供的 API。",{"type":35,"tag":55,"props":2437,"children":2439},{"id":2438},"seo",[2440],{"type":46,"value":2441},"SEO",{"type":35,"tag":42,"props":2443,"children":2444},{},[2445],{"type":46,"value":2446},"2024年8月24日是我博客历史上灰暗的一天，因为我的必应和谷歌搜索流量几乎置零。",{"type":35,"tag":42,"props":2448,"children":2449},{},[2450,2452,2458,2460,2466],{"type":46,"value":2451},"我的所有页面被错误的打上了 ",{"type":35,"tag":133,"props":2453,"children":2455},{"className":2454},[],[2456],{"type":46,"value":2457},"noindex",{"type":46,"value":2459}," 标记，这将阻止搜索引擎索引我的博客；我的 ",{"type":35,"tag":133,"props":2461,"children":2463},{"className":2462},[],[2464],{"type":46,"value":2465},"sitemap.xml",{"type":46,"value":2467}," 为空，这相当于博客告诉搜索引擎自己没有内容。",{"type":35,"tag":42,"props":2469,"children":2470},{},[2471,2473,2479,2481,2487,2489,2496],{"type":46,"value":2472},"在我起初引入 ",{"type":35,"tag":133,"props":2474,"children":2476},{"className":2475},[],[2477],{"type":46,"value":2478},"@nuxtjs/seo@2.0.0-rc.16",{"type":46,"value":2480}," 时一切检查正常，但在一次依赖更新后，改变悄然发生。有用户在 ",{"type":35,"tag":133,"props":2482,"children":2484},{"className":2483},[],[2485],{"type":46,"value":2486},"@nuxtjs/seo@2.0.0-rc.18",{"type":46,"value":2488}," ",{"type":35,"tag":184,"props":2490,"children":2493},{"href":2491,"rel":2492},"https://github.com/harlan-zw/nuxt-seo/issues/296",[188],[2494],{"type":46,"value":2495},"报告了空 sitemap 问题",{"type":46,"value":2497},"，开发者讲虽然有一个“轻微的 (slightly) 破坏性 (breaking) 更改”，但造成空 sitemap 另有其因，应当升级依赖。",{"type":35,"tag":55,"props":2499,"children":2501},{"id":2500},"来自未来的文章",[2502],{"type":46,"value":2500},{"type":35,"tag":42,"props":2504,"children":2505},{},[2506,2508,2520,2522,2556,2557,2586],{"type":46,"value":2507},"YAML 会以 UTC 时区解析 Front Matter 中的时间，刚更新的文章常常显示来自“8小时后”，但我希望以本地时区解析。刚开始修改了 ",{"type":35,"tag":133,"props":2509,"children":2510},{"className":935,"language":936,"style":7},[2511,2516],{"type":35,"tag":152,"props":2512,"children":2513},{"style":154},[2514],{"type":46,"value":2515},"getPostDate",{"type":35,"tag":152,"props":2517,"children":2518},{"style":442},[2519],{"type":46,"value":947},{"type":46,"value":2521}," 函数，但语义化的 ",{"type":35,"tag":2523,"props":2524,"children":2525},"del",{},[2526],{"type":35,"tag":133,"props":2527,"children":2528},{"className":243,"language":244,"style":7},[2529,2533,2538,2543,2547,2552],{"type":35,"tag":152,"props":2530,"children":2531},{"style":248},[2532],{"type":46,"value":251},{"type":35,"tag":152,"props":2534,"children":2535},{"style":254},[2536],{"type":46,"value":2537},"time",{"type":35,"tag":152,"props":2539,"children":2540},{"style":729},[2541],{"type":46,"value":2542}," datetime",{"type":35,"tag":152,"props":2544,"children":2545},{"style":248},[2546],{"type":46,"value":814},{"type":35,"tag":152,"props":2548,"children":2549},{"style":300},[2550],{"type":46,"value":2551},"\"{{ date }}\"",{"type":35,"tag":152,"props":2553,"children":2554},{"style":248},[2555],{"type":46,"value":262},{"type":46,"value":2488},{"type":35,"tag":133,"props":2558,"children":2559},{"className":243,"language":244,"style":7},[2560,2564,2568,2573,2577,2582],{"type":35,"tag":152,"props":2561,"children":2562},{"style":248},[2563],{"type":46,"value":251},{"type":35,"tag":152,"props":2565,"children":2566},{"style":254},[2567],{"type":46,"value":2537},{"type":35,"tag":152,"props":2569,"children":2570},{"style":729},[2571],{"type":46,"value":2572}," :datetime",{"type":35,"tag":152,"props":2574,"children":2575},{"style":248},[2576],{"type":46,"value":814},{"type":35,"tag":152,"props":2578,"children":2579},{"style":300},[2580],{"type":46,"value":2581},"\"date\"",{"type":35,"tag":152,"props":2583,"children":2584},{"style":248},[2585],{"type":46,"value":262},{"type":46,"value":2587}," 标签依旧不符合规范，因此编写了这个 Nitro 插件用于修正时区。",{"type":35,"tag":479,"props":2589,"children":2592},{"className":982,"code":2590,"filename":2591,"language":985,"meta":7,"style":7},"import { getTimezoneOffset } from 'date-fns-tz'\nimport blogConfig from '~~/blog.config'\n\nconst timezoneOffset = getTimezoneOffset(blogConfig.timezone)\n\nexport default defineNitroPlugin((nitroApp) => {\n    nitroApp.hooks.hook('content:file:afterParse', (file) => {\n        if (file.date) {\n            file.date = new Date(new Date(file.date).getTime() - timezoneOffset)\n        }\n        if (file.updated) {\n            file.updated = new Date(new Date(file.updated).getTime() - timezoneOffset)\n        }\n    })\n})\n","server/plugins/fixPostTimezone.ts",[2593],{"type":35,"tag":133,"props":2594,"children":2595},{"__ignoreMap":7},[2596,2625,2646,2653,2696,2703,2748,2809,2843,2933,2941,2973,3056,3063,3075],{"type":35,"tag":152,"props":2597,"children":2598},{"class":489,"line":490},[2599,2603,2607,2612,2616,2620],{"type":35,"tag":152,"props":2600,"children":2601},{"style":318},[2602],{"type":46,"value":2124},{"type":35,"tag":152,"props":2604,"children":2605},{"style":643},[2606],{"type":46,"value":1543},{"type":35,"tag":152,"props":2608,"children":2609},{"style":1080},[2610],{"type":46,"value":2611}," getTimezoneOffset",{"type":35,"tag":152,"props":2613,"children":2614},{"style":643},[2615],{"type":46,"value":1562},{"type":35,"tag":152,"props":2617,"children":2618},{"style":318},[2619],{"type":46,"value":2142},{"type":35,"tag":152,"props":2621,"children":2622},{"style":300},[2623],{"type":46,"value":2624}," 'date-fns-tz'\n",{"type":35,"tag":152,"props":2626,"children":2627},{"class":489,"line":504},[2628,2632,2637,2641],{"type":35,"tag":152,"props":2629,"children":2630},{"style":318},[2631],{"type":46,"value":2124},{"type":35,"tag":152,"props":2633,"children":2634},{"style":1080},[2635],{"type":46,"value":2636}," blogConfig",{"type":35,"tag":152,"props":2638,"children":2639},{"style":318},[2640],{"type":46,"value":2142},{"type":35,"tag":152,"props":2642,"children":2643},{"style":300},[2644],{"type":46,"value":2645}," '~~/blog.config'\n",{"type":35,"tag":152,"props":2647,"children":2648},{"class":489,"line":514},[2649],{"type":35,"tag":152,"props":2650,"children":2651},{"emptyLinePlaceholder":508},[2652],{"type":46,"value":511},{"type":35,"tag":152,"props":2654,"children":2655},{"class":489,"line":523},[2656,2661,2666,2670,2674,2678,2683,2687,2692],{"type":35,"tag":152,"props":2657,"children":2658},{"style":318},[2659],{"type":46,"value":2660},"const",{"type":35,"tag":152,"props":2662,"children":2663},{"style":1027},[2664],{"type":46,"value":2665}," timezoneOffset",{"type":35,"tag":152,"props":2667,"children":2668},{"style":1033},[2669],{"type":46,"value":1036},{"type":35,"tag":152,"props":2671,"children":2672},{"style":154},[2673],{"type":46,"value":2611},{"type":35,"tag":152,"props":2675,"children":2676},{"style":442},[2677],{"type":46,"value":1001},{"type":35,"tag":152,"props":2679,"children":2680},{"style":1027},[2681],{"type":46,"value":2682},"blogConfig",{"type":35,"tag":152,"props":2684,"children":2685},{"style":248},[2686],{"type":46,"value":1046},{"type":35,"tag":152,"props":2688,"children":2689},{"style":1080},[2690],{"type":46,"value":2691},"timezone",{"type":35,"tag":152,"props":2693,"children":2694},{"style":442},[2695],{"type":46,"value":1065},{"type":35,"tag":152,"props":2697,"children":2698},{"class":489,"line":531},[2699],{"type":35,"tag":152,"props":2700,"children":2701},{"emptyLinePlaceholder":508},[2702],{"type":46,"value":511},{"type":35,"tag":152,"props":2704,"children":2705},{"class":489,"line":540},[2706,2711,2716,2721,2725,2729,2735,2740,2744],{"type":35,"tag":152,"props":2707,"children":2708},{"style":318},[2709],{"type":46,"value":2710},"export",{"type":35,"tag":152,"props":2712,"children":2713},{"style":318},[2714],{"type":46,"value":2715}," default",{"type":35,"tag":152,"props":2717,"children":2718},{"style":154},[2719],{"type":46,"value":2720}," defineNitroPlugin",{"type":35,"tag":152,"props":2722,"children":2723},{"style":442},[2724],{"type":46,"value":1001},{"type":35,"tag":152,"props":2726,"children":2727},{"style":643},[2728],{"type":46,"value":1001},{"type":35,"tag":152,"props":2730,"children":2732},{"style":2731},"--shiki-default:#E64553;--shiki-default-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic",[2733],{"type":46,"value":2734},"nitroApp",{"type":35,"tag":152,"props":2736,"children":2737},{"style":643},[2738],{"type":46,"value":2739},")",{"type":35,"tag":152,"props":2741,"children":2742},{"style":1008},[2743],{"type":46,"value":1011},{"type":35,"tag":152,"props":2745,"children":2746},{"style":643},[2747],{"type":46,"value":1016},{"type":35,"tag":152,"props":2749,"children":2750},{"class":489,"line":548},[2751,2756,2760,2765,2769,2774,2778,2783,2787,2792,2797,2801,2805],{"type":35,"tag":152,"props":2752,"children":2753},{"style":1027},[2754],{"type":46,"value":2755},"    nitroApp",{"type":35,"tag":152,"props":2757,"children":2758},{"style":248},[2759],{"type":46,"value":1046},{"type":35,"tag":152,"props":2761,"children":2762},{"style":1027},[2763],{"type":46,"value":2764},"hooks",{"type":35,"tag":152,"props":2766,"children":2767},{"style":248},[2768],{"type":46,"value":1046},{"type":35,"tag":152,"props":2770,"children":2771},{"style":154},[2772],{"type":46,"value":2773},"hook",{"type":35,"tag":152,"props":2775,"children":2776},{"style":442},[2777],{"type":46,"value":1001},{"type":35,"tag":152,"props":2779,"children":2780},{"style":300},[2781],{"type":46,"value":2782},"'content:file:afterParse'",{"type":35,"tag":152,"props":2784,"children":2785},{"style":643},[2786],{"type":46,"value":656},{"type":35,"tag":152,"props":2788,"children":2789},{"style":643},[2790],{"type":46,"value":2791}," (",{"type":35,"tag":152,"props":2793,"children":2794},{"style":2731},[2795],{"type":46,"value":2796},"file",{"type":35,"tag":152,"props":2798,"children":2799},{"style":643},[2800],{"type":46,"value":2739},{"type":35,"tag":152,"props":2802,"children":2803},{"style":1008},[2804],{"type":46,"value":1011},{"type":35,"tag":152,"props":2806,"children":2807},{"style":643},[2808],{"type":46,"value":1016},{"type":35,"tag":152,"props":2810,"children":2811},{"class":489,"line":557},[2812,2817,2821,2825,2829,2834,2839],{"type":35,"tag":152,"props":2813,"children":2814},{"style":318},[2815],{"type":46,"value":2816},"        if",{"type":35,"tag":152,"props":2818,"children":2819},{"style":442},[2820],{"type":46,"value":2791},{"type":35,"tag":152,"props":2822,"children":2823},{"style":1027},[2824],{"type":46,"value":2796},{"type":35,"tag":152,"props":2826,"children":2827},{"style":248},[2828],{"type":46,"value":1046},{"type":35,"tag":152,"props":2830,"children":2831},{"style":1080},[2832],{"type":46,"value":2833},"date",{"type":35,"tag":152,"props":2835,"children":2836},{"style":442},[2837],{"type":46,"value":2838},") ",{"type":35,"tag":152,"props":2840,"children":2841},{"style":643},[2842],{"type":46,"value":1201},{"type":35,"tag":152,"props":2844,"children":2845},{"class":489,"line":565},[2846,2851,2855,2859,2863,2869,2874,2878,2883,2887,2891,2895,2899,2903,2907,2911,2916,2921,2925,2929],{"type":35,"tag":152,"props":2847,"children":2848},{"style":1027},[2849],{"type":46,"value":2850},"            file",{"type":35,"tag":152,"props":2852,"children":2853},{"style":248},[2854],{"type":46,"value":1046},{"type":35,"tag":152,"props":2856,"children":2857},{"style":1080},[2858],{"type":46,"value":2833},{"type":35,"tag":152,"props":2860,"children":2861},{"style":1033},[2862],{"type":46,"value":1036},{"type":35,"tag":152,"props":2864,"children":2866},{"style":2865},"--shiki-default:#8839EF;--shiki-default-font-weight:bold;--shiki-dark:#C678DD;--shiki-dark-font-weight:inherit",[2867],{"type":46,"value":2868}," new",{"type":35,"tag":152,"props":2870,"children":2871},{"style":154},[2872],{"type":46,"value":2873}," Date",{"type":35,"tag":152,"props":2875,"children":2876},{"style":442},[2877],{"type":46,"value":1001},{"type":35,"tag":152,"props":2879,"children":2880},{"style":2865},[2881],{"type":46,"value":2882},"new",{"type":35,"tag":152,"props":2884,"children":2885},{"style":154},[2886],{"type":46,"value":2873},{"type":35,"tag":152,"props":2888,"children":2889},{"style":442},[2890],{"type":46,"value":1001},{"type":35,"tag":152,"props":2892,"children":2893},{"style":1027},[2894],{"type":46,"value":2796},{"type":35,"tag":152,"props":2896,"children":2897},{"style":248},[2898],{"type":46,"value":1046},{"type":35,"tag":152,"props":2900,"children":2901},{"style":1080},[2902],{"type":46,"value":2833},{"type":35,"tag":152,"props":2904,"children":2905},{"style":442},[2906],{"type":46,"value":2739},{"type":35,"tag":152,"props":2908,"children":2909},{"style":248},[2910],{"type":46,"value":1046},{"type":35,"tag":152,"props":2912,"children":2913},{"style":154},[2914],{"type":46,"value":2915},"getTime",{"type":35,"tag":152,"props":2917,"children":2918},{"style":442},[2919],{"type":46,"value":2920},"() ",{"type":35,"tag":152,"props":2922,"children":2923},{"style":1033},[2924],{"type":46,"value":1822},{"type":35,"tag":152,"props":2926,"children":2927},{"style":1080},[2928],{"type":46,"value":2665},{"type":35,"tag":152,"props":2930,"children":2931},{"style":442},[2932],{"type":46,"value":1065},{"type":35,"tag":152,"props":2934,"children":2935},{"class":489,"line":574},[2936],{"type":35,"tag":152,"props":2937,"children":2938},{"style":643},[2939],{"type":46,"value":2940},"        }\n",{"type":35,"tag":152,"props":2942,"children":2943},{"class":489,"line":583},[2944,2948,2952,2956,2960,2965,2969],{"type":35,"tag":152,"props":2945,"children":2946},{"style":318},[2947],{"type":46,"value":2816},{"type":35,"tag":152,"props":2949,"children":2950},{"style":442},[2951],{"type":46,"value":2791},{"type":35,"tag":152,"props":2953,"children":2954},{"style":1027},[2955],{"type":46,"value":2796},{"type":35,"tag":152,"props":2957,"children":2958},{"style":248},[2959],{"type":46,"value":1046},{"type":35,"tag":152,"props":2961,"children":2962},{"style":1080},[2963],{"type":46,"value":2964},"updated",{"type":35,"tag":152,"props":2966,"children":2967},{"style":442},[2968],{"type":46,"value":2838},{"type":35,"tag":152,"props":2970,"children":2971},{"style":643},[2972],{"type":46,"value":1201},{"type":35,"tag":152,"props":2974,"children":2975},{"class":489,"line":591},[2976,2980,2984,2988,2992,2996,3000,3004,3008,3012,3016,3020,3024,3028,3032,3036,3040,3044,3048,3052],{"type":35,"tag":152,"props":2977,"children":2978},{"style":1027},[2979],{"type":46,"value":2850},{"type":35,"tag":152,"props":2981,"children":2982},{"style":248},[2983],{"type":46,"value":1046},{"type":35,"tag":152,"props":2985,"children":2986},{"style":1080},[2987],{"type":46,"value":2964},{"type":35,"tag":152,"props":2989,"children":2990},{"style":1033},[2991],{"type":46,"value":1036},{"type":35,"tag":152,"props":2993,"children":2994},{"style":2865},[2995],{"type":46,"value":2868},{"type":35,"tag":152,"props":2997,"children":2998},{"style":154},[2999],{"type":46,"value":2873},{"type":35,"tag":152,"props":3001,"children":3002},{"style":442},[3003],{"type":46,"value":1001},{"type":35,"tag":152,"props":3005,"children":3006},{"style":2865},[3007],{"type":46,"value":2882},{"type":35,"tag":152,"props":3009,"children":3010},{"style":154},[3011],{"type":46,"value":2873},{"type":35,"tag":152,"props":3013,"children":3014},{"style":442},[3015],{"type":46,"value":1001},{"type":35,"tag":152,"props":3017,"children":3018},{"style":1027},[3019],{"type":46,"value":2796},{"type":35,"tag":152,"props":3021,"children":3022},{"style":248},[3023],{"type":46,"value":1046},{"type":35,"tag":152,"props":3025,"children":3026},{"style":1080},[3027],{"type":46,"value":2964},{"type":35,"tag":152,"props":3029,"children":3030},{"style":442},[3031],{"type":46,"value":2739},{"type":35,"tag":152,"props":3033,"children":3034},{"style":248},[3035],{"type":46,"value":1046},{"type":35,"tag":152,"props":3037,"children":3038},{"style":154},[3039],{"type":46,"value":2915},{"type":35,"tag":152,"props":3041,"children":3042},{"style":442},[3043],{"type":46,"value":2920},{"type":35,"tag":152,"props":3045,"children":3046},{"style":1033},[3047],{"type":46,"value":1822},{"type":35,"tag":152,"props":3049,"children":3050},{"style":1080},[3051],{"type":46,"value":2665},{"type":35,"tag":152,"props":3053,"children":3054},{"style":442},[3055],{"type":46,"value":1065},{"type":35,"tag":152,"props":3057,"children":3058},{"class":489,"line":775},[3059],{"type":35,"tag":152,"props":3060,"children":3061},{"style":643},[3062],{"type":46,"value":2940},{"type":35,"tag":152,"props":3064,"children":3066},{"class":489,"line":3065},14,[3067,3071],{"type":35,"tag":152,"props":3068,"children":3069},{"style":643},[3070],{"type":46,"value":1463},{"type":35,"tag":152,"props":3072,"children":3073},{"style":442},[3074],{"type":46,"value":1065},{"type":35,"tag":152,"props":3076,"children":3078},{"class":489,"line":3077},15,[3079,3083],{"type":35,"tag":152,"props":3080,"children":3081},{"style":643},[3082],{"type":46,"value":1326},{"type":35,"tag":152,"props":3084,"children":3085},{"style":442},[3086],{"type":46,"value":1065},{"type":35,"tag":42,"props":3088,"children":3089},{},[3090],{"type":46,"value":3091},"Nuxt 虽然是热更新，但我甚至重启开发环境都不能确保其生效，必须手动清除缓存。",{"type":35,"tag":55,"props":3093,"children":3095},{"id":3094},"颜色追求",[3096],{"type":46,"value":3094},{"type":35,"tag":36,"props":3098,"children":3099},{},[3100,3116],{"type":35,"tag":475,"props":3101,"children":3102},{"v-slot:title":7},[3103],{"type":35,"tag":42,"props":3104,"children":3105},{},[3106,3108,3114],{"type":46,"value":3107},"行内代码 ",{"type":35,"tag":133,"props":3109,"children":3111},{"className":3110},[],[3112],{"type":46,"value":3113},"inline-code",{"type":46,"value":3115}," 的需求",{"type":35,"tag":42,"props":3117,"children":3118},{},[3119,3121,3129,3131,3139],{"type":46,"value":3120},"其 ",{"type":35,"tag":133,"props":3122,"children":3123},{"className":313,"language":314,"style":7},[3124],{"type":35,"tag":152,"props":3125,"children":3126},{"style":254},[3127],{"type":46,"value":3128},"border-color",{"type":46,"value":3130}," 和 ",{"type":35,"tag":133,"props":3132,"children":3133},{"className":313,"language":314,"style":7},[3134],{"type":35,"tag":152,"props":3135,"children":3136},{"style":254},[3137],{"type":46,"value":3138},"background-color",{"type":46,"value":3140}," 应跟随文本颜色变化，而不是单调的灰色。",{"type":35,"tag":42,"props":3142,"children":3143},{},[3144,3146,3152,3154,3160,3162,3168,3170,3176,3178,3184],{"type":46,"value":3145},"起初我想写为 ",{"type":35,"tag":133,"props":3147,"children":3149},{"className":3148},[],[3150],{"type":46,"value":3151},"rgba(currentcolor, 0.2)",{"type":46,"value":3153}," ，但一方面它不符合 SCSS 的函数参数个数要求，另一方面 CSS 仅支持自定义属性 ",{"type":35,"tag":133,"props":3155,"children":3157},{"className":3156},[],[3158],{"type":46,"value":3159},"rgba(var(--color), 0.2)",{"type":46,"value":3161}," 而不支持在其中使用 ",{"type":35,"tag":133,"props":3163,"children":3165},{"className":3164},[],[3166],{"type":46,"value":3167},"currentColor",{"type":46,"value":3169},"。故只能使用 ",{"type":35,"tag":133,"props":3171,"children":3173},{"className":3172},[],[3174],{"type":46,"value":3175},"#{\"rgba(var(--color), 0.2)\"}",{"type":46,"value":3177}," 的形式绕过 SCSS 检查，还要通过 JS 计算出当前颜色并写入 ",{"type":35,"tag":133,"props":3179,"children":3181},{"className":3180},[],[3182],{"type":46,"value":3183},"--color",{"type":46,"value":3185}," 中，并且在切换深色模式后还需要重新计算值，可谓十分不优雅。",{"type":35,"tag":469,"props":3187,"children":3188},{":center":471,":tabs":974,"center":7},[3189,3779],{"type":35,"tag":475,"props":3190,"children":3191},{"v-slot:tab1":7},[3192],{"type":35,"tag":479,"props":3193,"children":3196},{"className":786,"code":3194,"filename":3195,"language":789,"meta":7,"style":7},"\u003Cscript setup lang=\"ts\">\nconst code = ref\u003CHTMLElement>()\nconst color = ref\u003Cstring>()\nonMounted(() => {\n    const rgbColorStr = getComputedStyle(code.value!).color\n    color.value = rgbColorStr.match(/\\d+/g)!.map(Number).join(',')\n})\n\u003C/script>\n\n\u003Ctemplate>\n    \u003Ccode ref=\"code\" :style=\"{ '--color': color }\">\u003Cslot />\u003C/code>\n\u003C/template>\n\n\u003Cstyle scoped lang=\"scss\">\ncode {\n    padding: 0.1em 0.3em;\n    border: 1px solid #{\"rgba(var(--color), 0.2)\"};\n    border-radius: 4px;\n    background-color: #{\"rgba(var(--color), 0.05)\"};\n    font-size: 0.875em;\n}\n\u003C/style>\n","ProseCodeInline.vue",[3197],{"type":35,"tag":133,"props":3198,"children":3199},{"__ignoreMap":7},[3200,3232,3272,3310,3333,3389,3499,3510,3525,3532,3547,3647,3662,3669,3702,3710,3719,3728,3737,3746,3755,3763],{"type":35,"tag":152,"props":3201,"children":3202},{"class":489,"line":490},[3203,3207,3211,3215,3219,3223,3228],{"type":35,"tag":152,"props":3204,"children":3205},{"style":248},[3206],{"type":46,"value":251},{"type":35,"tag":152,"props":3208,"children":3209},{"style":254},[3210],{"type":46,"value":257},{"type":35,"tag":152,"props":3212,"children":3213},{"style":729},[3214],{"type":46,"value":824},{"type":35,"tag":152,"props":3216,"children":3217},{"style":729},[3218],{"type":46,"value":809},{"type":35,"tag":152,"props":3220,"children":3221},{"style":248},[3222],{"type":46,"value":814},{"type":35,"tag":152,"props":3224,"children":3225},{"style":300},[3226],{"type":46,"value":3227},"\"ts\"",{"type":35,"tag":152,"props":3229,"children":3230},{"style":248},[3231],{"type":46,"value":829},{"type":35,"tag":152,"props":3233,"children":3234},{"class":489,"line":504},[3235,3239,3244,3248,3253,3258,3263,3267],{"type":35,"tag":152,"props":3236,"children":3237},{"style":318},[3238],{"type":46,"value":2660},{"type":35,"tag":152,"props":3240,"children":3241},{"style":1027},[3242],{"type":46,"value":3243}," code",{"type":35,"tag":152,"props":3245,"children":3246},{"style":1033},[3247],{"type":46,"value":1036},{"type":35,"tag":152,"props":3249,"children":3250},{"style":154},[3251],{"type":46,"value":3252}," ref",{"type":35,"tag":152,"props":3254,"children":3256},{"style":3255},"--shiki-default:#04A5E5;--shiki-dark:#ABB2BF",[3257],{"type":46,"value":251},{"type":35,"tag":152,"props":3259,"children":3260},{"style":2160},[3261],{"type":46,"value":3262},"HTMLElement",{"type":35,"tag":152,"props":3264,"children":3265},{"style":3255},[3266],{"type":46,"value":262},{"type":35,"tag":152,"props":3268,"children":3269},{"style":442},[3270],{"type":46,"value":3271},"()\n",{"type":35,"tag":152,"props":3273,"children":3274},{"class":489,"line":514},[3275,3279,3284,3288,3292,3296,3302,3306],{"type":35,"tag":152,"props":3276,"children":3277},{"style":318},[3278],{"type":46,"value":2660},{"type":35,"tag":152,"props":3280,"children":3281},{"style":1027},[3282],{"type":46,"value":3283}," color",{"type":35,"tag":152,"props":3285,"children":3286},{"style":1033},[3287],{"type":46,"value":1036},{"type":35,"tag":152,"props":3289,"children":3290},{"style":154},[3291],{"type":46,"value":3252},{"type":35,"tag":152,"props":3293,"children":3294},{"style":3255},[3295],{"type":46,"value":251},{"type":35,"tag":152,"props":3297,"children":3299},{"style":3298},"--shiki-default:#8839EF;--shiki-dark:#E5C07B",[3300],{"type":46,"value":3301},"string",{"type":35,"tag":152,"props":3303,"children":3304},{"style":3255},[3305],{"type":46,"value":262},{"type":35,"tag":152,"props":3307,"children":3308},{"style":442},[3309],{"type":46,"value":3271},{"type":35,"tag":152,"props":3311,"children":3312},{"class":489,"line":523},[3313,3317,3321,3325,3329],{"type":35,"tag":152,"props":3314,"children":3315},{"style":154},[3316],{"type":46,"value":965},{"type":35,"tag":152,"props":3318,"children":3319},{"style":442},[3320],{"type":46,"value":1001},{"type":35,"tag":152,"props":3322,"children":3323},{"style":643},[3324],{"type":46,"value":947},{"type":35,"tag":152,"props":3326,"children":3327},{"style":1008},[3328],{"type":46,"value":1011},{"type":35,"tag":152,"props":3330,"children":3331},{"style":643},[3332],{"type":46,"value":1016},{"type":35,"tag":152,"props":3334,"children":3335},{"class":489,"line":531},[3336,3340,3345,3349,3354,3358,3362,3366,3371,3376,3380,3384],{"type":35,"tag":152,"props":3337,"children":3338},{"style":318},[3339],{"type":46,"value":1024},{"type":35,"tag":152,"props":3341,"children":3342},{"style":1027},[3343],{"type":46,"value":3344}," rgbColorStr",{"type":35,"tag":152,"props":3346,"children":3347},{"style":1033},[3348],{"type":46,"value":1036},{"type":35,"tag":152,"props":3350,"children":3351},{"style":154},[3352],{"type":46,"value":3353}," getComputedStyle",{"type":35,"tag":152,"props":3355,"children":3356},{"style":442},[3357],{"type":46,"value":1001},{"type":35,"tag":152,"props":3359,"children":3360},{"style":1027},[3361],{"type":46,"value":133},{"type":35,"tag":152,"props":3363,"children":3364},{"style":248},[3365],{"type":46,"value":1046},{"type":35,"tag":152,"props":3367,"children":3368},{"style":1080},[3369],{"type":46,"value":3370},"value",{"type":35,"tag":152,"props":3372,"children":3373},{"style":1033},[3374],{"type":46,"value":3375},"!",{"type":35,"tag":152,"props":3377,"children":3378},{"style":442},[3379],{"type":46,"value":2739},{"type":35,"tag":152,"props":3381,"children":3382},{"style":248},[3383],{"type":46,"value":1046},{"type":35,"tag":152,"props":3385,"children":3386},{"style":1080},[3387],{"type":46,"value":3388},"color\n",{"type":35,"tag":152,"props":3390,"children":3391},{"class":489,"line":540},[3392,3397,3401,3405,3409,3413,3417,3422,3426,3432,3437,3442,3447,3451,3455,3459,3464,3468,3473,3477,3481,3486,3490,3495],{"type":35,"tag":152,"props":3393,"children":3394},{"style":1027},[3395],{"type":46,"value":3396},"    color",{"type":35,"tag":152,"props":3398,"children":3399},{"style":248},[3400],{"type":46,"value":1046},{"type":35,"tag":152,"props":3402,"children":3403},{"style":1080},[3404],{"type":46,"value":3370},{"type":35,"tag":152,"props":3406,"children":3407},{"style":1033},[3408],{"type":46,"value":1036},{"type":35,"tag":152,"props":3410,"children":3411},{"style":1027},[3412],{"type":46,"value":3344},{"type":35,"tag":152,"props":3414,"children":3415},{"style":248},[3416],{"type":46,"value":1046},{"type":35,"tag":152,"props":3418,"children":3419},{"style":154},[3420],{"type":46,"value":3421},"match",{"type":35,"tag":152,"props":3423,"children":3424},{"style":442},[3425],{"type":46,"value":1001},{"type":35,"tag":152,"props":3427,"children":3429},{"style":3428},"--shiki-default:#EA76CB;--shiki-dark:#E06C75",[3430],{"type":46,"value":3431},"/\\d",{"type":35,"tag":152,"props":3433,"children":3435},{"style":3434},"--shiki-default:#179299;--shiki-dark:#D19A66",[3436],{"type":46,"value":1837},{"type":35,"tag":152,"props":3438,"children":3439},{"style":3428},[3440],{"type":46,"value":3441},"/",{"type":35,"tag":152,"props":3443,"children":3444},{"style":318},[3445],{"type":46,"value":3446},"g",{"type":35,"tag":152,"props":3448,"children":3449},{"style":442},[3450],{"type":46,"value":2739},{"type":35,"tag":152,"props":3452,"children":3453},{"style":1033},[3454],{"type":46,"value":3375},{"type":35,"tag":152,"props":3456,"children":3457},{"style":248},[3458],{"type":46,"value":1046},{"type":35,"tag":152,"props":3460,"children":3461},{"style":154},[3462],{"type":46,"value":3463},"map",{"type":35,"tag":152,"props":3465,"children":3466},{"style":442},[3467],{"type":46,"value":1001},{"type":35,"tag":152,"props":3469,"children":3470},{"style":1080},[3471],{"type":46,"value":3472},"Number",{"type":35,"tag":152,"props":3474,"children":3475},{"style":442},[3476],{"type":46,"value":2739},{"type":35,"tag":152,"props":3478,"children":3479},{"style":248},[3480],{"type":46,"value":1046},{"type":35,"tag":152,"props":3482,"children":3483},{"style":154},[3484],{"type":46,"value":3485},"join",{"type":35,"tag":152,"props":3487,"children":3488},{"style":442},[3489],{"type":46,"value":1001},{"type":35,"tag":152,"props":3491,"children":3492},{"style":300},[3493],{"type":46,"value":3494},"','",{"type":35,"tag":152,"props":3496,"children":3497},{"style":442},[3498],{"type":46,"value":1065},{"type":35,"tag":152,"props":3500,"children":3501},{"class":489,"line":548},[3502,3506],{"type":35,"tag":152,"props":3503,"children":3504},{"style":643},[3505],{"type":46,"value":1326},{"type":35,"tag":152,"props":3507,"children":3508},{"style":442},[3509],{"type":46,"value":1065},{"type":35,"tag":152,"props":3511,"children":3512},{"class":489,"line":557},[3513,3517,3521],{"type":35,"tag":152,"props":3514,"children":3515},{"style":248},[3516],{"type":46,"value":909},{"type":35,"tag":152,"props":3518,"children":3519},{"style":254},[3520],{"type":46,"value":257},{"type":35,"tag":152,"props":3522,"children":3523},{"style":248},[3524],{"type":46,"value":829},{"type":35,"tag":152,"props":3526,"children":3527},{"class":489,"line":565},[3528],{"type":35,"tag":152,"props":3529,"children":3530},{"emptyLinePlaceholder":508},[3531],{"type":46,"value":511},{"type":35,"tag":152,"props":3533,"children":3534},{"class":489,"line":574},[3535,3539,3543],{"type":35,"tag":152,"props":3536,"children":3537},{"style":248},[3538],{"type":46,"value":251},{"type":35,"tag":152,"props":3540,"children":3541},{"style":254},[3542],{"type":46,"value":475},{"type":35,"tag":152,"props":3544,"children":3545},{"style":248},[3546],{"type":46,"value":829},{"type":35,"tag":152,"props":3548,"children":3549},{"class":489,"line":583},[3550,3555,3559,3563,3567,3572,3577,3582,3586,3592,3597,3602,3606,3610,3614,3618,3623,3628,3634,3639,3643],{"type":35,"tag":152,"props":3551,"children":3552},{"style":248},[3553],{"type":46,"value":3554},"    \u003C",{"type":35,"tag":152,"props":3556,"children":3557},{"style":254},[3558],{"type":46,"value":133},{"type":35,"tag":152,"props":3560,"children":3561},{"style":729},[3562],{"type":46,"value":3252},{"type":35,"tag":152,"props":3564,"children":3565},{"style":248},[3566],{"type":46,"value":814},{"type":35,"tag":152,"props":3568,"children":3569},{"style":300},[3570],{"type":46,"value":3571},"\"code\"",{"type":35,"tag":152,"props":3573,"children":3574},{"style":643},[3575],{"type":46,"value":3576}," :",{"type":35,"tag":152,"props":3578,"children":3579},{"style":729},[3580],{"type":46,"value":3581},"style",{"type":35,"tag":152,"props":3583,"children":3584},{"style":248},[3585],{"type":46,"value":814},{"type":35,"tag":152,"props":3587,"children":3589},{"style":3588},"--shiki-default:#40A02B;--shiki-dark:#ABB2BF",[3590],{"type":46,"value":3591},"\"",{"type":35,"tag":152,"props":3593,"children":3594},{"style":643},[3595],{"type":46,"value":3596},"{",{"type":35,"tag":152,"props":3598,"children":3599},{"style":300},[3600],{"type":46,"value":3601}," '--color'",{"type":35,"tag":152,"props":3603,"children":3604},{"style":248},[3605],{"type":46,"value":640},{"type":35,"tag":152,"props":3607,"children":3608},{"style":1080},[3609],{"type":46,"value":3283},{"type":35,"tag":152,"props":3611,"children":3612},{"style":643},[3613],{"type":46,"value":1562},{"type":35,"tag":152,"props":3615,"children":3616},{"style":3588},[3617],{"type":46,"value":3591},{"type":35,"tag":152,"props":3619,"children":3620},{"style":248},[3621],{"type":46,"value":3622},">\u003C",{"type":35,"tag":152,"props":3624,"children":3625},{"style":254},[3626],{"type":46,"value":3627},"slot",{"type":35,"tag":152,"props":3629,"children":3631},{"style":3630},"--shiki-default:#4C4F69;--shiki-dark:#FFFFFF",[3632],{"type":46,"value":3633}," /",{"type":35,"tag":152,"props":3635,"children":3636},{"style":248},[3637],{"type":46,"value":3638},">\u003C/",{"type":35,"tag":152,"props":3640,"children":3641},{"style":254},[3642],{"type":46,"value":133},{"type":35,"tag":152,"props":3644,"children":3645},{"style":248},[3646],{"type":46,"value":829},{"type":35,"tag":152,"props":3648,"children":3649},{"class":489,"line":591},[3650,3654,3658],{"type":35,"tag":152,"props":3651,"children":3652},{"style":248},[3653],{"type":46,"value":909},{"type":35,"tag":152,"props":3655,"children":3656},{"style":254},[3657],{"type":46,"value":475},{"type":35,"tag":152,"props":3659,"children":3660},{"style":248},[3661],{"type":46,"value":829},{"type":35,"tag":152,"props":3663,"children":3664},{"class":489,"line":775},[3665],{"type":35,"tag":152,"props":3666,"children":3667},{"emptyLinePlaceholder":508},[3668],{"type":46,"value":511},{"type":35,"tag":152,"props":3670,"children":3671},{"class":489,"line":3065},[3672,3676,3680,3685,3689,3693,3698],{"type":35,"tag":152,"props":3673,"children":3674},{"style":248},[3675],{"type":46,"value":251},{"type":35,"tag":152,"props":3677,"children":3678},{"style":254},[3679],{"type":46,"value":3581},{"type":35,"tag":152,"props":3681,"children":3682},{"style":729},[3683],{"type":46,"value":3684}," scoped",{"type":35,"tag":152,"props":3686,"children":3687},{"style":729},[3688],{"type":46,"value":809},{"type":35,"tag":152,"props":3690,"children":3691},{"style":248},[3692],{"type":46,"value":814},{"type":35,"tag":152,"props":3694,"children":3695},{"style":300},[3696],{"type":46,"value":3697},"\"scss\"",{"type":35,"tag":152,"props":3699,"children":3700},{"style":248},[3701],{"type":46,"value":829},{"type":35,"tag":152,"props":3703,"children":3704},{"class":489,"line":3077},[3705],{"type":35,"tag":152,"props":3706,"children":3707},{"style":442},[3708],{"type":46,"value":3709},"code {\n",{"type":35,"tag":152,"props":3711,"children":3713},{"class":489,"line":3712},16,[3714],{"type":35,"tag":152,"props":3715,"children":3716},{"style":442},[3717],{"type":46,"value":3718},"    padding: 0.1em 0.3em;\n",{"type":35,"tag":152,"props":3720,"children":3722},{"class":489,"line":3721},17,[3723],{"type":35,"tag":152,"props":3724,"children":3725},{"style":442},[3726],{"type":46,"value":3727},"    border: 1px solid #{\"rgba(var(--color), 0.2)\"};\n",{"type":35,"tag":152,"props":3729,"children":3731},{"class":489,"line":3730},18,[3732],{"type":35,"tag":152,"props":3733,"children":3734},{"style":442},[3735],{"type":46,"value":3736},"    border-radius: 4px;\n",{"type":35,"tag":152,"props":3738,"children":3740},{"class":489,"line":3739},19,[3741],{"type":35,"tag":152,"props":3742,"children":3743},{"style":442},[3744],{"type":46,"value":3745},"    background-color: #{\"rgba(var(--color), 0.05)\"};\n",{"type":35,"tag":152,"props":3747,"children":3749},{"class":489,"line":3748},20,[3750],{"type":35,"tag":152,"props":3751,"children":3752},{"style":442},[3753],{"type":46,"value":3754},"    font-size: 0.875em;\n",{"type":35,"tag":152,"props":3756,"children":3758},{"class":489,"line":3757},21,[3759],{"type":35,"tag":152,"props":3760,"children":3761},{"style":442},[3762],{"type":46,"value":901},{"type":35,"tag":152,"props":3764,"children":3766},{"class":489,"line":3765},22,[3767,3771,3775],{"type":35,"tag":152,"props":3768,"children":3769},{"style":248},[3770],{"type":46,"value":909},{"type":35,"tag":152,"props":3772,"children":3773},{"style":254},[3774],{"type":46,"value":3581},{"type":35,"tag":152,"props":3776,"children":3777},{"style":248},[3778],{"type":46,"value":829},{"type":35,"tag":475,"props":3780,"children":3781},{"v-slot:tab2":7},[3782],{"type":35,"tag":479,"props":3783,"children":3785},{"className":786,"code":3784,"filename":3195,"language":789,"meta":7,"style":7},"\u003Ctemplate>\n    \u003Ccode>\u003Cslot />\u003C/code>\n\u003C/template>\n\n\u003Cstyle scoped lang=\"scss\">\ncode {\n    padding: 0.1em 0.3em;\n    border: 1px solid var(--c-border);\n    border-color: color-mix(in srgb, currentcolor 10%, transparent);\n    border-radius: 4px;\n    background-color: var(--c-bg-2);\n    background-color: color-mix(in srgb, currentcolor 5%, transparent);\n    font-size: 0.875em;\n}\n\u003C/style>\n",[3786],{"type":35,"tag":133,"props":3787,"children":3788},{"__ignoreMap":7},[3789,3804,3839,3854,3861,3892,3899,3906,3914,3922,3929,3937,3945,3952,3959],{"type":35,"tag":152,"props":3790,"children":3791},{"class":489,"line":490},[3792,3796,3800],{"type":35,"tag":152,"props":3793,"children":3794},{"style":248},[3795],{"type":46,"value":251},{"type":35,"tag":152,"props":3797,"children":3798},{"style":254},[3799],{"type":46,"value":475},{"type":35,"tag":152,"props":3801,"children":3802},{"style":248},[3803],{"type":46,"value":829},{"type":35,"tag":152,"props":3805,"children":3806},{"class":489,"line":504},[3807,3811,3815,3819,3823,3827,3831,3835],{"type":35,"tag":152,"props":3808,"children":3809},{"style":248},[3810],{"type":46,"value":3554},{"type":35,"tag":152,"props":3812,"children":3813},{"style":254},[3814],{"type":46,"value":133},{"type":35,"tag":152,"props":3816,"children":3817},{"style":248},[3818],{"type":46,"value":3622},{"type":35,"tag":152,"props":3820,"children":3821},{"style":254},[3822],{"type":46,"value":3627},{"type":35,"tag":152,"props":3824,"children":3825},{"style":3630},[3826],{"type":46,"value":3633},{"type":35,"tag":152,"props":3828,"children":3829},{"style":248},[3830],{"type":46,"value":3638},{"type":35,"tag":152,"props":3832,"children":3833},{"style":254},[3834],{"type":46,"value":133},{"type":35,"tag":152,"props":3836,"children":3837},{"style":248},[3838],{"type":46,"value":829},{"type":35,"tag":152,"props":3840,"children":3841},{"class":489,"line":514},[3842,3846,3850],{"type":35,"tag":152,"props":3843,"children":3844},{"style":248},[3845],{"type":46,"value":909},{"type":35,"tag":152,"props":3847,"children":3848},{"style":254},[3849],{"type":46,"value":475},{"type":35,"tag":152,"props":3851,"children":3852},{"style":248},[3853],{"type":46,"value":829},{"type":35,"tag":152,"props":3855,"children":3856},{"class":489,"line":523},[3857],{"type":35,"tag":152,"props":3858,"children":3859},{"emptyLinePlaceholder":508},[3860],{"type":46,"value":511},{"type":35,"tag":152,"props":3862,"children":3863},{"class":489,"line":531},[3864,3868,3872,3876,3880,3884,3888],{"type":35,"tag":152,"props":3865,"children":3866},{"style":248},[3867],{"type":46,"value":251},{"type":35,"tag":152,"props":3869,"children":3870},{"style":254},[3871],{"type":46,"value":3581},{"type":35,"tag":152,"props":3873,"children":3874},{"style":729},[3875],{"type":46,"value":3684},{"type":35,"tag":152,"props":3877,"children":3878},{"style":729},[3879],{"type":46,"value":809},{"type":35,"tag":152,"props":3881,"children":3882},{"style":248},[3883],{"type":46,"value":814},{"type":35,"tag":152,"props":3885,"children":3886},{"style":300},[3887],{"type":46,"value":3697},{"type":35,"tag":152,"props":3889,"children":3890},{"style":248},[3891],{"type":46,"value":829},{"type":35,"tag":152,"props":3893,"children":3894},{"class":489,"line":540},[3895],{"type":35,"tag":152,"props":3896,"children":3897},{"style":442},[3898],{"type":46,"value":3709},{"type":35,"tag":152,"props":3900,"children":3901},{"class":489,"line":548},[3902],{"type":35,"tag":152,"props":3903,"children":3904},{"style":442},[3905],{"type":46,"value":3718},{"type":35,"tag":152,"props":3907,"children":3908},{"class":489,"line":557},[3909],{"type":35,"tag":152,"props":3910,"children":3911},{"style":442},[3912],{"type":46,"value":3913},"    border: 1px solid var(--c-border);\n",{"type":35,"tag":152,"props":3915,"children":3916},{"class":489,"line":565},[3917],{"type":35,"tag":152,"props":3918,"children":3919},{"style":442},[3920],{"type":46,"value":3921},"    border-color: color-mix(in srgb, currentcolor 10%, transparent);\n",{"type":35,"tag":152,"props":3923,"children":3924},{"class":489,"line":574},[3925],{"type":35,"tag":152,"props":3926,"children":3927},{"style":442},[3928],{"type":46,"value":3736},{"type":35,"tag":152,"props":3930,"children":3931},{"class":489,"line":583},[3932],{"type":35,"tag":152,"props":3933,"children":3934},{"style":442},[3935],{"type":46,"value":3936},"    background-color: var(--c-bg-2);\n",{"type":35,"tag":152,"props":3938,"children":3939},{"class":489,"line":591},[3940],{"type":35,"tag":152,"props":3941,"children":3942},{"style":442},[3943],{"type":46,"value":3944},"    background-color: color-mix(in srgb, currentcolor 5%, transparent);\n",{"type":35,"tag":152,"props":3946,"children":3947},{"class":489,"line":775},[3948],{"type":35,"tag":152,"props":3949,"children":3950},{"style":442},[3951],{"type":46,"value":3754},{"type":35,"tag":152,"props":3953,"children":3954},{"class":489,"line":3065},[3955],{"type":35,"tag":152,"props":3956,"children":3957},{"style":442},[3958],{"type":46,"value":901},{"type":35,"tag":152,"props":3960,"children":3961},{"class":489,"line":3077},[3962,3966,3970],{"type":35,"tag":152,"props":3963,"children":3964},{"style":248},[3965],{"type":46,"value":909},{"type":35,"tag":152,"props":3967,"children":3968},{"style":254},[3969],{"type":46,"value":3581},{"type":35,"tag":152,"props":3971,"children":3972},{"style":248},[3973],{"type":46,"value":829},{"type":35,"tag":42,"props":3975,"children":3976},{},[3977,3979,3985],{"type":46,"value":3978},"后来，KazariEX 提到了 CSS ",{"type":35,"tag":133,"props":3980,"children":3982},{"className":3981},[],[3983],{"type":46,"value":3984},"color-mix()",{"type":46,"value":3986}," 函数，我认为他又一次给出了真正优雅的答案。至于兼容性？不担心的，通过上文「多个声明语句渐进覆盖」的方法即可解决。",{"type":35,"tag":49,"props":3988,"children":3990},{"id":3989},"阶段总结",[3991],{"type":46,"value":3989},{"type":35,"tag":42,"props":3993,"children":3994},{},[3995],{"type":46,"value":3996},"经过约一个月/200小时的开发，我的博客由 Hexo 转为基于 Nuxt Content 开发的项目。项目选型、主要功能完成后，我选择不断优化已有代码，修复 Bug、优化性能、语义化和兼容性。我认为，开发就是不断的做加法和减法，在项目起步阶段，减法比加法更重要，这样才有利于后续功能的扩展，而不是面对「独木桥上架起的二层小洋房」无从下手。",{"type":35,"tag":42,"props":3998,"children":3999},{},[4000,4002,4007],{"type":46,"value":4001},"另外，我认为，博客的精髓在于内容，技术与框架不过是其内在的骨架，样式也仅为锦上添花的一笔，",{"type":35,"tag":325,"props":4003,"children":4004},{},[4005],{"type":46,"value":4006},"真正优秀的博客并不会因为架构、样式的陈旧或简单而蒙尘",{"type":46,"value":4008},"。我仍将持续投入内容创作与功能建构，以期形成自己的独特表达。",{"type":35,"tag":3581,"props":4010,"children":4011},{},[4012],{"type":46,"value":4013},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":523,"depth":523,"links":4015},[4016,4022,4029,4033,4042],{"id":51,"depth":504,"text":51,"children":4017},[4018,4019,4020,4021],{"id":57,"depth":514,"text":60},{"id":73,"depth":514,"text":76},{"id":84,"depth":514,"text":84},{"id":99,"depth":514,"text":99},{"id":119,"depth":504,"text":119,"children":4023},[4024,4025,4026,4027,4028],{"id":124,"depth":514,"text":124},{"id":282,"depth":514,"text":282},{"id":427,"depth":514,"text":427},{"id":920,"depth":514,"text":920},{"id":1605,"depth":514,"text":1605},{"id":1871,"depth":504,"text":1871,"children":4030},[4031,4032],{"id":1876,"depth":514,"text":1876},{"id":1935,"depth":514,"text":1935},{"id":1945,"depth":504,"text":1945,"children":4034},[4035,4036,4037,4038,4039,4040,4041],{"id":1950,"depth":514,"text":1950},{"id":2070,"depth":514,"text":2073},{"id":2356,"depth":514,"text":2359},{"id":2385,"depth":514,"text":2385},{"id":2438,"depth":514,"text":2441},{"id":2500,"depth":514,"text":2500},{"id":3094,"depth":514,"text":3094},{"id":3989,"depth":504,"text":3989},"markdown","content:posts:2024:blog-using-nuxt.md","content","posts/2024/blog-using-nuxt.md","posts/2024/blog-using-nuxt","md","/posts",[4051,4055],{"_path":4052,"title":4053,"date":4054,"type":18},"/2024/grandma-high-point","祖母的90年代南昌差旅之险","2024-08-24T22:46:54.000Z",{"_path":4056,"title":4057,"date":4058},"/2024/sfd-xupt","Windows 上的开源软件入门","2024-09-17T09:51:12.000Z",1743391137834]