[{"data":1,"prerenderedAt":1327},["ShallowReactive",2],{"/2024/all-pits-stepped":3,"surround-/2024/all-pits-stepped":1318},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"type":13,"categories":14,"tags":16,"readingTime":19,"body":24,"_type":1311,"_id":1312,"_source":1313,"_file":1314,"_stem":1315,"_extension":1316,"_original_dir":1317},"/2024/all-pits-stepped","2024",false,"","从“端口无法访问”到本地环境问题——朋友的博客踩坑记录","M 来找我帮忙，从服务器搭建博客到本地 Windows 环境问题，他把坑几乎全踩了一遍。少配少错。可他博客至今空空如也，所以我发出完整踩坑过程，希望能帮助到更多人。","2024-07-24T13:20:57.000Z","2024-08-03T02:23:46.000Z","https://7.isyangs.cn/24/67211d6517aa3-24.webp","story",[15],"生活",[17,18],"博客","问题",{"text":20,"minutes":21,"time":22,"words":23},"21 min read",20.525,1231500,4105,{"type":25,"children":26,"toc":1272},"root",[27,44,71,77,84,89,94,99,104,109,132,137,142,147,152,157,162,167,172,177,182,187,192,197,202,207,212,217,222,227,232,237,242,247,252,257,262,267,272,277,282,287,293,298,332,379,385,390,395,400,420,425,430,435,440,445,458,546,551,556,561,566,571,587,592,597,602,607,612,617,622,627,632,637,642,651,656,661,667,672,677,682,687,693,698,703,708,713,719,724,729,734,739,744,749,754,759,764,836,841,847,878,937,942,947,952,965,970,975,980,985,990,995,1008,1014,1019,1024,1029,1034,1039,1044,1050,1055,1161,1166,1171,1179,1184,1189,1194,1199,1204,1221,1226,1236,1241,1246,1251,1256,1261,1266],{"type":28,"tag":29,"props":30,"children":31},"element","blockquote",{},[32,39],{"type":28,"tag":33,"props":34,"children":35},"p",{},[36],{"type":37,"value":38},"text","在决心踏入计算机的世界之后，我们总会勇敢踏步，朝着某个方向走去。也许那里是堵墙，也许墙上贴着前辈们的经验，只要有怀揣一颗热爱探索的心，总归能找到答案。",{"type":28,"tag":33,"props":40,"children":41},{},[42],{"type":37,"value":43},"在发现属于自己的答案之前，没有一帆风顺的路。",{"type":28,"tag":45,"props":46,"children":50},"poetry",{"author":47,"footer":48,"title":49},"纸鹿","2024.7.24","章回体tl;dr展身手，从云上修到PE终得解决",[51,56,61,66],{"type":28,"tag":33,"props":52,"children":53},{},[54],{"type":37,"value":55},"微信收消息被问「在吗」，约定时间解决服务器问题\n在现场先整理环境，细心排查终现端倪\n说公网 IP 端口无法访问，实际是 Hexo 生成空页面\n问意图是想搭建博客，随后推荐国外静态部署",{"type":28,"tag":33,"props":57,"children":58},{},[59],{"type":37,"value":60},"npm 装包报权限问题，缓存文件夹需管理权限读写\n更改缓存文件夹权限，全局包文件夹也有问题\nWinGet 重装 Node.js，Win 11 未更新无此命令\n下载目录无 Node 安装包，迅雷里找到得以安装\n设置镜像源npm依旧慢，换pnpm遇中文路径乱码",{"type":28,"tag":33,"props":62,"children":63},{},[64],{"type":37,"value":65},"家庭版无「用户和组管理」，难启用内置 Administrator\n试直接新建管理员账户，改注册表键值继续下一步\n改路径提示文件夹占用，准备进入 PE 修改\n忽发觉 BitLocker 启用，上微软网站查恢复密钥\n查微软账户无恢复密钥，关设备加密防硬盘锁死\n进 BIOS 关安全启动，进PE改名顺扩容 C 盘\nC/D 盘间隔 Ubuntu 系统，D 盘空间分不到 C 盘\n进系统改环境变量，却发现大量路径零碎片段",{"type":28,"tag":33,"props":67,"children":68},{},[69],{"type":37,"value":70},"国内服务器没有备案，本地整好换静态部署\nGitHub 邮箱不公开，本地仓库无法 push\n身份证件没在手边，不好注册 Netlify 账户\nCF Pages部署静态博客，@ 解析尚需迁移 DNS\n迁dns后成功部署，一杯奶茶聊表谢意\n约定聚餐只得暂时离开，火速吃完回来再续鏖战\n教授 Git 三步流程，总结经验然后离开",{"type":28,"tag":72,"props":73,"children":75},"h2",{"id":74},"问题与推论之间模糊的界限",[76],{"type":37,"value":74},{"type":28,"tag":78,"props":79,"children":81},"h3",{"id":80},"在吗起手",[82],{"type":37,"value":83},"「在吗」起手",{"type":28,"tag":33,"props":85,"children":86},{},[87],{"type":37,"value":88},"M 给我发了一条微信，询问我「在吗」。",{"type":28,"tag":33,"props":90,"children":91},{},[92],{"type":37,"value":93},"我在，我在暑期留校，我在食堂为数不多开放的档口等还算能吃的饭。",{"type":28,"tag":33,"props":95,"children":96},{},[97],{"type":37,"value":98},"M 讲「公网 IP + 端口号无法访问」。",{"type":28,"tag":33,"props":100,"children":101},{},[102],{"type":37,"value":103},"我的脑海中冒出许多种想法：「会不会是家庭宽带想要从公网访问」「会不会是服务器防火墙没有放行端口」「会不会是自己写的服务没有侦听所有网卡」「会不会是低位端口在路途中被拦截了」……",{"type":28,"tag":33,"props":105,"children":106},{},[107],{"type":37,"value":108},"我问了一连串问题。「哪里来的公网 IP？」「什么类型的服务？」「SSH 能否连接？」",{"type":28,"tag":29,"props":110,"children":111},{},[112],{"type":28,"tag":113,"props":114,"children":115},"ul",{},[116,122,127],{"type":28,"tag":117,"props":118,"children":119},"li",{},[120],{"type":37,"value":121},"「哪里来的公网 IP」：判断是否真的拿到了公网 IP。",{"type":28,"tag":117,"props":123,"children":124},{},[125],{"type":37,"value":126},"「什么类型的服务」：判断是成品引擎还算自己写的后端代码。",{"type":28,"tag":117,"props":128,"children":129},{},[130],{"type":37,"value":131},"「SSH 能否连接」：判断IP上的其他端口能否连接。",{"type":28,"tag":78,"props":133,"children":135},{"id":134},"弄清问题",[136],{"type":37,"value":134},{"type":28,"tag":33,"props":138,"children":139},{},[140],{"type":37,"value":141},"起到关键作用的是后来 M 发来一张宝塔面板的截图。",{"type":28,"tag":33,"props":143,"children":144},{},[145],{"type":37,"value":146},"谢天谢地，我终于弄明白他讲的问题是「服务器上通过宝塔面板搭建的网站无法访问」了。",{"type":28,"tag":33,"props":148,"children":149},{},[150],{"type":37,"value":151},"我问「访问报什么错」。",{"type":28,"tag":33,"props":153,"children":154},{},[155],{"type":37,"value":156},"他讲「直接无法访问」。天哪。",{"type":28,"tag":33,"props":158,"children":159},{},[160],{"type":37,"value":161},"几句聊天之后，饭已经好了。先吃饭吧。",{"type":28,"tag":33,"props":163,"children":164},{},[165],{"type":37,"value":166},"在饭送进嘴边之前，我认真思考了一下，和 M 约定下午亲自找他看看，不然可能说不清、可能修不好、可能造成一些破坏性的影响。",{"type":28,"tag":78,"props":168,"children":170},{"id":169},"清理环境",[171],{"type":37,"value":169},{"type":28,"tag":33,"props":173,"children":174},{},[175],{"type":37,"value":176},"中午睡醒已经是两点多了，下午解决完手里部分要紧的事情已经是三点半了。我给 M 发了消息，前往几十步路之远的他所在的实验室。",{"type":28,"tag":33,"props":178,"children":179},{},[180],{"type":37,"value":181},"M 把他的工位让给我，我坚持让他搬一张椅子坐下，而不是站在旁边。",{"type":28,"tag":33,"props":183,"children":184},{},[185],{"type":37,"value":186},"电脑开了很多窗口。浏览器里有很多标签页。",{"type":28,"tag":33,"props":188,"children":189},{},[190],{"type":37,"value":191},"我用 Windows 的虚拟桌面功能，把问题相关的窗口和标签页放在新桌面里。",{"type":28,"tag":78,"props":193,"children":195},{"id":194},"错误推论",[196],{"type":37,"value":194},{"type":28,"tag":33,"props":198,"children":199},{},[200],{"type":37,"value":201},"我先照着 M 的思路，检查了公网 IP、服务商提供的防火墙、宝塔面板内的防火墙，最后才打开了那个「无法访问」的服务器上的公网 IP 的 80 端口。",{"type":28,"tag":33,"props":203,"children":204},{},[205],{"type":37,"value":206},"访问网址，我的面色有些许变化。",{"type":28,"tag":33,"props":208,"children":209},{},[210],{"type":37,"value":211},"「你看，你说的这个公网 IP + 端口真的无法访问吗？」我问。",{"type":28,"tag":33,"props":213,"children":214},{},[215],{"type":37,"value":216},"「是啊，就这样打不开。」他答。",{"type":28,"tag":33,"props":218,"children":219},{},[220],{"type":37,"value":221},"纯白色的画面映照着我的脸，屏幕上没有任何报错信息。",{"type":28,"tag":33,"props":223,"children":224},{},[225],{"type":37,"value":226},"「端口是通的，这个网页已经加载好了，」我这样讲，「是你给 Nginx 提供的首页是空的，而不是无法访问。」",{"type":28,"tag":72,"props":228,"children":230},{"id":229},"表面问题与实际意图的距离",[231],{"type":37,"value":229},{"type":28,"tag":78,"props":233,"children":235},{"id":234},"问题环境",[236],{"type":37,"value":234},{"type":28,"tag":33,"props":238,"children":239},{},[240],{"type":37,"value":241},"我快速扫视服务器。同时简单问了一些信息。",{"type":28,"tag":33,"props":243,"children":244},{},[245],{"type":37,"value":246},"Ubuntu 系统。实例名叫 Windows Server。",{"type":28,"tag":33,"props":248,"children":249},{},[250],{"type":37,"value":251},"没有配置 SSH。宝塔面板的终端功能不能使用。通过服务商提供的网页终端执行命令。",{"type":28,"tag":33,"props":253,"children":254},{},[255],{"type":37,"value":256},"国内服务器，没有备案。有域名。",{"type":28,"tag":33,"props":258,"children":259},{},[260],{"type":37,"value":261},"宝塔面板的 Nginx 提示未安装。怪事。",{"type":28,"tag":78,"props":263,"children":265},{"id":264},"真正需求",[266],{"type":37,"value":264},{"type":28,"tag":33,"props":268,"children":269},{},[270],{"type":37,"value":271},"他想搭博客。",{"type":28,"tag":33,"props":273,"children":274},{},[275],{"type":37,"value":276},"搭博客起步阶段不用买服务器，使用静态托管服务即可。",{"type":28,"tag":33,"props":278,"children":279},{},[280],{"type":37,"value":281},"博客不像是抖音爆款视频，缺乏服务器续费支持或长期内容输出，很难让自己或他人获益。",{"type":28,"tag":33,"props":283,"children":284},{},[285],{"type":37,"value":286},"所以选择静态部署服务吧，既能防止续费困难而使得热爱更新的博客蒙尘，也能简化流程，让尝鲜选手快速吃上自建博客的体验。",{"type":28,"tag":72,"props":288,"children":290},{"id":289},"本地开发环境有些许-messy",[291],{"type":37,"value":292},"本地开发环境有些许 messy",{"type":28,"tag":78,"props":294,"children":296},{"id":295},"博客本体",[297],{"type":37,"value":295},{"type":28,"tag":33,"props":299,"children":300},{},[301,303,310,312,330],{"type":37,"value":302},"这个博客文件夹没有初始化为 Git 仓库，使用 ",{"type":28,"tag":304,"props":305,"children":307},"code",{"className":306},[],[308],{"type":37,"value":309},"hexo-deployer-git",{"type":37,"value":311}," 将生成的静态页面部署到 GitHub 仓库。博客主题文件夹使用 ",{"type":28,"tag":304,"props":313,"children":316},{"className":314,"language":315,"style":7},"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","sh",[317,324],{"type":28,"tag":318,"props":319,"children":321},"span",{"style":320},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[322],{"type":37,"value":323},"git",{"type":28,"tag":318,"props":325,"children":327},{"style":326},"--shiki-default:#40A02B;--shiki-dark:#98C379",[328],{"type":37,"value":329}," clone",{"type":37,"value":331}," 命令克隆，这样做有几个问题：",{"type":28,"tag":113,"props":333,"children":334},{},[335,340,374],{"type":28,"tag":117,"props":336,"children":337},{},[338],{"type":37,"value":339},"博客源文件未部署到 GitHub，容易丢失。",{"type":28,"tag":117,"props":341,"children":342},{},[343,345,357,359,372],{"type":37,"value":344},"更改内容后不仅需要 ",{"type":28,"tag":304,"props":346,"children":347},{"className":314,"language":315,"style":7},[348,352],{"type":28,"tag":318,"props":349,"children":350},{"style":320},[351],{"type":37,"value":323},{"type":28,"tag":318,"props":353,"children":354},{"style":326},[355],{"type":37,"value":356}," commit",{"type":37,"value":358},"，还需要执行 ",{"type":28,"tag":304,"props":360,"children":361},{"className":314,"language":315,"style":7},[362,367],{"type":28,"tag":318,"props":363,"children":364},{"style":320},[365],{"type":37,"value":366},"hexo",{"type":28,"tag":318,"props":368,"children":369},{"style":326},[370],{"type":37,"value":371}," deploy",{"type":37,"value":373}," 命令。",{"type":28,"tag":117,"props":375,"children":376},{},[377],{"type":37,"value":378},"未使用 Git submodule 管理主题文件夹，不好使用在线部署功能。",{"type":28,"tag":78,"props":380,"children":382},{"id":381},"npm-环境",[383],{"type":37,"value":384},"npm 环境",{"type":28,"tag":33,"props":386,"children":387},{},[388],{"type":37,"value":389},"在使用 npm 管理包的过程中，我留意到更新项目依赖的过程中报 EPERM 错误，经检查是普通用户没有写入 npm 缓存文件夹的权限。这种情况一般是有软件安装到分区根目录，导致全盘读写权限被修改。不过他的情况并非如此，而是照着网上的教程，使用管理员权限的命令行配置了全局包、缓存路径，不配还好，这一配，就是环境问题。",{"type":28,"tag":33,"props":391,"children":392},{},[393],{"type":37,"value":394},"「对，因为 C 盘空间有点小。」他讲。",{"type":28,"tag":33,"props":396,"children":397},{},[398],{"type":37,"value":399},"修改了全局包和缓存文件夹的权限后，安装包不报错了。不过明明他配置过 npmmirror 镜像源，但是下载依赖的速度特别慢。查不出原因，索性重装 Node.js 环境吧。",{"type":28,"tag":401,"props":402,"children":406},"pre",{"className":403,"code":404,"language":405,"meta":7,"style":7},"language-powershell shiki shiki-themes catppuccin-latte one-dark-pro","winget remove nodejs\n","powershell",[407],{"type":28,"tag":304,"props":408,"children":409},{"__ignoreMap":7},[410],{"type":28,"tag":318,"props":411,"children":414},{"class":412,"line":413},"line",1,[415],{"type":28,"tag":318,"props":416,"children":418},{"style":417},"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF",[419],{"type":37,"value":404},{"type":28,"tag":33,"props":421,"children":422},{},[423],{"type":37,"value":424},"🥺又报错了。",{"type":28,"tag":33,"props":426,"children":427},{},[428],{"type":37,"value":429},"这台电脑虽然是 Windows 11，但是已经很久没更新了，不支持软件包安装程序提供的 winget 命令。从系统设置卸载吧。",{"type":28,"tag":78,"props":431,"children":433},{"id":432},"环境蓄力中",[434],{"type":37,"value":432},{"type":28,"tag":33,"props":436,"children":437},{},[438],{"type":37,"value":439},"折腾一番，准备重装 Node.js，听闻 Node.js 是最近才安装的，想必安装包还在本地，兜兜转转找一圈没找到。",{"type":28,"tag":33,"props":441,"children":442},{},[443],{"type":37,"value":444},"「安装包在迅雷里。」他讲。",{"type":28,"tag":33,"props":446,"children":447},{},[448,450,456],{"type":37,"value":449},"安装之后，由于 ",{"type":28,"tag":304,"props":451,"children":453},{"className":452},[],[454],{"type":37,"value":455},"~/.npmrc",{"type":37,"value":457}," 配置文件或是其他什么配置文件还在，下载慢的问题依旧，我也懒得换源了，直接用 pnpm 管理依赖吧。",{"type":28,"tag":401,"props":459,"children":461},{"className":314,"code":460,"language":315,"meta":7,"style":7},"npm install -g pnpm\npnpm setup\npnpm add -g pnpm\nnpm remove -g npm\n",[462],{"type":28,"tag":304,"props":463,"children":464},{"__ignoreMap":7},[465,489,503,524],{"type":28,"tag":318,"props":466,"children":467},{"class":412,"line":413},[468,473,478,484],{"type":28,"tag":318,"props":469,"children":470},{"style":320},[471],{"type":37,"value":472},"npm",{"type":28,"tag":318,"props":474,"children":475},{"style":326},[476],{"type":37,"value":477}," install",{"type":28,"tag":318,"props":479,"children":481},{"style":480},"--shiki-default:#40A02B;--shiki-dark:#D19A66",[482],{"type":37,"value":483}," -g",{"type":28,"tag":318,"props":485,"children":486},{"style":326},[487],{"type":37,"value":488}," pnpm\n",{"type":28,"tag":318,"props":490,"children":492},{"class":412,"line":491},2,[493,498],{"type":28,"tag":318,"props":494,"children":495},{"style":320},[496],{"type":37,"value":497},"pnpm",{"type":28,"tag":318,"props":499,"children":500},{"style":326},[501],{"type":37,"value":502}," setup\n",{"type":28,"tag":318,"props":504,"children":506},{"class":412,"line":505},3,[507,511,516,520],{"type":28,"tag":318,"props":508,"children":509},{"style":320},[510],{"type":37,"value":497},{"type":28,"tag":318,"props":512,"children":513},{"style":326},[514],{"type":37,"value":515}," add",{"type":28,"tag":318,"props":517,"children":518},{"style":480},[519],{"type":37,"value":483},{"type":28,"tag":318,"props":521,"children":522},{"style":326},[523],{"type":37,"value":488},{"type":28,"tag":318,"props":525,"children":527},{"class":412,"line":526},4,[528,532,537,541],{"type":28,"tag":318,"props":529,"children":530},{"style":320},[531],{"type":37,"value":472},{"type":28,"tag":318,"props":533,"children":534},{"style":326},[535],{"type":37,"value":536}," remove",{"type":28,"tag":318,"props":538,"children":539},{"style":480},[540],{"type":37,"value":483},{"type":28,"tag":318,"props":542,"children":543},{"style":326},[544],{"type":37,"value":545}," npm\n",{"type":28,"tag":33,"props":547,"children":548},{},[549],{"type":37,"value":550},"可惜是用户文件夹名称是中文，pnpm 无法正常配置，路径变成了乱码。",{"type":28,"tag":72,"props":552,"children":554},{"id":553},"从服务器修到电脑本体",[555],{"type":37,"value":553},{"type":28,"tag":78,"props":557,"children":559},{"id":558},"中文用户文件夹名",[560],{"type":37,"value":558},{"type":28,"tag":33,"props":562,"children":563},{},[564],{"type":37,"value":565},"「欸，这个刚装电脑不久就发现了，但是我一直不会改。」他继续讲。",{"type":28,"tag":33,"props":567,"children":568},{},[569],{"type":37,"value":570},"「淘宝搜索“用户名中文改英文”，五到十块钱就能搞定。」我答，「既然遇到问题了，那就顺便改一下吧。」",{"type":28,"tag":33,"props":572,"children":573},{},[574,576,585],{"type":37,"value":575},"当然，我也是当场上网查找的 ",{"type":28,"tag":577,"props":578,"children":582},"a",{"href":579,"rel":580},"https://blog.csdn.net/songxunwen/article/details/121175952",[581],"nofollow",[583],{"type":37,"value":584},"修改教程",{"type":37,"value":586},"。",{"type":28,"tag":33,"props":588,"children":589},{},[590],{"type":37,"value":591},"得，又报错了，家庭版没有管理选项。为了减少对环境的影响，也为了避免扩大环境维护的范围，我并未将家庭版系统升级到专业版。",{"type":28,"tag":33,"props":593,"children":594},{},[595],{"type":37,"value":596},"内置的 Administrator 不好启用，我索性断网（为了新建离线账户）新建了另一个管理员账户。",{"type":28,"tag":78,"props":598,"children":600},{"id":599},"切换账户依然占用",[601],{"type":37,"value":599},{"type":28,"tag":33,"props":603,"children":604},{},[605],{"type":37,"value":606},"切换账户后，我在注册表里找到并修改了原用户的用户文件夹路径配置，对应修改文件夹名的时候发现文件夹被占用，在任务管理器里关闭了几个可疑进程后问题依旧。",{"type":28,"tag":33,"props":608,"children":609},{},[610],{"type":37,"value":611},"没事，还能救。",{"type":28,"tag":33,"props":613,"children":614},{},[615],{"type":37,"value":616},"只要从 U 盘启动 PE 系统，就可以直接修改用户文件夹名了。",{"type":28,"tag":33,"props":618,"children":619},{},[620],{"type":37,"value":621},"穿过几个走廊，我从自己工位取出了 U 盘。它安装了 Ventoy，带有 PE、Windows 和 Linux 的安装镜像。它又要出山了。",{"type":28,"tag":78,"props":623,"children":625},{"id":624},"盘符图标上的小锁",[626],{"type":37,"value":624},{"type":28,"tag":33,"props":628,"children":629},{},[630],{"type":37,"value":631},"在重启到 PE 之前，需要做好完全准备——比如，解决掉分区图标上代表 BitLocker 的小锁，起码确保知道恢复密钥。",{"type":28,"tag":33,"props":633,"children":634},{},[635],{"type":37,"value":636},"说起这个锁，来头可就大了：不少用户在不知情的情况下变动分区，触发了 BitLocker 安全机制，开机显示「输入恢复密钥以进行恢复」的提示。有的按照提示找到了恢复密钥，进入了系统；有的微软账户里并未同步 BitLocker 密钥，便永远地失去了电脑内的所有数据。",{"type":28,"tag":33,"props":638,"children":639},{},[640],{"type":37,"value":641},"我喊 M 在手机上先行登录微软账户网站，检查恢复密钥。",{"type":28,"tag":33,"props":643,"children":644},{},[645],{"type":28,"tag":646,"props":647,"children":648},"strong",{},[649],{"type":37,"value":650},"M 的账户里没有 BitLocker 密钥。",{"type":28,"tag":33,"props":652,"children":653},{},[654],{"type":37,"value":655},"还好先行查看了，不然如果一会触发了 BitLocker 的话要出大问题。",{"type":28,"tag":33,"props":657,"children":658},{},[659],{"type":37,"value":660},"在“设备加密”设置里关闭了开关，看着解密进度条一点一点推进，我心力交瘁地瘫在 M 的工位上。",{"type":28,"tag":78,"props":662,"children":664},{"id":663},"pe-启动",[665],{"type":37,"value":666},"PE 启动",{"type":28,"tag":33,"props":668,"children":669},{},[670],{"type":37,"value":671},"「来杯奶茶吧，想喝什么？」M 问。",{"type":28,"tag":33,"props":673,"children":674},{},[675],{"type":37,"value":676},"「豆乳玉麒麟不错，怎样？」M 继续问。",{"type":28,"tag":33,"props":678,"children":679},{},[680],{"type":37,"value":681},"我又陷入久远的沉思了。之前喝过一杯豆乳玉麒麟，也是帮人解决电脑问题的酬劳。",{"type":28,"tag":33,"props":683,"children":684},{},[685],{"type":37,"value":686},"等设备加密完全关闭以后，我重启进入 BIOS 关闭了安全启动，又进入 U 盘启动 PE 系统，改好了文件夹名。",{"type":28,"tag":78,"props":688,"children":690},{"id":689},"分区栓",[691],{"type":37,"value":692},"分区「栓」",{"type":28,"tag":33,"props":694,"children":695},{},[696],{"type":37,"value":697},"「我看不少软件被手动移到 D 盘了，所以顺便给 C 盘扩个容吧，把 D 盘空间分给 C 盘，有助于减少使用者的空间焦虑。」边操作着，我的动作停滞了。",{"type":28,"tag":33,"props":699,"children":700},{},[701],{"type":37,"value":702},"C 盘和 D 盘之间横亘着一个 S: 分区、Ubuntu 的 ESP 分区、Ext4 格式的根目录分区、家目录分区。",{"type":28,"tag":33,"props":704,"children":705},{},[706],{"type":37,"value":707},"我心里默算了一下，C 盘和这几个分区的大小加起来，刚好是 200 GB。",{"type":28,"tag":33,"props":709,"children":710},{},[711],{"type":37,"value":712},"经过询问和检查，S 盘并没有什么重要内容，迁移一部分文件到 D 盘后，便把 S 盘的十几 G 空间归还给 C 盘了。",{"type":28,"tag":78,"props":714,"children":716},{"id":715},"path-被分解",[717],{"type":37,"value":718},"PATH 被分解",{"type":28,"tag":33,"props":720,"children":721},{},[722],{"type":37,"value":723},"重启后，观感正常，删除之前临时新建的管理员账户。",{"type":28,"tag":33,"props":725,"children":726},{},[727],{"type":37,"value":728},"根据教程，检查环境变量里残余的旧用户名。",{"type":28,"tag":33,"props":730,"children":731},{},[732],{"type":37,"value":733},"再次发现情况：PATH 里原中文用户名的部分是乱码，并且出现了多个意外的分号将原先的单个路径断成多个路径。情况新到我没有见过，也在网上搜不到类似现象。",{"type":28,"tag":33,"props":735,"children":736},{},[737],{"type":37,"value":738},"稍微收拾一下吧，npm 不知道什么问题下载慢，但 pnpm 应该算能用了。",{"type":28,"tag":72,"props":740,"children":742},{"id":741},"为了丝滑部署博客也是煞费苦心",[743],{"type":37,"value":741},{"type":28,"tag":78,"props":745,"children":747},{"id":746},"部署博客的核心要点",[748],{"type":37,"value":746},{"type":28,"tag":33,"props":750,"children":751},{},[752],{"type":37,"value":753},"把奶盖和黄豆粉倒入奶茶，轻轻摇匀，小口啜饮。",{"type":28,"tag":33,"props":755,"children":756},{},[757],{"type":37,"value":758},"可以开始优雅的博客部署环节了。",{"type":28,"tag":33,"props":760,"children":761},{},[762],{"type":37,"value":763},"pnpm 下载包的体验十分顺畅，丝毫没有先前 npm 的凝滞感。",{"type":28,"tag":401,"props":765,"children":767},{"className":314,"code":766,"language":315,"meta":7,"style":7},"pnpm install -g hexo-cli\npnpm update --save\nhexo cl; hexo s\n",[768],{"type":28,"tag":304,"props":769,"children":770},{"__ignoreMap":7},[771,791,808],{"type":28,"tag":318,"props":772,"children":773},{"class":412,"line":413},[774,778,782,786],{"type":28,"tag":318,"props":775,"children":776},{"style":320},[777],{"type":37,"value":497},{"type":28,"tag":318,"props":779,"children":780},{"style":326},[781],{"type":37,"value":477},{"type":28,"tag":318,"props":783,"children":784},{"style":480},[785],{"type":37,"value":483},{"type":28,"tag":318,"props":787,"children":788},{"style":326},[789],{"type":37,"value":790}," hexo-cli\n",{"type":28,"tag":318,"props":792,"children":793},{"class":412,"line":491},[794,798,803],{"type":28,"tag":318,"props":795,"children":796},{"style":320},[797],{"type":37,"value":497},{"type":28,"tag":318,"props":799,"children":800},{"style":326},[801],{"type":37,"value":802}," update",{"type":28,"tag":318,"props":804,"children":805},{"style":480},[806],{"type":37,"value":807}," --save\n",{"type":28,"tag":318,"props":809,"children":810},{"class":412,"line":505},[811,815,820,826,831],{"type":28,"tag":318,"props":812,"children":813},{"style":320},[814],{"type":37,"value":366},{"type":28,"tag":318,"props":816,"children":817},{"style":326},[818],{"type":37,"value":819}," cl",{"type":28,"tag":318,"props":821,"children":823},{"style":822},"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF",[824],{"type":37,"value":825},";",{"type":28,"tag":318,"props":827,"children":828},{"style":320},[829],{"type":37,"value":830}," hexo",{"type":28,"tag":318,"props":832,"children":833},{"style":326},[834],{"type":37,"value":835}," s\n",{"type":28,"tag":33,"props":837,"children":838},{},[839],{"type":37,"value":840},"本地运行博客的观感正常。",{"type":28,"tag":78,"props":842,"children":844},{"id":843},"git-submodule-的轻松实践",[845],{"type":37,"value":846},"Git submodule 的轻松实践",{"type":28,"tag":33,"props":848,"children":849},{},[850,852,863,865,876],{"type":37,"value":851},"删除通过 ",{"type":28,"tag":304,"props":853,"children":854},{"className":314,"language":315,"style":7},[855,859],{"type":28,"tag":318,"props":856,"children":857},{"style":320},[858],{"type":37,"value":323},{"type":28,"tag":318,"props":860,"children":861},{"style":326},[862],{"type":37,"value":329},{"type":37,"value":864}," 克隆的原主题文件夹，再通过 Git submodule 添加主题。这样便可以之间在 Git Push 时云 build，而不用 ",{"type":28,"tag":304,"props":866,"children":867},{"className":314,"language":315,"style":7},[868,872],{"type":28,"tag":318,"props":869,"children":870},{"style":320},[871],{"type":37,"value":366},{"type":28,"tag":318,"props":873,"children":874},{"style":326},[875],{"type":37,"value":371},{"type":37,"value":877},"。命令比较强劲，审慎使用，确保做好备份。",{"type":28,"tag":401,"props":879,"children":881},{"className":314,"code":880,"language":315,"meta":7,"style":7},"git rm -f --cached themes/主题文件夹\ngit submodule add 主题git地址 themes/主题文件夹\n",[882],{"type":28,"tag":304,"props":883,"children":884},{"__ignoreMap":7},[885,912],{"type":28,"tag":318,"props":886,"children":887},{"class":412,"line":413},[888,892,897,902,907],{"type":28,"tag":318,"props":889,"children":890},{"style":320},[891],{"type":37,"value":323},{"type":28,"tag":318,"props":893,"children":894},{"style":326},[895],{"type":37,"value":896}," rm",{"type":28,"tag":318,"props":898,"children":899},{"style":480},[900],{"type":37,"value":901}," -f",{"type":28,"tag":318,"props":903,"children":904},{"style":480},[905],{"type":37,"value":906}," --cached",{"type":28,"tag":318,"props":908,"children":909},{"style":326},[910],{"type":37,"value":911}," themes/主题文件夹\n",{"type":28,"tag":318,"props":913,"children":914},{"class":412,"line":491},[915,919,924,928,933],{"type":28,"tag":318,"props":916,"children":917},{"style":320},[918],{"type":37,"value":323},{"type":28,"tag":318,"props":920,"children":921},{"style":326},[922],{"type":37,"value":923}," submodule",{"type":28,"tag":318,"props":925,"children":926},{"style":326},[927],{"type":37,"value":515},{"type":28,"tag":318,"props":929,"children":930},{"style":326},[931],{"type":37,"value":932}," 主题git地址",{"type":28,"tag":318,"props":934,"children":935},{"style":326},[936],{"type":37,"value":911},{"type":28,"tag":33,"props":938,"children":939},{},[940],{"type":37,"value":941},"可以推送了。",{"type":28,"tag":78,"props":943,"children":945},{"id":944},"阻止推送",[946],{"type":37,"value":944},{"type":28,"tag":33,"props":948,"children":949},{},[950],{"type":37,"value":951},"奶茶中的冰已经失去了硬朗的外形。终端里留着 Git 推送被阻止的信息。好一个丝滑未半而中道遇阻啊。",{"type":28,"tag":33,"props":953,"children":954},{},[955,957,964],{"type":37,"value":956},"经检查，M 在 GitHub 设置中启用了",{"type":28,"tag":577,"props":958,"children":961},{"href":959,"rel":960},"https://docs.github.com/zh/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/blocking-command-line-pushes-that-expose-your-personal-email-address",[581],[962],{"type":37,"value":963},"阻止会暴露个人电子邮件地址的命令行推送",{"type":37,"value":586},{"type":28,"tag":33,"props":966,"children":967},{},[968],{"type":37,"value":969},"我关掉这个选项，试图让博客部署重新顺畅起来。",{"type":28,"tag":78,"props":971,"children":973},{"id":972},"选择静态部署服务",[974],{"type":37,"value":972},{"type":28,"tag":33,"props":976,"children":977},{},[978],{"type":37,"value":979},"我又喝了一口豆乳玉麒麟，豆乳玉麒麟的口感很丝滑，不愧是热门产品。",{"type":28,"tag":33,"props":981,"children":982},{},[983],{"type":37,"value":984},"「有身份证、学生证或者驾驶证吗？GitHub 有没有绑定 QQ 邮箱之外的邮箱？」我问。",{"type":28,"tag":33,"props":986,"children":987},{},[988],{"type":37,"value":989},"得到否定的答案，严格注册风控 Netlify 便不可选了。",{"type":28,"tag":33,"props":991,"children":992},{},[993],{"type":37,"value":994},"我带他注册了 Cloudflare 账号，验证了邮箱。在 Pages 服务页面绑定了 GitHub 仓库，填写好了部署命令和输出目录。绑定了域名。",{"type":28,"tag":33,"props":996,"children":997},{},[998,1000,1006],{"type":37,"value":999},"天哪，又卡住了。主域名（",{"type":28,"tag":304,"props":1001,"children":1003},{"className":1002},[],[1004],{"type":37,"value":1005},"@",{"type":37,"value":1007},"）使用 Cloudflare Pages 服务时，需要使用 Cloudflare 的 DNS 服务器。",{"type":28,"tag":78,"props":1009,"children":1011},{"id":1010},"迁移-dns",[1012],{"type":37,"value":1013},"迁移 DNS",{"type":28,"tag":33,"props":1015,"children":1016},{},[1017],{"type":37,"value":1018},"奶茶喝得太快，胃里感到了些许凉意。",{"type":28,"tag":33,"props":1020,"children":1021},{},[1022],{"type":37,"value":1023},"打开腾讯云。扫码登录。查看域名。修改域名的 DNS 服务器。再次扫码验明身份。",{"type":28,"tag":33,"props":1025,"children":1026},{},[1027],{"type":37,"value":1028},"在 Cloudflare 设置好解析记录，差不多算是完成了。",{"type":28,"tag":78,"props":1030,"children":1032},{"id":1031},"小炒菜",[1033],{"type":37,"value":1031},{"type":28,"tag":33,"props":1035,"children":1036},{},[1037],{"type":37,"value":1038},"进度比预想中的慢了不少，之前和另外几个朋友约好一起拼的小炒菜到了。暂时和 M 分别一会，他还想听一听博客后续如何推送更新。",{"type":28,"tag":33,"props":1040,"children":1041},{},[1042],{"type":37,"value":1043},"托着盒饭就着菜，我吃完了米饭。提上豆乳玉麒麟继续找 M 了。",{"type":28,"tag":78,"props":1045,"children":1047},{"id":1046},"git-三部曲",[1048],{"type":37,"value":1049},"Git 三部曲",{"type":28,"tag":33,"props":1051,"children":1052},{},[1053],{"type":37,"value":1054},"简短地，我告诉他：",{"type":28,"tag":113,"props":1056,"children":1057},{},[1058,1063,1081,1100],{"type":28,"tag":117,"props":1059,"children":1060},{},[1061],{"type":37,"value":1062},"写博客文章，保存",{"type":28,"tag":117,"props":1064,"children":1065},{},[1066,1068,1079],{"type":37,"value":1067},"如果修改配置需要参阅主题文档，修改后执行 ",{"type":28,"tag":304,"props":1069,"children":1070},{"className":314,"language":315,"style":7},[1071,1075],{"type":28,"tag":318,"props":1072,"children":1073},{"style":320},[1074],{"type":37,"value":366},{"type":28,"tag":318,"props":1076,"children":1077},{"style":326},[1078],{"type":37,"value":819},{"type":37,"value":1080}," 清除缓存",{"type":28,"tag":117,"props":1082,"children":1083},{},[1084,1086,1098],{"type":37,"value":1085},"通过 ",{"type":28,"tag":304,"props":1087,"children":1088},{"className":314,"language":315,"style":7},[1089,1093],{"type":28,"tag":318,"props":1090,"children":1091},{"style":320},[1092],{"type":37,"value":366},{"type":28,"tag":318,"props":1094,"children":1095},{"style":326},[1096],{"type":37,"value":1097}," s",{"type":37,"value":1099}," 在本地预览",{"type":28,"tag":117,"props":1101,"children":1102},{},[1103,1105],{"type":37,"value":1104},"通过「Git 三部曲」提交到 GitHub，触发云端博客更新\n",{"type":28,"tag":401,"props":1106,"children":1108},{"className":314,"code":1107,"language":315,"meta":7,"style":7},"git add .\ngit commit -m \"提交信息\"\ngit push\n",[1109],{"type":28,"tag":304,"props":1110,"children":1111},{"__ignoreMap":7},[1112,1128,1149],{"type":28,"tag":318,"props":1113,"children":1114},{"class":412,"line":413},[1115,1119,1123],{"type":28,"tag":318,"props":1116,"children":1117},{"style":320},[1118],{"type":37,"value":323},{"type":28,"tag":318,"props":1120,"children":1121},{"style":326},[1122],{"type":37,"value":515},{"type":28,"tag":318,"props":1124,"children":1125},{"style":326},[1126],{"type":37,"value":1127}," .\n",{"type":28,"tag":318,"props":1129,"children":1130},{"class":412,"line":491},[1131,1135,1139,1144],{"type":28,"tag":318,"props":1132,"children":1133},{"style":320},[1134],{"type":37,"value":323},{"type":28,"tag":318,"props":1136,"children":1137},{"style":326},[1138],{"type":37,"value":356},{"type":28,"tag":318,"props":1140,"children":1141},{"style":480},[1142],{"type":37,"value":1143}," -m",{"type":28,"tag":318,"props":1145,"children":1146},{"style":326},[1147],{"type":37,"value":1148}," \"提交信息\"\n",{"type":28,"tag":318,"props":1150,"children":1151},{"class":412,"line":505},[1152,1156],{"type":28,"tag":318,"props":1153,"children":1154},{"style":320},[1155],{"type":37,"value":323},{"type":28,"tag":318,"props":1157,"children":1158},{"style":326},[1159],{"type":37,"value":1160}," push\n",{"type":28,"tag":33,"props":1162,"children":1163},{},[1164],{"type":37,"value":1165},"我演示了一遍，M 自己也做了一遍。会了。",{"type":28,"tag":33,"props":1167,"children":1168},{},[1169],{"type":37,"value":1170},"我把仅剩几块冰的奶茶留在了他的垃圾袋里。",{"type":28,"tag":29,"props":1172,"children":1173},{},[1174],{"type":28,"tag":33,"props":1175,"children":1176},{},[1177],{"type":37,"value":1178},"窗外的鸟儿向朝天空飞去，教学楼实验室工位上的大学生敲着键盘，也在计算机领域里迈步前进。",{"type":28,"tag":72,"props":1180,"children":1182},{"id":1181},"写在题外",[1183],{"type":37,"value":1181},{"type":28,"tag":78,"props":1185,"children":1187},{"id":1186},"写这篇文章的动机",[1188],{"type":37,"value":1186},{"type":28,"tag":33,"props":1190,"children":1191},{},[1192],{"type":37,"value":1193},"可能有人认为我写这篇文章有些过于苛责博客新手，但写此文是经过深刻考虑的。",{"type":28,"tag":33,"props":1195,"children":1196},{},[1197],{"type":37,"value":1198},"M 在 2023 年 6 月用 GitHub Pages 搭建了博客，当时博客里只有一篇 Hello World 和一篇正文只有几个字母的文章。除了在同年 11 月提交了空文件并设置了域名之外，没有任何的内容更新。",{"type":28,"tag":33,"props":1200,"children":1201},{},[1202],{"type":37,"value":1203},"而 2024 年 7 月我帮助 M 修复“新博客无法访问”至今，他的博客里也没有任何文章。",{"type":28,"tag":33,"props":1205,"children":1206},{},[1207,1212,1214,1219],{"type":28,"tag":646,"props":1208,"children":1209},{},[1210],{"type":37,"value":1211},"我不愿让自己付出的努力落空为一个没有内容的博客网站",{"type":37,"value":1213},"，于是就写了这篇文章，希望能",{"type":28,"tag":646,"props":1215,"children":1216},{},[1217],{"type":37,"value":1218},"把过程转化为可供参考的经验",{"type":37,"value":1220},"，帮助到真正愿意奉献到内容产出领域的人。",{"type":28,"tag":78,"props":1222,"children":1224},{"id":1223},"关于大学技术圈里刮起的博客之风",[1225],{"type":37,"value":1223},{"type":28,"tag":33,"props":1227,"children":1228},{},[1229,1231],{"type":37,"value":1230},"最近有不少同学先后搭建了属于自己的博客。",{"type":28,"tag":646,"props":1232,"children":1233},{},[1234],{"type":37,"value":1235},"搭建博客是好事，分享内容是乐事，长期维护是难事。",{"type":28,"tag":33,"props":1237,"children":1238},{},[1239],{"type":37,"value":1240},"博客之魂在于内容。表面形式之亮丽固然悦目，但内容之实才得以赏心。",{"type":28,"tag":78,"props":1242,"children":1244},{"id":1243},"关于系统环境配置",[1245],{"type":37,"value":1243},{"type":28,"tag":33,"props":1247,"children":1248},{},[1249],{"type":37,"value":1250},"「少即是多」，配置环境前一定要审慎权衡。切莫引入非必要的配置，让问题更加复杂甚至扑朔迷离。",{"type":28,"tag":33,"props":1252,"children":1253},{},[1254],{"type":37,"value":1255},"「把所有软件装在 D 盘」「配置文件的超级堆砌」「永久关闭系统、软件更新」都是不建议的做法。电子设备服务于人类，而我们不应再为「伪教程」规训教化。",{"type":28,"tag":33,"props":1257,"children":1258},{},[1259],{"type":37,"value":1260},"就像对于「怎么充手机不伤电池」「空调多少度最省电」这些问题的态度一样，人应当顺从本心，不要为「如何配置」而配置。",{"type":28,"tag":33,"props":1262,"children":1263},{},[1264],{"type":37,"value":1265},"以上。",{"type":28,"tag":1267,"props":1268,"children":1269},"style",{},[1270],{"type":37,"value":1271},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":526,"depth":526,"links":1273},[1274,1280,1284,1289,1297,1306],{"id":74,"depth":491,"text":74,"children":1275},[1276,1277,1278,1279],{"id":80,"depth":505,"text":83},{"id":134,"depth":505,"text":134},{"id":169,"depth":505,"text":169},{"id":194,"depth":505,"text":194},{"id":229,"depth":491,"text":229,"children":1281},[1282,1283],{"id":234,"depth":505,"text":234},{"id":264,"depth":505,"text":264},{"id":289,"depth":491,"text":292,"children":1285},[1286,1287,1288],{"id":295,"depth":505,"text":295},{"id":381,"depth":505,"text":384},{"id":432,"depth":505,"text":432},{"id":553,"depth":491,"text":553,"children":1290},[1291,1292,1293,1294,1295,1296],{"id":558,"depth":505,"text":558},{"id":599,"depth":505,"text":599},{"id":624,"depth":505,"text":624},{"id":663,"depth":505,"text":666},{"id":689,"depth":505,"text":692},{"id":715,"depth":505,"text":718},{"id":741,"depth":491,"text":741,"children":1298},[1299,1300,1301,1302,1303,1304,1305],{"id":746,"depth":505,"text":746},{"id":843,"depth":505,"text":846},{"id":944,"depth":505,"text":944},{"id":972,"depth":505,"text":972},{"id":1010,"depth":505,"text":1013},{"id":1031,"depth":505,"text":1031},{"id":1046,"depth":505,"text":1049},{"id":1181,"depth":491,"text":1181,"children":1307},[1308,1309,1310],{"id":1186,"depth":505,"text":1186},{"id":1223,"depth":505,"text":1223},{"id":1243,"depth":505,"text":1243},"markdown","content:posts:2024:all-pits-stepped.md","content","posts/2024/all-pits-stepped.md","posts/2024/all-pits-stepped","md","/posts",[1319,1323],{"_path":1320,"title":1321,"date":1322},"/2024/windows-storage","Windows 空间管理/清理指南","2024-07-12T16:29:36.000Z",{"_path":1324,"title":1325,"date":1326},"/2024/linux-samba","Linux 下通过 Samba 共享文件夹","2024-08-04T13:11:03.000Z",1743397198494]