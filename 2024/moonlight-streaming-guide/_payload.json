[{"data":1,"prerenderedAt":712},["ShallowReactive",2],{"/2024/moonlight-streaming-guide":3,"surround-/2024/moonlight-streaming-guide":703},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"categories":13,"tags":15,"references":22,"recommend":26,"readingTime":27,"body":32,"_type":696,"_id":697,"_source":698,"_file":699,"_stem":700,"_extension":701,"_original_dir":702},"/2024/moonlight-streaming-guide","2024",false,"","Moonlight 串流指南","服务端Sunshine设置、客户端分辨率调整、隐私屏功能实现及触摸优化。","2024-01-18T10:58:55.000Z","2024-07-08T04:51:35.000Z","https://7.isyangs.cn/24/6664009b8f999-24.jpg",[14],"经验分享",[16,17,18,19,20,21],"tailscale","moonlight","sunshine","网络","远程","教程",[23],{"title":24,"link":25},"用 Sunshine + Moonlight 打造带有“隐私模式”的游戏串流服务","https://www.xkww3n.cyou/2023/09/18/sunshine-moonlight-game-streaming-privately/",50,{"text":28,"minutes":29,"time":30,"words":31},"5 min read",4.97,298200,994,{"type":33,"children":34,"toc":670},"root",[35,43,49,56,61,66,71,76,83,88,93,99,105,112,125,131,136,142,172,178,191,196,209,467,472,477,485,491,496,502,507,512,517,523,536,542,555,561,566,571,576,581,587,608,613,630,635,640,645,659,664],{"type":36,"tag":37,"props":38,"children":40},"element","h2",{"id":39},"环境",[41],{"type":42,"value":39},"text",{"type":36,"tag":44,"props":45,"children":46},"p",{},[47],{"type":42,"value":48},"和要串流的设备位于同一局域网，如果不是，请尝试使用 Tailscale 或者 Zerotier 进行虚拟组网，参见此教程：",{"type":36,"tag":50,"props":51,"children":55},"link-banner",{"banner":52,"link":53,"title":54},"https://7.isyangs.cn/24/6664009cce512-24.jpg","/2023/tailscale-incomplete-guide","Tailscale 不完全使用指南",[],{"type":36,"tag":44,"props":57,"children":58},{},[59],{"type":42,"value":60},"你也可以通过 IPv6 进行公网串流，但需要注意，“IPv6临时地址”特性或者防火墙可能会导致无法正常连接。",{"type":36,"tag":37,"props":62,"children":64},{"id":63},"服务端",[65],{"type":42,"value":63},{"type":36,"tag":44,"props":67,"children":68},{},[69],{"type":42,"value":70},"如果你是 NVIDIA 显卡，可以使用 GeForce Experience 中的 NVIDIA SHIELD 功能。",{"type":36,"tag":44,"props":72,"children":73},{},[74],{"type":42,"value":75},"更推荐使用 Sunshine 作为服务端，Sunshine的默认配置可以很好地工作，一般不需要修改。",{"type":36,"tag":77,"props":78,"children":82},"link-card",{"icon":79,"link":80,"title":81},"https://docs.lizardbyte.dev/projects/sunshine/en/latest/_static/sunshine.png","https://app.lizardbyte.dev/Sunshine/?lng=zh-CN","Sunshine 官网",[],{"type":36,"tag":37,"props":84,"children":86},{"id":85},"客户端",[87],{"type":42,"value":85},{"type":36,"tag":44,"props":89,"children":90},{},[91],{"type":42,"value":92},"使用 Moonlight 作为串流的客户端。可以参考B站上阿西西的教程。",{"type":36,"tag":77,"props":94,"children":98},{"icon":95,"link":96,"title":97},"https://moonlight-stream.org/images/moonlight.svg","https://moonlight-stream.org/","Moonlight 官网",[],{"type":36,"tag":77,"props":100,"children":104},{"icon":101,"link":102,"title":103},"https://github.githubassets.com/favicons/favicon.svg","https://github.com/Axixi2233/moonlight-android","Moonlight Android阿西西修改版",[],{"type":36,"tag":77,"props":106,"children":111},{"icon":107,"link":108,"title":109,":mirror":110},"https://i1.hdslb.com/bfs/face/b41566f47ea0d0f1e35ed54521c849c68c026892.jpg@120w","https://space.bilibili.com/16893379/video","阿西西的日常 - 哔哩哔哩","true",[],{"type":36,"tag":44,"props":113,"children":114},{},[115,117,123],{"type":42,"value":116},"在 Moonlight 客户端中应该可以看到主机，在 Sunshine Web 控制台中输入 PIN 以配对。请在客户端设置中选择",{"type":36,"tag":118,"props":119,"children":120},"strong",{},[121],{"type":42,"value":122},"合适的串流分辨率",{"type":42,"value":124},"和帧数。",{"type":36,"tag":37,"props":126,"children":128},{"id":127},"隐私屏-作为副屏",[129],{"type":42,"value":130},"隐私屏 / 作为副屏",{"type":36,"tag":44,"props":132,"children":133},{},[134],{"type":42,"value":135},"通过“虚拟显示器”功能，可以在串流时关闭真实屏幕，从而实现隐私屏。",{"type":36,"tag":77,"props":137,"children":141},{"icon":138,"link":139,"title":140},"https://www.amyuni.com//images/favicon.png","https://www.amyuni.com/forum/viewtopic.php?t=3030","USB 虚拟显示器驱动",[],{"type":36,"tag":44,"props":143,"children":144},{},[145,147,154,156,162,164,170],{"type":42,"value":146},"这个帖子提供了 ",{"type":36,"tag":148,"props":149,"children":151},"code",{"className":150},[],[152],{"type":42,"value":153},"usbmmidd_v2.zip",{"type":42,"value":155}," 下载。将它解压到一个安全的地方，比如 ",{"type":36,"tag":148,"props":157,"children":159},{"className":158},[],[160],{"type":42,"value":161},"D:\\Software\\",{"type":42,"value":163}," ，双击 ",{"type":36,"tag":148,"props":165,"children":167},{"className":166},[],[168],{"type":42,"value":169},"usbmmidd.bat",{"type":42,"value":171}," 安装。",{"type":36,"tag":173,"props":174,"children":176},"h3",{"id":175},"自定义分辨率",[177],{"type":42,"value":175},{"type":36,"tag":44,"props":179,"children":180},{},[181,183,189],{"type":42,"value":182},"打开注册表，在 ",{"type":36,"tag":148,"props":184,"children":186},{"className":185},[],[187],{"type":42,"value":188},"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\WUDF\\Services\\usbmmIdd\\Parameters\\Monitors",{"type":42,"value":190}," 中设置虚拟显示器的分辨率，可以给名称为 0~9 的项添加串流客户端的屏幕分辨率为字符串值。",{"type":36,"tag":173,"props":192,"children":194},{"id":193},"设置隐私屏应用",[195],{"type":42,"value":193},{"type":36,"tag":44,"props":197,"children":198},{},[199,201,207],{"type":42,"value":200},"在 Sunshine Web 控制台的“应用程序”标签页中点击 ",{"type":36,"tag":148,"props":202,"children":204},{"className":203},[],[205],{"type":42,"value":206},"+ 添加新应用",{"type":42,"value":208},"，配置如下：",{"type":36,"tag":210,"props":211,"children":212},"ul",{},[213,227,457],{"type":36,"tag":214,"props":215,"children":216},"li",{},[217,219,225],{"type":42,"value":218},"应用名称：",{"type":36,"tag":148,"props":220,"children":222},{"className":221},[],[223],{"type":42,"value":224},"隐私串流",{"type":42,"value":226},"，下方“启动/退出时执行命令”(Command Preparations) 中添加以下命令：",{"type":36,"tag":214,"props":228,"children":229},{},[230,232,428],{"type":42,"value":231},"启动/退出时执行命令：\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":36,"tag":233,"props":234,"children":235},"table",{},[236,261],{"type":36,"tag":237,"props":238,"children":239},"thead",{},[240],{"type":36,"tag":241,"props":242,"children":243},"tr",{},[244,251,256],{"type":36,"tag":245,"props":246,"children":248},"th",{"align":247},"left",[249],{"type":42,"value":250},"▶ Do Command",{"type":36,"tag":245,"props":252,"children":253},{"align":247},[254],{"type":42,"value":255},"↺ Undo Command",{"type":36,"tag":245,"props":257,"children":258},{"align":247},[259],{"type":42,"value":260},"🛡 Run as Admin",{"type":36,"tag":262,"props":263,"children":264},"tbody",{},[265,319,363,390],{"type":36,"tag":241,"props":266,"children":267},{},[268,296,314],{"type":36,"tag":269,"props":270,"children":271},"td",{"align":247},[272],{"type":36,"tag":148,"props":273,"children":276},{"className":274,"language":275,"style":7},"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","sh",[277,284,290],{"type":36,"tag":278,"props":279,"children":281},"span",{"style":280},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[282],{"type":42,"value":283},"deviceinstaller64",{"type":36,"tag":278,"props":285,"children":287},{"style":286},"--shiki-default:#40A02B;--shiki-dark:#98C379",[288],{"type":42,"value":289}," enableidd",{"type":36,"tag":278,"props":291,"children":293},{"style":292},"--shiki-default:#FE640B;--shiki-dark:#D19A66",[294],{"type":42,"value":295}," 0",{"type":36,"tag":269,"props":297,"children":298},{"align":247},[299],{"type":36,"tag":148,"props":300,"children":301},{"className":274,"language":275,"style":7},[302,306,310],{"type":36,"tag":278,"props":303,"children":304},{"style":280},[305],{"type":42,"value":283},{"type":36,"tag":278,"props":307,"children":308},{"style":286},[309],{"type":42,"value":289},{"type":36,"tag":278,"props":311,"children":312},{"style":292},[313],{"type":42,"value":295},{"type":36,"tag":269,"props":315,"children":316},{"align":247},[317],{"type":42,"value":318},"☑ Elevated",{"type":36,"tag":241,"props":320,"children":321},{},[322,341,359],{"type":36,"tag":269,"props":323,"children":324},{"align":247},[325],{"type":36,"tag":148,"props":326,"children":327},{"className":274,"language":275,"style":7},[328,332,336],{"type":36,"tag":278,"props":329,"children":330},{"style":280},[331],{"type":42,"value":283},{"type":36,"tag":278,"props":333,"children":334},{"style":286},[335],{"type":42,"value":289},{"type":36,"tag":278,"props":337,"children":338},{"style":292},[339],{"type":42,"value":340}," 1",{"type":36,"tag":269,"props":342,"children":343},{"align":247},[344],{"type":36,"tag":148,"props":345,"children":346},{"className":274,"language":275,"style":7},[347,351,355],{"type":36,"tag":278,"props":348,"children":349},{"style":280},[350],{"type":42,"value":283},{"type":36,"tag":278,"props":352,"children":353},{"style":286},[354],{"type":42,"value":289},{"type":36,"tag":278,"props":356,"children":357},{"style":292},[358],{"type":42,"value":295},{"type":36,"tag":269,"props":360,"children":361},{"align":247},[362],{"type":42,"value":318},{"type":36,"tag":241,"props":364,"children":365},{},[366,369,385],{"type":36,"tag":269,"props":367,"children":368},{"align":247},[],{"type":36,"tag":269,"props":370,"children":371},{"align":247},[372],{"type":36,"tag":148,"props":373,"children":374},{"className":274,"language":275,"style":7},[375,380],{"type":36,"tag":278,"props":376,"children":377},{"style":280},[378],{"type":42,"value":379},"rundll32",{"type":36,"tag":278,"props":381,"children":382},{"style":286},[383],{"type":42,"value":384}," user32.dll,LockWorkStation",{"type":36,"tag":269,"props":386,"children":387},{"align":247},[388],{"type":42,"value":389},"☐ Elevated",{"type":36,"tag":241,"props":391,"children":392},{},[393,409,424],{"type":36,"tag":269,"props":394,"children":395},{"align":247},[396],{"type":36,"tag":148,"props":397,"children":398},{"className":274,"language":275,"style":7},[399,404],{"type":36,"tag":278,"props":400,"children":401},{"style":280},[402],{"type":42,"value":403},"DisplaySwitch",{"type":36,"tag":278,"props":405,"children":406},{"style":286},[407],{"type":42,"value":408}," /external",{"type":36,"tag":269,"props":410,"children":411},{"align":247},[412],{"type":36,"tag":148,"props":413,"children":414},{"className":274,"language":275,"style":7},[415,419],{"type":36,"tag":278,"props":416,"children":417},{"style":280},[418],{"type":42,"value":403},{"type":36,"tag":278,"props":420,"children":421},{"style":286},[422],{"type":42,"value":423}," /internal",{"type":36,"tag":269,"props":425,"children":426},{"align":247},[427],{"type":42,"value":389},{"type":36,"tag":210,"props":429,"children":430},{},[431,436],{"type":36,"tag":214,"props":432,"children":433},{},[434],{"type":42,"value":435},"多执行一次“关闭虚拟显示器”是为了防止虚拟显示器多开导致串流主机分辨率异常且操作卡顿。",{"type":36,"tag":214,"props":437,"children":438},{},[439,450,452],{"type":36,"tag":148,"props":440,"children":441},{"className":274,"language":275,"style":7},[442,446],{"type":36,"tag":278,"props":443,"children":444},{"style":280},[445],{"type":42,"value":379},{"type":36,"tag":278,"props":447,"children":448},{"style":286},[449],{"type":42,"value":384},{"type":42,"value":451}," 是为了在结束串流后锁定电脑。",{"type":36,"tag":118,"props":453,"children":454},{},[455],{"type":42,"value":456},"注意，串流暂停或结束后电脑声音将不通过串流设备播放。",{"type":36,"tag":214,"props":458,"children":459},{},[460,462],{"type":42,"value":461},"工作目录：usbmmidd 解压后所在目录\n",{"type":36,"tag":463,"props":464,"children":466},"copy",{":prompt":110,"code":465},"D:\\Software\\usbmmidd_v2\\",[],{"type":36,"tag":44,"props":468,"children":469},{},[470],{"type":42,"value":471},"点击“保存”按钮，你应该能看到串流列表里多了刚刚添加的“隐私串流”应用。",{"type":36,"tag":44,"props":473,"children":474},{},[475],{"type":42,"value":476},"新版会自动获取并切换屏幕，这会导致重连时被切换为主显示器，可以修改如下设置以规避：",{"type":36,"tag":210,"props":478,"children":479},{},[480],{"type":36,"tag":214,"props":481,"children":482},{},[483],{"type":42,"value":484},"配置-音频/视频-高级显示设备选项-设备配置-禁用",{"type":36,"tag":173,"props":486,"children":488},{"id":487},"linux-作为服务端使用虚拟副屏",[489],{"type":42,"value":490},"Linux 作为服务端，使用虚拟副屏",{"type":36,"tag":44,"props":492,"children":493},{},[494],{"type":42,"value":495},"参考千雪的这篇文章。",{"type":36,"tag":77,"props":497,"children":501},{"icon":498,"link":499,"title":500},"https://q1.qlogo.cn/g?b=qq&nk=3526514925&s=3","https://blog.chyk.ink/2024/05/12/linux-virtual-display-sunshine/","📲 在 Linux 上使用 Sunshine 把安卓平板作为虚拟副屏，画面清晰延迟极低",[],{"type":36,"tag":37,"props":503,"children":505},{"id":504},"触摸优化",[506],{"type":42,"value":504},{"type":36,"tag":173,"props":508,"children":510},{"id":509},"多点触控支持",[511],{"type":42,"value":509},{"type":36,"tag":44,"props":513,"children":514},{},[515],{"type":42,"value":516},"Moonlight 修改版（下载链接在视频简介）支持 Windows 多点触控。",{"type":36,"tag":77,"props":518,"children":522},{"icon":519,"link":520,"title":521},"https://www.bilibili.com/favicon.ico","https://www.bilibili.com/video/BV1Si4y1Y7Jb/","使用触摸界面串流原神",[],{"type":36,"tag":210,"props":524,"children":525},{},[526,531],{"type":36,"tag":214,"props":527,"children":528},{},[529],{"type":42,"value":530},"在安卓设置中开启 Moonlight 物理键盘的无障碍功能，即可将安卓设备上的快捷键操作重定向到串流主机上。",{"type":36,"tag":214,"props":532,"children":533},{},[534],{"type":42,"value":535},"如果想唤出设备输入法键盘，可以在 Moonlight 修改版设置中启用 “快捷选项”。",{"type":36,"tag":537,"props":538,"children":540},"h4",{"id":539},"防止多指手势被设备劫持",[541],{"type":42,"value":539},{"type":36,"tag":44,"props":543,"children":544},{},[545,547,553],{"type":42,"value":546},"特别地，在 MIUI / HyperOS 中，可以开启 ",{"type":36,"tag":148,"props":548,"children":550},{"className":549},[],[551],{"type":42,"value":552},"设置 > 桌面 > 系统导航方式 > 屏蔽三指、四指手势",{"type":42,"value":554},"，并将 Moonlight 添加到 MIUI 游戏加速列表中，在游戏加速设置中选择屏蔽手势、防误触，在单项游戏高级设置中关闭边缘误触抑制。这样做可以让多指手势通过 Moonlight 发送给宿主机，而不是被 MIUI / HyperOS 捕获。其他品牌设备同理。",{"type":36,"tag":173,"props":556,"children":558},{"id":557},"全屏模式下唤出开始菜单控制中心或任务栏",[559],{"type":42,"value":560},"全屏模式下唤出开始菜单、控制中心或任务栏",{"type":36,"tag":44,"props":562,"children":563},{},[564],{"type":42,"value":565},"串流时从屏幕底端中部上划，即可显示开始菜单；从屏幕底端右侧上划，即可显示控制中心；手势被打断后，只显示任务栏。",{"type":36,"tag":173,"props":567,"children":569},{"id":568},"竖屏串流支持",[570],{"type":42,"value":568},{"type":36,"tag":44,"props":572,"children":573},{},[574],{"type":42,"value":575},"使用 Sunshine Nightly 版本。",{"type":36,"tag":173,"props":577,"children":579},{"id":578},"使用屏幕键盘",[580],{"type":42,"value":578},{"type":36,"tag":537,"props":582,"children":584},{"id":583},"自动弹出-windows-触摸键盘",[585],{"type":42,"value":586},"自动弹出 Windows 触摸键盘",{"type":36,"tag":44,"props":588,"children":589},{},[590,592,598,600,606],{"type":42,"value":591},"将 ",{"type":36,"tag":148,"props":593,"children":595},{"className":594},[],[596],{"type":42,"value":597},"Windows 设置 > 时间和语言 > 输入 > 触摸键盘 > 显示触摸键盘",{"type":42,"value":599}," 改为 ",{"type":36,"tag":148,"props":601,"children":603},{"className":602},[],[604],{"type":42,"value":605},"始终",{"type":42,"value":607},"。",{"type":36,"tag":537,"props":609,"children":611},{"id":610},"在任务栏上显示触摸键盘按钮",[612],{"type":42,"value":610},{"type":36,"tag":44,"props":614,"children":615},{},[616,617,623,624,629],{"type":42,"value":591},{"type":36,"tag":148,"props":618,"children":620},{"className":619},[],[621],{"type":42,"value":622},"Windows 设置 > 个性化 > 任务栏 > 系统托盘图标 > 触摸键盘",{"type":42,"value":599},{"type":36,"tag":148,"props":625,"children":627},{"className":626},[],[628],{"type":42,"value":605},{"type":42,"value":607},{"type":36,"tag":537,"props":631,"children":633},{"id":632},"客户端键盘",[634],{"type":42,"value":632},{"type":36,"tag":44,"props":636,"children":637},{},[638],{"type":42,"value":639},"原版 Moonlight 客户端三指轻触即可呼出设备输入法键盘。",{"type":36,"tag":537,"props":641,"children":643},{"id":642},"全功能键盘",[644],{"type":42,"value":642},{"type":36,"tag":44,"props":646,"children":647},{},[648,650,657],{"type":42,"value":649},"上文提到的 ",{"type":36,"tag":651,"props":652,"children":654},"a",{"href":653},"#%E8%A7%A6%E6%91%B8%E4%BC%98%E5%8C%96",[655],{"type":42,"value":656},"Moonlight 修改版",{"type":42,"value":658}," 支持全功能键盘，可以支持更多功能。",{"type":36,"tag":44,"props":660,"children":661},{},[662],{"type":42,"value":663},"😆享受你的串流体验吧！",{"type":36,"tag":665,"props":666,"children":667},"style",{},[668],{"type":42,"value":669},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":671,"depth":671,"links":672},4,[673,675,676,677,683],{"id":39,"depth":674,"text":39},2,{"id":63,"depth":674,"text":63},{"id":85,"depth":674,"text":85},{"id":127,"depth":674,"text":130,"children":678},[679,681,682],{"id":175,"depth":680,"text":175},3,{"id":193,"depth":680,"text":193},{"id":487,"depth":680,"text":490},{"id":504,"depth":674,"text":504,"children":684},[685,688,689,690],{"id":509,"depth":680,"text":509,"children":686},[687],{"id":539,"depth":671,"text":539},{"id":557,"depth":680,"text":560},{"id":568,"depth":680,"text":568},{"id":578,"depth":680,"text":578,"children":691},[692,693,694,695],{"id":583,"depth":671,"text":586},{"id":610,"depth":671,"text":610},{"id":632,"depth":671,"text":632},{"id":642,"depth":671,"text":642},"markdown","content:posts:2024:moonlight-streaming-guide.md","content","posts/2024/moonlight-streaming-guide.md","posts/2024/moonlight-streaming-guide","md","/posts",[704,708],{"_path":705,"title":706,"date":707},"/2023/ssh-key-login","SSH 免密登录","2023-12-25T08:15:00.000Z",{"_path":709,"title":710,"date":711},"/2024/milink-util","小米电脑管家安装教程","2024-01-31T14:16:39.000Z",1743402688557]