<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Vercen'blog - 记录生活点滴</title><meta name="author" content="Vercen"><meta name="copyright" content="Vercen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="静默听风雨·安然晓蝉声">
<meta property="og:type" content="website">
<meta property="og:title" content="Vercen&#39;blog">
<meta property="og:url" content="https://vercen.github.io/page/2/index.html">
<meta property="og:site_name" content="Vercen&#39;blog">
<meta property="og:description" content="静默听风雨·安然晓蝉声">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808125.jpg">
<meta property="article:author" content="Vercen">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808125.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://vercen.github.io/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vercen\'blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-08-30 17:43:10'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/static-butterfly/dist/css/index.min.css"><link rel="stylesheet" href="/css/font.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808125.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Vercen'blog"><span class="site-name">Vercen'blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/25/@Autowired%E5%92%8C@Resource/" title="@Autowired和@Resource的区别"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808938.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="@Autowired和@Resource的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/25/@Autowired%E5%92%8C@Resource/" title="@Autowired和@Resource的区别">@Autowired和@Resource的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-25T08:21:57.000Z" title="发表于 2023-02-25 16:21:57">2023-02-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/spring/">spring</a></span></div><div class="content">@Autowired和@Resource
Spring的一大核心功能就是IOC，它能帮助我们实现自动装配，



@Resource和@Autowired都可以作为注入属性的修饰，在接口仅有单一实现类时，两个注解的修饰效果相同，可以互相替换，不影响使用。

当我们在将一个类上标注@Service或者@Controller或@Component或@Repository注解之后，spring的组件扫描就会自动发现它，并且会将其初始化为spring应用上下文中的bean。
当需要使用这个bean的时候，例如加上@Autowired注解的时候，这个bean就会被创建。而且初始化是根据无参构造函数。
注释可以直接在属性上使用，因此不需要getter和setter:
例如
123456789101112131415@Component(&quot;fooFormatter&quot;)public class FooFormatter &#123;     public String format() &#123;        return &quot;foo&quot;;    &#125;& ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/30/%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" title="最简单的编程语言"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808921.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="最简单的编程语言"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/30/%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" title="最简单的编程语言">最简单的编程语言</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-30T08:21:57.000Z" title="发表于 2022-12-30 16:21:57">2022-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">最简单的编程语言题目描述为了提高工作效率，巨硬公司决定开发一种新型的编程语言。由于是从零开始开发，难度可想而知。不过，即使是当今世界上最强大的编程语言，也不是刚被发明出来就马上拥有强大功能的，它们都是通过慢慢的改进从而逐渐强大起来的。因此公司决定先将该编程语言的最基本部分做出来，以后再渐渐扩充其它功能。该编程语言最基本的部分是计算。作为公司的首席程序设计师，你的任务就是完成该功能。 
输入输入由两部分组成：变量定义部分和表达式计算部分。在变量定义部分中，每一行只能定义一个变量，并且一定要赋上一个初值。计算部分则是每一行有一个表达式，表达式由变量和操作符组成，符号和变量之间用一个空格分隔，且符号只能取+、-、*、&#x2F;这四种，变量定义部分和表达式计算机部分之间用%%%进行分隔，下面是一个例子：a &#x3D; 4b &#x3D; 2%%%a + ba - b
输出表达式的结果，每行输入一个结果
样例输入1234567a = 4b = 2c = 1%%%a + b + ca - b - ca - a

样例输出123710

题解123456789101112131415161718 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/20/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="Java多线程"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808954.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java多线程"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/20/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="Java多线程">Java多线程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-20T08:21:57.000Z" title="发表于 2022-12-20 16:21:57">2022-12-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">1.实现多线程1.1进程和线程【理解】
进程：是正在运行的程序
 是系统进行资源分配和调用的独立单位
 每一个进程都有它自己的内存空间和系统资源

线程：是进程中的单个顺序控制流，是一条执行路径
 单线程：一个进程如果只有一条执行路径，则称为单线程程序
 多线程：一个进程如果有多条执行路径，则称为多线程程序


1.2实现多线程方式一：继承Thread类【应用】
方法介绍



方法名
说明



void run()
在线程开启后，此方法将被调用执行


void start()
使此线程开始执行，Java虚拟机会调用run方法()



实现步骤

定义一个类MyThread继承Thread类
在MyThread类中重写run()方法
创建MyThread类的对象
启动线程


代码演示
123456789101112131415161718192021public class MyThread extends Thread &#123;    @Override    public void run() &#123;        for(int i=0; i&lt;100; i ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/26/OpenWrt%20%E7%A6%81%E7%94%A8%20IPv6/" title="OpenWrt 禁用 IPv6"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808959.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenWrt 禁用 IPv6"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/26/OpenWrt%20%E7%A6%81%E7%94%A8%20IPv6/" title="OpenWrt 禁用 IPv6">OpenWrt 禁用 IPv6</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-26T08:21:57.000Z" title="发表于 2022-11-26 16:21:57">2022-11-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">OpenWrt 禁用 IPv6你是否遇到过这种情况，访问一些网站，时不时出现 connection reset，刷新几下就好了，再刷新就又这样了。
或者遇到 “网页可能暂时无法连接,或者它已永久性地移动到了新网址”。
这很可能是 IPv6 引起的，在 IPv4&#x2F;IPv6 双栈网络下，IPv6 的优先级比 IPv4 高，通过 IPv6 访问很可能出现不稳定的情况。
去 Openwrt -&gt; 网络 -&gt; 接口：

删除 WAN6 接口
找到 LAN -&gt; 高级设置，禁用IPv6分配长度。
进入 LAN -&gt; DHCP服务器，把 IPv6设置 的 “RA服务、DHCPv6服务、NDP代理” 全部禁用
找到 WAN -&gt; 高级设置，禁用获取IPv6地址和IPv6分配长度。
进入 WAN -&gt; DHCP服务器，把 IPv6设置 的 “RA服务、DHCPv6服务、NDP代理” 全部禁用
保存，可以重启一下

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/25/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="服务器常用操作整理"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808932.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="服务器常用操作整理"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/25/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" title="服务器常用操作整理">服务器常用操作整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-25T08:21:57.000Z" title="发表于 2022-11-25 16:21:57">2022-11-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">服务器玩的多了之后，各种常用的操作越来越多了，每次用都还得上网搜一下很麻烦，于是打算写一篇文章来总结一下。
常用软件安装先介绍一下EPEL源：

EPEL源 (Extra Packages for Enterprise Linux) 是由 Fedora Special Interest Group 为企业 Linux 创建、维护和管理的一个高质量附加包集合适用于但不仅限于 Red Hat Enterprise Linux (RHEL), CentOS, Scientific Linux (SL), Oracle Linux (OL)

配置 EPEL源：
123bashsudo yum install -y epel-releasesudo yum -y update

Nginx安装及配置安装命令：
12bashsudo yum install -y nginx

安装成功后，默认的网站目录为： /usr/share/nginx/html
默认的配置文件为：/etc/nginx/nginx.conf
自定义配置文件目录为: /etc/nginx/conf.d/
监听80端口并跳转44 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/12/HTTPS%20%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/" title="HTTPS 是如何保证数据安全"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808910.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTPS 是如何保证数据安全"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/12/HTTPS%20%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/" title="HTTPS 是如何保证数据安全">HTTPS 是如何保证数据安全</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-12T08:21:57.000Z" title="发表于 2022-11-12 16:21:57">2022-11-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">HTTPS 是如何保证数据安全概述本文简要介绍HTTPS协议是如何保证数据在传输过程中的安全的。由于是以介绍为主，所以不会涉及细节，而且肯定会有一些错误。如果想要详细了解可自行查阅资料。
正文在HTTPS协议出现前大家用的都是HTTP协议，这种协议传输的都是明文信息，任何人都可以窃取并篡改，毫无安全性可言。
HTTP协议的简要通信流程如下图：

HTTP 协议简要通信流程
由于传输的信息都是明文的，所以攻击者就可以窃取并篡改信息，如下图：

中间人攻击

你可能会想，我们把信息加密不就可以了么，比如像下图一样

使用对称密钥加密信息

对称加密：双方持有同一个对称密钥，任何一方通过对称密钥加密的信息，对方可以通过相同的对称密钥解密出原文。

但是攻击者依然可以通过各种方式获取到对称密钥：

如果密钥是通过服务器下发给客户端，则直接截取服务器的消息就行了。
如果对称密钥是提前保存在双方的电脑上，那就可以通过某种手段入侵客户端或者服务器来窃取对称密钥。
其它方式。

截取到密钥后攻击者仍然可以进行攻击

中间人攻击

那么我们就需要对“对称密钥”进行保护了，如下图

保护对称密钥

非对称 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/26/Git%20%E5%B7%A5%E4%BD%9C%E5%8C%BA%E4%BB%A3%E7%A0%81%E4%B8%B4%E6%97%B6%E5%AD%98%E5%82%A8/" title="Git 工作区代码临时存储"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808964.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git 工作区代码临时存储"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/26/Git%20%E5%B7%A5%E4%BD%9C%E5%8C%BA%E4%BB%A3%E7%A0%81%E4%B8%B4%E6%97%B6%E5%AD%98%E5%82%A8/" title="Git 工作区代码临时存储">Git 工作区代码临时存储</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-26T08:21:57.000Z" title="发表于 2022-10-26 16:21:57">2022-10-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">Git 工作区代码临时存储有时需要提交一次代码，但是有一部分新写上的代码还是半成品，又不舍得删除。或者在切换分支时工作目录和暂存区里那些还没有被提交的修改，它可能会和即将检出的分支产生冲突从而阻止 Git 切换到该分支。
解决方式git stash 可以解决这个问题。贮藏（stash）会处理工作目录的脏的状态，即跟踪文件的修改与暂存的改动，然后将未完成的修改保存到一个栈上，而你可以在任何时候重新应用这些改动。
git stash 或 git stash push：将当前工作区未追踪的文件和已追踪但被修改过的文件，压入贮藏栈。此时可以切换分支，或着干其他的事情了。干完之后，将贮藏的内容恢复出来即可。
git stash list：查看贮藏栈内容。
git stash apply：将贮藏栈中最顶层的，也就是最新加入的数据，恢复出来。也可以恢复指定内容，例如：git stash apply stash@&#123;2&#125;。恢复之后，贮藏的内容并没有被删除，此时可以用 git stash drop stash@&#123;2&#125; 删除它。或者可以在这之前直接使用 git sta ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/22/%E5%BA%94%E5%AF%B9%E6%98%8E%E6%98%9F%E9%87%8D%E5%A4%A7%E8%88%86%E6%83%85%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%9B%9B%E9%98%B6%E6%AE%B5%E6%88%98%E7%95%A5/" title="应对明星重大舆情事件的四阶段战略"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251807788.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="应对明星重大舆情事件的四阶段战略"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/22/%E5%BA%94%E5%AF%B9%E6%98%8E%E6%98%9F%E9%87%8D%E5%A4%A7%E8%88%86%E6%83%85%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%9B%9B%E9%98%B6%E6%AE%B5%E6%88%98%E7%95%A5/" title="应对明星重大舆情事件的四阶段战略">应对明星重大舆情事件的四阶段战略</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-22T08:21:57.000Z" title="发表于 2022-10-22 16:21:57">2022-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">应对明星重大舆情事件的四阶段战略开篇致敬经典
《是的，首相》
The four-stage strategy四阶段战略
In stage one, we say nothing is going to happen.第一阶段，我们宣称什么事都没有发生。
Stage two, we say something may be going to happen, but we should do nothing about it.第二阶段，我们说也许有事发生但我们不该采取行动。
Stage three, we say that maybe we should do something about it, but there’s nothing we can do.第三阶段，说也许我们应该采取行动，但是我们什么都做不了。
Stage four, we say there was something we could have done, but it’s too late now.第四阶段，也许当初我们能做点什么，但现在已经太迟了。

战略总结这里的舆情特指和下半身有关的舆情。
这类舆情事件通常 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/08/OpenWrt%E7%BC%96%E8%AF%91%E4%B8%8E%E5%88%B7%E5%86%99%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" title="OpenWrt编译与刷写踩坑记录"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808949.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenWrt编译与刷写踩坑记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/08/OpenWrt%E7%BC%96%E8%AF%91%E4%B8%8E%E5%88%B7%E5%86%99%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" title="OpenWrt编译与刷写踩坑记录">OpenWrt编译与刷写踩坑记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-08T08:21:57.000Z" title="发表于 2022-10-08 16:21:57">2022-10-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">最近整了一台软路由，配置还不错，既然这样那肯定要折腾折腾，首先肯定是要刷个 OpenWrt 嘛，但是网上找到的固件都不太合我心意，要么是软件包过于冗杂，要么是太过精简，于是就想自己编译一个固件来用，接下来便是踩坑的开始。
老规矩，先上一张成果图：

编译部分编译所使用的源码是 Lean’s OpenWrt。这套源码在论坛里很有名，编译成功率也高。
编译方案编译有本地和云端两张方式可选，本来是觉得自己电脑CPU性能还可以要不本地编译吧，但了解到编译过程中需要下载Linux内核以及其他的一大堆东西时，还是选择了云端编译方案，最终选用了 P3TERX 的 Github Actions 编译方案。
编译配置问题在配置时碰到了好几个问题，这里记录一下。
首先是目标镜像的文件系统问题。一般情况下大部分人选择的都是 SquashFS，这个文件系统的优点是系统分区默认只读，所有的配置都在 /overlay 分区下，这样每次重置时就只需要清除这个分区的内容就可以。但对我来说，我是一个比较喜欢折腾的人，难免会经常对系统分区魔改啥的，而这时 Ext4 文件系统就比较符合我的要求。但是我在网上一些论坛找其他大 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/11/Git%20%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/" title="Git 基础使用"><img class="post-bg" src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808967.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git 基础使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/11/Git%20%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/" title="Git 基础使用">Git 基础使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-11T08:21:57.000Z" title="发表于 2022-09-11 16:21:57">2022-09-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">Git 基础使用
一些常用的命令如下，不算全面但是日常对我来说是够用了。


git clone url ：克隆项目，如需自定义本地文件夹的名称，在 url 之后加个名称即可。
git add ：这是个多功能命令，可以用它开始跟踪新文件，或者把已跟踪的发生更改的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。
git rm ：要从 Git 中移除某个文件，就必须要从暂存区域移除，然后提交。可以用 git rm 完成，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。
git diff ：查看尚未暂存的文件更新了哪些部分。在后面加一个 --staged 参数，将比对已暂存文件与最后一次提交的文件差异。
git status ：查看哪些文件处于什么状态、当前所在分支。
git commit -m &quot;msg&quot; ：提交，-m 参数可将提交信息在后面附上。提交时记录的是放在暂存区域的快照。 任何还未暂存文件的仍然保持已修改状态，可以在下次提交时纳入版本管理。
git log ：查看提交历史。
git reset ：撤销操作。
git r ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808125.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Vercen</div><div class="author-info__description">静默听风雨·安然晓蝉声</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Vercen" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:fank-ttp@qq.com" target="_blank" title="Email"><i class="fa-solid fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/456786469" target="_blank" title="B站"><i class="fa-brands fa-bilibili"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/25/%E9%9D%9E%E4%BE%B5%E5%85%A5%E5%BC%8F%E7%9A%84%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="服务器常用操作整理"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808932.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="服务器常用操作整理"/></a><div class="content"><a class="title" href="/2023/08/25/%E9%9D%9E%E4%BE%B5%E5%85%A5%E5%BC%8F%E7%9A%84%E5%BE%AE%E6%9C%8D%E5%8A%A1/" title="服务器常用操作整理">服务器常用操作整理</a><time datetime="2023-08-25T08:21:57.000Z" title="发表于 2023-08-25 16:21:57">2023-08-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/25/BOINC%20%E2%80%94%20%E4%B8%BA%E7%A7%91%E7%A0%94%E4%BA%8B%E4%B8%9A%E8%B4%A1%E7%8C%AE%E9%97%B2%E7%BD%AE%E7%9A%84%E7%AE%97%E5%8A%9B/" title="BOINC — 为科研事业贡献闲置的算力"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808922.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BOINC — 为科研事业贡献闲置的算力"/></a><div class="content"><a class="title" href="/2023/04/25/BOINC%20%E2%80%94%20%E4%B8%BA%E7%A7%91%E7%A0%94%E4%BA%8B%E4%B8%9A%E8%B4%A1%E7%8C%AE%E9%97%B2%E7%BD%AE%E7%9A%84%E7%AE%97%E5%8A%9B/" title="BOINC — 为科研事业贡献闲置的算力">BOINC — 为科研事业贡献闲置的算力</a><time datetime="2023-04-25T08:21:57.000Z" title="发表于 2023-04-25 16:21:57">2023-04-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/12/%5B%E4%B8%AA%E4%BA%BA%E6%90%9C%E9%9B%86%E7%9A%84GPT%E5%8F%8A%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%5D/" title="个人搜集的GPT及语言模型相关信息资源"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808911.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="个人搜集的GPT及语言模型相关信息资源"/></a><div class="content"><a class="title" href="/2023/04/12/%5B%E4%B8%AA%E4%BA%BA%E6%90%9C%E9%9B%86%E7%9A%84GPT%E5%8F%8A%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%E8%B5%84%E6%BA%90%5D/" title="个人搜集的GPT及语言模型相关信息资源">个人搜集的GPT及语言模型相关信息资源</a><time datetime="2023-04-12T08:21:57.000Z" title="发表于 2023-04-12 16:21:57">2023-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/02/Java%E4%B8%ADSynchronized%E7%9A%84%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86/" title="Java中Synchronized的优化原理"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808951.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java中Synchronized的优化原理"/></a><div class="content"><a class="title" href="/2023/04/02/Java%E4%B8%ADSynchronized%E7%9A%84%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86/" title="Java中Synchronized的优化原理">Java中Synchronized的优化原理</a><time datetime="2023-04-02T08:21:57.000Z" title="发表于 2023-04-02 16:21:57">2023-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/26/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%20%E2%80%9CAPI%20%E7%BD%91%E5%85%B3%E2%80%9D%EF%BC%9F/" title="为什么需要 “API 网关”？"><img src="https://img-1259413572.cos.ap-shanghai.myqcloud.com/img/202303251808913.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="为什么需要 “API 网关”？"/></a><div class="content"><a class="title" href="/2023/03/26/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%20%E2%80%9CAPI%20%E7%BD%91%E5%85%B3%E2%80%9D%EF%BC%9F/" title="为什么需要 “API 网关”？">为什么需要 “API 网关”？</a><time datetime="2023-03-26T08:21:57.000Z" title="发表于 2023-03-26 16:21:57">2023-03-26</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring/"><span class="card-category-list-name">spring</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/springcloud/"><span class="card-category-list-name">springcloud</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">26</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/spring/" style="font-size: 1.15em; color: rgb(196, 191, 32)">spring</a><a href="/tags/java/" style="font-size: 1.15em; color: rgb(57, 105, 37)">java</a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.35em; color: rgb(126, 130, 94)">分布式</a><a href="/tags/%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83/" style="font-size: 1.15em; color: rgb(85, 0, 145)">注册中心</a><a href="/tags/CAP%E7%90%86%E8%AE%BA/" style="font-size: 1.15em; color: rgb(44, 63, 17)">CAP理论</a><a href="/tags/Git/" style="font-size: 1.25em; color: rgb(118, 77, 57)">Git</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.15em; color: rgb(21, 190, 199)">计算机网络</a><a href="/tags/Java/" style="font-size: 1.15em; color: rgb(22, 166, 163)">Java</a><a href="/tags/OpenWrt/" style="font-size: 1.25em; color: rgb(181, 146, 70)">OpenWrt</a><a href="/tags/openwrt/" style="font-size: 1.15em; color: rgb(2, 132, 81)">openwrt</a><a href="/tags/HTTPS/" style="font-size: 1.15em; color: rgb(0, 197, 194)">HTTPS</a><a href="/tags/Openwrt/" style="font-size: 1.15em; color: rgb(16, 18, 123)">Openwrt</a><a href="/tags/%E6%8A%80%E5%B7%A7/" style="font-size: 1.45em; color: rgb(148, 199, 147)">技巧</a><a href="/tags/springMVC/" style="font-size: 1.15em; color: rgb(156, 58, 50)">springMVC</a><a href="/tags/servlet/" style="font-size: 1.15em; color: rgb(146, 48, 182)">servlet</a><a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 1.15em; color: rgb(48, 140, 127)">图床</a><a href="/tags/%E6%A0%A1%E5%9B%AD%E7%BD%91/" style="font-size: 1.15em; color: rgb(178, 33, 23)">校园网</a><a href="/tags/%E6%BC%8F%E6%B4%9E/" style="font-size: 1.15em; color: rgb(98, 162, 19)">漏洞</a><a href="/tags/linux/" style="font-size: 1.25em; color: rgb(193, 199, 47)">linux</a><a href="/tags/%E5%85%AB%E5%8D%A6/" style="font-size: 1.15em; color: rgb(111, 178, 0)">八卦</a><a href="/tags/%E7%BD%91%E7%9B%98/" style="font-size: 1.15em; color: rgb(169, 67, 0)">网盘</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(152, 27, 66)">算法</a><a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 1.15em; color: rgb(30, 169, 174)">代理</a><a href="/tags/C/" style="font-size: 1.15em; color: rgb(138, 161, 86)">C++</a><a href="/tags/%E5%BA%9F%E8%AF%9D/" style="font-size: 1.15em; color: rgb(169, 99, 120)">废话</a><a href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81/" style="font-size: 1.15em; color: rgb(187, 87, 23)">比特币</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">32</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">56.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-08-30T09:43:09.452Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: linear-gradient(90deg, #ffedf4 0%, #B5FFFC 100%)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Vercen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="8475063755" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-autoplay="true"> </div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>