{"_path":"/2023/xv6-lab-setup","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"xv6 lab环境配置","description":"配置 MIT 6.S081 操作系统课程中的 xv6 实验环境，包括 RISC-V 和 QEMU 安装，调整 Makefile 编译选项，以及 VSCode 和 clangd 相关设置。","date":"2023-11-20T09:09:28.000Z","updated":"2023-11-20T09:09:28.000Z","categories":["经验分享"],"tags":["实验室","Lab"],"readingTime":{"text":"1 min read","minutes":0.415,"time":24900,"words":83},"body":{"type":"root","children":[{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此文章尚未完成。"}]}]},{"type":"element","tag":"h2","props":{"id":"课程介绍"},"children":[{"type":"text","value":"课程介绍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://csdiy.wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/MIT6.S081/","rel":["nofollow"]},"children":[{"type":"text","value":"MIT 6.S081: Operating System Engineering - CS自学指南"}]}]},{"type":"element","tag":"h2","props":{"id":"环境配置"},"children":[{"type":"text","value":"环境配置"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装依赖：\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S risc-v qemu-system-riscv"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果克隆的是2021版的仓库，需要修改Makefile："}]},{"type":"element","tag":"pre","props":{"className":"language-makefile shiki shiki-themes catppuccin-latte one-dark-pro","code":"# CFLAGS = -Wall -Werror -O -fno-omit-frame-pointer -ggdb\nCFLAGS = -Wall -O -fno-omit-frame-pointer -ggdb\n","filename":"Makefile","language":"makefile","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# CFLAGS = -Wall -Werror -O -fno-omit-frame-pointer -ggdb\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"CFLAGS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" -Wall -O -fno-omit-frame-pointer -ggdb\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果使用clangd作为VSCode的语法前端，需要在设置中向"},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"clangd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"fallbackFlags"}]}]},{"type":"text","value":"添加一项："},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"I$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"workspaceFolder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}"}]}]},{"type":"text","value":"。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"课程介绍","depth":2,"text":"课程介绍"},{"id":"环境配置","depth":2,"text":"环境配置"}]}},"_type":"markdown","_id":"content:posts:2023:xv6-lab-setup.md","_source":"content","_file":"posts/2023/xv6-lab-setup.md","_stem":"posts/2023/xv6-lab-setup","_extension":"md","_original_dir":"/posts"}