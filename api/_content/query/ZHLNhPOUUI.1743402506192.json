{"_path":"/2024/blog-using-nuxt","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"博客进化：从 Hexo 到 Nuxt Content","description":"抬笔一挥，便洒出占半的前端样式代码。开发功能并不慢，样式优化与问题修复却很耗时间。博客前端的现代化转型，且听我话其分晓。","date":"2024-08-27T10:30:55.000Z","updated":"2024-09-04T13:18:32.000Z","image":"https://7.isyangs.cn/24/66d4c3ea35003-24.jpg","categories":["经验分享"],"tags":["网站","博客"],"type":"story","aside":["toc","github-card"],"github":{"name":"L33Z22L11/blog-v3","description":"基于 Nuxt Content 的博客主题，使用 Nuxt 3 构建。","url":"https://github.com/L33Z22L11/blog-v3"},"readingTime":{"text":"22 min read","minutes":21.615,"time":1296900,"words":4323},"body":{"type":"root","children":[{"type":"element","tag":"alert","props":{"title":"技术提醒","type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文代码为撰写时的状态，仅供参考，不代表最终实现。"}]}]},{"type":"element","tag":"h2","props":{"id":"升级动力"},"children":[{"type":"text","value":"升级动力"}]},{"type":"element","tag":"h3","props":{"id":"hexo-主题"},"children":[{"type":"text","value":"Hexo 主题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2023年5月24日，我使用 Heo 风格的 Acrylic 主题，将个人网站升级为 Hexo 博客。但不久之后，Acrylic 主题停止维护，同时 Heo 风格的博客主题大行其道，令我感到「泯然于众Blog」。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"于是在2024年1月9日，我选择了偶然之间瞥见的「千雪的咖啡厅」的上游主题 Stellar。并且惊喜地发现，Stellar 的作者 xaoxuu 也是知名主题 Volantis 的主要贡献者。朋友 Colsrch 负责管理 Volantis 主题交流群，我也曾于2020年加入了交流群。"}]},{"type":"element","tag":"h3","props":{"id":"站际关系"},"children":[{"type":"text","value":"「站」际关系"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在更换 Stellar 主题之后，我于2024年1月29日开始积极更新博客，并添加了一些友链，藉以丰富自己的「站」际关系。由于几天后友链之一「微光档案」无法访问，我通过 Internet Archive 找到并加入了其交流群，了解到网站正在备案。自此，命运的齿轮开始转动，我与「微光档案」的站长 KazariEX 在后来结下了更深的联系。"}]},{"type":"element","tag":"h3","props":{"id":"博客美化"},"children":[{"type":"text","value":"博客美化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stellar 主题的更新迭代速度很快，就如同我博客文章的更新速度一样。在这期间，我通过插入自定义 CSS 来更改样式。随着修改幅度越来越大，我编写了一系列 CSS 文件、Hexo 脚本，甚至还使用 JS 修改 DOM，为博客 Logo 注入动画元素。我的底线是「不修改主题源代码」，以避免拉取新版本时处理合并冲突，就算修改也是向主题提交 Bug 修复 PR。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"KazariEX 见此情况，几次建议我使用 Nuxt.js 重构博客并手写主题，但我当时认为博客重心在于文章，因此并未考虑。"}]},{"type":"element","tag":"h3","props":{"id":"重构思考"},"children":[{"type":"text","value":"重构思考"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我的想法是，当 Hexo 无法满足我对博客的要求时（可能是几年后），我会考虑用 Astro 重构博客。但目前一切尚好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2024年6月1日， KazariEX 带领我 10 小时极速上手 Nuxt 重构个人主页。从某种意义上讲，此刻我由原生前端开发转变为一名现代前端开发者。我通过实战了解了 Nuxt 和 Vue 的基础知识，并体验到了现代前端开发的便捷。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"8月3日，在 KazariEX 不知第几次建议下，我开始尝试使用 Nuxt Content 构建博客。8月11日，新博客上线。"}]},{"type":"element","tag":"h2","props":{"id":"功能开发"},"children":[{"type":"text","value":"功能开发"}]},{"type":"element","tag":"h3","props":{"id":"深色模式"},"children":[{"type":"text","value":"深色模式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我选择直接使用个人主页项目中的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThemeToggle.vue"}]},{"type":"text","value":" 组件。这个组件的开发过程也很有意思。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我使用原生的 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"localStorage"}]}]},{"type":"text","value":" 实现了颜色模式的持久化存储和自动加载，但后来觉得既然有了框架，使用 Pinia 来管理状态会更好。但随之而来遇到的问题是网页会在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mounted"}]},{"type":"text","value":" 钩子读取持久化存储的主题，如果主题与系统偏好不匹配时，刷新会导致短暂地使用系统偏好。"}]},{"type":"element","tag":"alert","props":{"title":"简而言之","type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果系统偏好浅色模式，而博客选择了深色主题，刷新时会闪白。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不少网站都有这个问题，比如 "},{"type":"element","tag":"a","props":{"href":"https://docs.github.com/zh","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub Docs"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://vueuse.org/core/useColorMode/","rel":["nofollow"]},"children":[{"type":"text","value":"VueUse 文档的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useColorMode"}]}]},{"type":"text","value":"。最令我佩服的是 Astro 主题 "},{"type":"element","tag":"a","props":{"href":"https://github.com/EveSunMaple/Frosti","rel":["nofollow"]},"children":[{"type":"text","value":"Frosti"}]},{"type":"text","value":"，我提出 "},{"type":"element","tag":"a","props":{"href":"https://github.com/EveSunMaple/Frosti/issues/16","rel":["nofollow"]},"children":[{"type":"text","value":"Issue: 深色模式下刷新/切换页面时的屏幕闪烁"}]},{"type":"text","value":" 后，作者 "},{"type":"element","tag":"a","props":{"href":"https://github.com/EveSunMaple","rel":["nofollow"]},"children":[{"type":"text","value":"EveSunMaple"}]},{"type":"text","value":" 持续跟进，最终解决了问题。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"话说回来，我在解决页面刷新时的主题问题时遇到了困难，于是请求 KazariEX 的支援。我们发现 VitePress 没有这个问题，就一起研究它的源码，最终发现 VitePress 使用原生 "},{"type":"element","tag":"code","props":{"className":"language-html shiki shiki-themes catppuccin-latte one-dark-pro","language":"html","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" 预处理主题，避免了在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mounted"}]},{"type":"text","value":" 钩子中才切换主题的情况。我们参考这一思路解决了问题。后来 isYangs 引入了现成的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxt/color-mode"}]},{"type":"text","value":" 模块，使代码更加优雅。"}]},{"type":"element","tag":"h3","props":{"id":"样式预处理"},"children":[{"type":"text","value":"样式预处理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在开发过程中，我选择基于自己修改的 Stellar 主题编写样式。通过 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"tokei"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" ./app"}]}]},{"type":"text","value":" 统计，博客前端排除空行后大约有4000行代码，其中大约一半是样式代码。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我选择了 SCSS 作为样式预处理器，主要使用 SCSS 的嵌套声明块、"},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"@mixin"}]}]},{"type":"text","value":" 和少量用于媒体查询宽度的变量。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"绝大多数语法均兼容 CSS 3。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有群友提出使用原子化 CSS，有助于减少样式代码量。我认为原子化 CSS 能处理简易样式，但不适合设计导向或复杂样式，「风记星辰」的站长「宇」也支持我的观点。"}]},{"type":"element","tag":"chat","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删一行样式都会出问题的哪种😵"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n当我能给样式代码写注释的时候，它已经不是普通的易于改动的代码了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Restent Ou}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以我用 UnoCSS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"UnoCSS 能帮助处理这种近乎玄学的问题吗"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n我昨晚睡前还认真思考了一下要不要上 UnoCSS"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n最后觉得我的新博客既然注重样式，还是专门使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style>"}]},{"type":"text","value":" 好"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Restent Ou}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我提到原子化 CSS 是因为相比手写 CSS，其复杂度会相对降低"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"毕竟我现在遇到的问题是 CSS 本身特性带来的问题，而不是原不原子化影响对样式的约束/控制能力"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{宇}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是的，其实现在专门设计的网站，几乎都不使用 CSS 框架了，自己写不仅节省代码，而且 HTML 也干净"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因此，博客未来只可能会有限地引入原子化 CSS，例如仅对需要设置透明度、字体大小和颜色的元素应用原子化 CSS。"}]},{"type":"element","tag":"h3","props":{"id":"海量组件"},"children":[{"type":"text","value":"海量组件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"先前我选择 Stellar 主题的原因之一，便是它「支持丰富的标签和动态数据组件」。没想到八个月前的回旋镖飞回到了自己头上，我望着博客 Markdown 文件里大量通过 Nunjucks 语法 "},{"type":"element","tag":"code","props":{"className":"language-mdc shiki shiki-themes catppuccin-latte one-dark-pro","language":"mdc","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{% tag_name attr1 attr2:val2 %}"}]}]},{"type":"text","value":" 调用的组件，思考如何用 Nuxt Content 和 MDC 语法编写用于替代的 Vue 组件。随后，我便开始了漫长的组件编写之旅。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"MDC 语法相比传统 Markdown 语法，能够更方便地使用 Vue 组件并传递参数。受限于一些组件（如聊天记录、时间线）的渲染方式，我甚至使用非标准方式获取 VNode 子节点中的默认插槽内容的文本值，写出了 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"as any"}]},{"type":"text","value":" 类型断言。不过总之，各种组件能"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"以比较优雅的方式调用"}]},{"type":"text","value":"了。"}]},{"type":"element","tag":"tab","props":{":center":"true",":tabs":"[\"使用Chat组件\", \"使用Tab组件\", \"Timeline组件简化源码\"]","center":""},"children":[{"type":"element","tag":"template","props":{"v-slot:tab1":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-mdc shiki shiki-themes catppuccin-latte one-dark-pro","code":"::chat\n\n{.}\n\n这是我说的内容，显示在右侧\n\n{用户1}\n\n这是用户1的回复\\\n可以这样换行\n\n::\n","filename":"blog-using-nuxt.md","language":"mdc","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"chat\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{.}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"这是我说的内容，显示在右侧\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{用户1}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"这是用户1的回复\\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"可以这样换行\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"::\n"}]}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab2":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-mdc shiki shiki-themes catppuccin-latte one-dark-pro","code":"::tab\n---\ntabs: [\"使用Chat组件\", \"使用Tab组件\", \"Timeline组件简化源码\"]\ncenter: true\nactive: 2 # 默认显示第二个选项卡，可选\n---\n#tab1\n内容：使用Chat组件\n#tab2\n内容：使用Tab组件\n#tab3\n内容：聊天组件源代码\n::\n","filename":"blog-using-nuxt.md","language":"mdc","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"tab\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"---\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"tabs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"使用Chat组件\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"使用Tab组件\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"Timeline组件简化源码\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"center"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"active"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" # 默认显示第二个选项卡，可选\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"---\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"#tab1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"内容：使用Chat组件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"#tab2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"内容：使用Tab组件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"#tab3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"内容：聊天组件源代码\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"::\n"}]}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab3":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes catppuccin-latte one-dark-pro","code":"<script lang=\"tsx\" setup>\nfunction render() {\n    return defineSlots().default?.().map((node: VNode) => {\n        const textContent = (node.children as any)?.default?.()[0].children || ''\n        const match = textContent?.match?.(/^\\{(.*?)\\}$/)\n        return match\n            ? <div class=\"timeline-caption\">{match[1]}</div>\n            : <div class=\"timeline-body card\">{node}</div>\n    })\n}\n</script>\n","filename":"Timeline.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" lang"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"tsx\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"function render() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    return defineSlots().default?.().map((node: VNode) => {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        const textContent = (node.children as any)?.default?.()[0].children || ''\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        const match = textContent?.match?.(/^\\{(.*?)\\}$/)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        return match\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"            ? <div class=\"timeline-caption\">{match[1]}</div>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"            : <div class=\"timeline-body card\">{node}</div>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"评论接入"},"children":[{"type":"text","value":"评论接入"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2024年6月28日，我为上一版博客接入了 Twikoo 评论系统；在8月11日新博客上线当天，我通过简易代码重新接入了 Twikoo。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来，KazariEX 提出使用 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"useScriptTag"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":" 引入 Twikoo，我觉得这就是一种抽象。从积极的插入脚本变为懒加载之后，无论是在外部使用动态 key 调用组件，抑或是在组件内监听 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"path"}]},{"type":"text","value":"，都会在 SSG 环境下异常，只得如此在 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":" 中手动重新调用，倒是显得不太优雅了。"}]},{"type":"element","tag":"tab","props":{":center":"true",":tabs":"[\"旧代码\", \"新代码\"]","center":"",":active":"2"},"children":[{"type":"element","tag":"template","props":{"v-slot:tab1":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes catppuccin-latte one-dark-pro","code":"onMounted(() => {\n    const script = document.createElement('script')\n    script.src = appConfig.twikoo.js\n    script.defer = true\n    script.onload = () => {\n        window.twikoo.init({\n            envId: appConfig.twikoo.envId,\n            el: '#tk-comment',\n        })\n    }\n    document.head.appendChild(script)\n})\n","filename":"Comment.vue > script setup","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" document"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"createElement"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'script'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"src"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" appConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"js\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"defer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"onload"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"        window"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"init"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"            envId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" appConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"envId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"            el"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '#tk-comment'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    document"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"appendChild"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab2":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes catppuccin-latte one-dark-pro","code":"function initTwikoo() {\n    window.twikoo?.init?.({\n        envId: appConfig.twikoo.envId,\n        el: '#twikoo',\n    })\n}\n// 从其他页面路由至文章页面时，通过 onLoaded 事件初始化，onMounted 不起作用\nuseScriptTag(appConfig.twikoo.js, () => initTwikoo(), { defer: true })\n// 在文章页面之间路由时不会触发 onLoaded 事件，需要手动初始化\nonMounted(() => initTwikoo())\n","filename":"Comment.vue > script setup","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" initTwikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    window"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"?."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"init"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"?."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"        envId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" appConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"envId"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"        el"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '#twikoo'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"// 从其他页面路由至文章页面时，通过 onLoaded 事件初始化，onMounted 不起作用\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"useScriptTag"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"appConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"twikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"js"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" initTwikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" defer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"// 在文章页面之间路由时不会触发 onLoaded 事件，需要手动初始化\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" initTwikoo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"())\n"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"页面布局"},"children":[{"type":"text","value":"页面布局"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我参考了 Stellar 主题的左中右三栏布局。其中，右侧栏可以通过元数据或 Front Matter 中的 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"aside"}]}]},{"type":"text","value":" 数组来自定义组件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stellar 主题使用 Grid 布局，而我选择借鉴 VitePress 默认主题的 Flex 布局实现方式，这样不仅兼容性更好，还能在隐藏右侧栏时让正文占据此空间。"}]},{"type":"element","tag":"pre","props":{"className":"language-yaml shiki shiki-themes catppuccin-latte one-dark-pro","code":"---\n# hideAside: true # 隐藏右侧栏\naside: [toc, github-card]\n---\n","filename":"blog-using-nuxt.md","language":"yaml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"---\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# hideAside: true # 隐藏右侧栏\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"aside"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"toc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" github-card"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"---\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在处理侧边栏显隐的逻辑时，我起初复用了 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"aside"}]}]},{"type":"text","value":"，其值为 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"false"}]}]},{"type":"text","value":" 时会隐藏侧边栏，但后来我发现这种写法意义不够明确，不利于其他人识别，尤其是代码中 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"aside"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" !=="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" false"}]}]},{"type":"text","value":" 的判断经常会被简化为 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"aside"}]}]},{"type":"text","value":"。在 isYangs 的建议下，我将隐藏侧边栏的逻辑移到了 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"hideAside"}]}]},{"type":"text","value":" 中，并修改了类型定义。"}]},{"type":"element","tag":"pre","props":{"className":"language-diff shiki shiki-themes catppuccin-latte one-dark-pro","code":"declare module 'vue-router' {\n    interface RouteMeta {\n-       aside: string[] | false\n+       hideAside?: boolean\n+       aside: string[]\n    }\n}\n","filename":"types/index.ts","language":"diff","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"declare module 'vue-router' {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    interface RouteMeta {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"       aside: string[] | false\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#98C379"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"       hideAside?: boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#98C379"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"       aside: string[]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"带动效应"},"children":[{"type":"text","value":"带动效应"}]},{"type":"element","tag":"h3","props":{"id":"汲取灵感"},"children":[{"type":"text","value":"汲取灵感"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我使用 Nuxt 和 Nuxt Content 开发博客时遇到了不少问题，但好在发现了不少使用 Nuxt Content 的小伙伴，他们的文章提供了不少灵感。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.ahzoo.cn/p/511b3f9/","rel":["nofollow"]},"children":[{"type":"text","value":"从Hexo到Nuxt，正式升级为动态博客！- Z次元"}]},{"type":"text","value":"：这篇文章来自我的友链，他的博客间接鼓励了我使用 Nuxt Content。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hadb.me/posts/switch-blog-from-ghost-to-nuxt-content","rel":["nofollow"]},"children":[{"type":"text","value":"博客从 Ghost 迁移至 Nuxt Content - HADB.ME"}]},{"type":"text","value":"：我开发博客时，他在 Wakatime 排行榜上每日代码时长、语言排名与我极其相似，再访问他的个人主页，原来他也在使用 Nuxt Content 构建博客，非常巧合。我参考了他的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"atom.xml"}]},{"type":"text","value":" 生成逻辑。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.gxres.net/posts/rebuild-my-blog-with-nuxt","rel":["nofollow"]},"children":[{"type":"text","value":"使用 Nuxt 重构我的博客 - Restent's Notebook"}]},{"type":"text","value":"：刚开始参考了他的目录逻辑，但后来通过递归使用复用组件完成了逻辑，并做出了伴随滚动切换高亮项的目录。"}]}]},{"type":"element","tag":"h3","props":{"id":"开源反哺"},"children":[{"type":"text","value":"开源反哺"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在使用 Nuxt Content 开发博客时，为其他人提供了一些样式思路。博客交流群里也有不少小伙伴受到鼓舞，使用现代的前端框架重构博客。"}]},{"type":"element","tag":"h2","props":{"id":"兼容优化"},"children":[{"type":"text","value":"兼容优化"}]},{"type":"element","tag":"h3","props":{"id":"样式特性"},"children":[{"type":"text","value":"样式特性"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然，也少不了我们的老伙计——安卓上的夸克浏览器。"}]},{"type":"element","tag":"quote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果一个现代的前端网站能在夸克APP上正常运行，那么它的兼容性"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"十分"}]},{"type":"text","value":"良好；如果它将兼容夸克APP，那么我认为这实在"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"万分"}]},{"type":"text","value":"厉害。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它除了不支持五年前的 "},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"prefers-color-scheme"}]}]},{"type":"text","value":" 特性外，我还在测试环节留意到诸如 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dvh"}]},{"type":"text","value":" 的动态视口单位、"},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":" 函数式伪类等新特性也不受支持。对于动态视口单位，我通过多个声明语句渐进覆盖，「风记星辰」的站长「宇」推荐我阅读 "},{"type":"element","tag":"a","props":{"href":"https://www.thyuu.com/72670#%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88","rel":["nofollow"]},"children":[{"type":"text","value":"2023年应该重新定义的CSS习惯(一)"}]},{"type":"text","value":"，使用更优雅的媒体查询 "},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"@supports"}]}]},{"type":"text","value":" 写法。对于 "},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":" 函数式伪类，我通过 Vue 的动态 class 绑定解决。"}]},{"type":"element","tag":"quote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"代码越少，越使用新特性。越使用新特性，兼容性越差。兼容性越差，越需要更多的兼容性代码。所以代码越少，代码就越多。"}]}]},{"type":"element","tag":"h3","props":{"id":"ssg-ssr"},"children":[{"type":"text","value":"SSG != SSR"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 之 SSR 开发体验，善也。然限于 Vercel 之速，以 SSG 部署尔。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上文样式之扰仅为滥觞，代码之兼容性亦困我于囹圄。幸有 KazariEX 助我。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其一为 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"Object"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"groupBy"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":"——本地体验大善，上云部署错误，观之为 Node.js 20 环境，果断升至 22。此后正常部署，本地体验正常。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"喜笑颜开之时，掏出夸克APP。不喜。"}]},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" group"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" 'radash'"}]}]},{"type":"text","value":" 解决之。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其二为 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"prototype"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sort"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":"。此为修改方法而非复制方法，会破坏响应性。忽闻 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"prototype"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"toSorted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":"，大喜，如获至宝，遂部署。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"复掏出夸克APP。不喜。"}]},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" alphabetical"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" 'radash'"}]}]},{"type":"text","value":" 解决之。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其三为 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"prototype"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":"。开启 Chrome 88，发觉友链页面先正常加载后报错。此为 SSG 与 CSR "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"水合不匹配"}]},{"type":"text","value":"，经查，友链页面提取域名之函数使用 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"prototype"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":"，而 Chrome 92 之前无此方法。遂改之。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其四为 SSG 下 HTML 属性 (attrs) 响应性之缺失。初，使用 URL 之查询参数 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"?page="}]},{"type":"text","value":" 以定页面，点击翻页功能如常，然刷新时渲染不符预期。测试 attrs 时，发现其难以具备响应性，遂弃查询参数，以 Vue Router 之动态路由匹配 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/page/:page"}]},{"type":"text","value":" 替之。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其五为 SSG 下侧栏组件篡位。侧栏目录 (TOC) 组件在换文之时，会悄然以新文数据覆于旧文缓存中，偶以极其复杂之触发条件令其原形毕现，遂通过侧栏动态组件之 key 断其生命周期，乃造新 TOC 于新文而非旧 TOC 监听 URL 路径以篡其数据也。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"SSG 之 Bug 种种，实扰人耳。"}]},{"type":"element","tag":"h3","props":{"id":"bug-排查"},"children":[{"type":"text","value":"Bug 排查"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"发现了 Bug，当然要快速定位问题。还好我使用的是 Vercel，它提供了历史部署版本的快照，通过访问旧部署，即可快速定位到 Commit 和出现问题的代码。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后只需要修复就行。至少听起来十分轻松。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"嗯，我还会留下注释，防止自己后续优化代码时又改回可能导致 Bug 的写法。"}]},{"type":"element","tag":"quote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这个项目里，没有一行注释是无辜的。"}]}]},{"type":"element","tag":"h3","props":{"id":"列表负载"},"children":[{"type":"text","value":"列表负载"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我善于观察异常的苗头，因此发现了许多容易被忽视的问题。例如，我的博客上线第一天，相比于旧博客的带宽消耗翻了番。经过排查，首页、归档页面加载时，会附带一个约 2MB 的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"payload.json"}]},{"type":"text","value":"，细看发现竟含有我全站的文章元数据和正文内容。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"KazariEX 猜我没学过数据库，因为我犯了类似 "},{"type":"element","tag":"code","props":{"className":"language-sql shiki shiki-themes catppuccin-latte one-dark-pro","language":"sql","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" *"}]}]},{"type":"text","value":" 的错误。而我也确实没学过，毕竟这学期才会有《数据库原理与应用》课程。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过凭直觉，应该在查询结果中排除 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":" 字段，后来我改成只选择指定字段，需要什么就加什么。虽然 Nuxt 相比于 Vue 不用手动书写 Vue 内置函数、组件、工具函数、组合式函数的导入语句，但在 Nuxt Content 的编程模式下，我仍需审慎组合、使用它提供的 API。"}]},{"type":"element","tag":"h3","props":{"id":"seo"},"children":[{"type":"text","value":"SEO"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2024年8月24日是我博客历史上灰暗的一天，因为我的必应和谷歌搜索流量几乎置零。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我的所有页面被错误的打上了 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"noindex"}]},{"type":"text","value":" 标记，这将阻止搜索引擎索引我的博客；我的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sitemap.xml"}]},{"type":"text","value":" 为空，这相当于博客告诉搜索引擎自己没有内容。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我起初引入 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxtjs/seo@2.0.0-rc.16"}]},{"type":"text","value":" 时一切检查正常，但在一次依赖更新后，改变悄然发生。有用户在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxtjs/seo@2.0.0-rc.18"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://github.com/harlan-zw/nuxt-seo/issues/296","rel":["nofollow"]},"children":[{"type":"text","value":"报告了空 sitemap 问题"}]},{"type":"text","value":"，开发者讲虽然有一个“轻微的 (slightly) 破坏性 (breaking) 更改”，但造成空 sitemap 另有其因，应当升级依赖。"}]},{"type":"element","tag":"h3","props":{"id":"来自未来的文章"},"children":[{"type":"text","value":"来自未来的文章"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"YAML 会以 UTC 时区解析 Front Matter 中的时间，刚更新的文章常常显示来自“8小时后”，但我希望以本地时区解析。刚开始修改了 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"getPostDate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]}]},{"type":"text","value":" 函数，但语义化的 "},{"type":"element","tag":"del","props":{},"children":[{"type":"element","tag":"code","props":{"className":"language-html shiki shiki-themes catppuccin-latte one-dark-pro","language":"html","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" datetime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"{{ date }}\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]}]}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":"language-html shiki shiki-themes catppuccin-latte one-dark-pro","language":"html","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"time"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" :datetime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"date\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" 标签依旧不符合规范，因此编写了这个 Nitro 插件用于修正时区。"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes catppuccin-latte one-dark-pro","code":"import { getTimezoneOffset } from 'date-fns-tz'\nimport blogConfig from '~~/blog.config'\n\nconst timezoneOffset = getTimezoneOffset(blogConfig.timezone)\n\nexport default defineNitroPlugin((nitroApp) => {\n    nitroApp.hooks.hook('content:file:afterParse', (file) => {\n        if (file.date) {\n            file.date = new Date(new Date(file.date).getTime() - timezoneOffset)\n        }\n        if (file.updated) {\n            file.updated = new Date(new Date(file.updated).getTime() - timezoneOffset)\n        }\n    })\n})\n","filename":"server/plugins/fixPostTimezone.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" getTimezoneOffset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" 'date-fns-tz'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" blogConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '~~/blog.config'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" timezoneOffset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" getTimezoneOffset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"blogConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"timezone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" defineNitroPlugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E64553;--shiki-default-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"nitroApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    nitroApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"hooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'content:file:afterParse'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E64553;--shiki-default-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"        if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"            file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-default-font-weight:bold;--shiki-dark:#C678DD;--shiki-dark-font-weight:inherit"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-default-font-weight:bold;--shiki-dark:#C678DD;--shiki-dark-font-weight:inherit"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"getTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" timezoneOffset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"        if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"updated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"            file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"updated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-default-font-weight:bold;--shiki-dark:#C678DD;--shiki-dark-font-weight:inherit"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-default-font-weight:bold;--shiki-dark:#C678DD;--shiki-dark-font-weight:inherit"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" Date"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"updated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"getTime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" timezoneOffset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 虽然是热更新，但我甚至重启开发环境都不能确保其生效，必须手动清除缓存。"}]},{"type":"element","tag":"h3","props":{"id":"颜色追求"},"children":[{"type":"text","value":"颜色追求"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"行内代码 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"inline-code"}]},{"type":"text","value":" 的需求"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其 "},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"border-color"}]}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","language":"css","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"background-color"}]}]},{"type":"text","value":" 应跟随文本颜色变化，而不是单调的灰色。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"起初我想写为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rgba(currentcolor, 0.2)"}]},{"type":"text","value":" ，但一方面它不符合 SCSS 的函数参数个数要求，另一方面 CSS 仅支持自定义属性 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rgba(var(--color), 0.2)"}]},{"type":"text","value":" 而不支持在其中使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"currentColor"}]},{"type":"text","value":"。故只能使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"#{\"rgba(var(--color), 0.2)\"}"}]},{"type":"text","value":" 的形式绕过 SCSS 检查，还要通过 JS 计算出当前颜色并写入 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--color"}]},{"type":"text","value":" 中，并且在切换深色模式后还需要重新计算值，可谓十分不优雅。"}]},{"type":"element","tag":"tab","props":{":center":"true",":tabs":"[\"旧代码\", \"新代码\"]","center":""},"children":[{"type":"element","tag":"template","props":{"v-slot:tab1":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes catppuccin-latte one-dark-pro","code":"<script setup lang=\"ts\">\nconst code = ref<HTMLElement>()\nconst color = ref<string>()\nonMounted(() => {\n    const rgbColorStr = getComputedStyle(code.value!).color\n    color.value = rgbColorStr.match(/\\d+/g)!.map(Number).join(',')\n})\n</script>\n\n<template>\n    <code ref=\"code\" :style=\"{ '--color': color }\"><slot /></code>\n</template>\n\n<style scoped lang=\"scss\">\ncode {\n    padding: 0.1em 0.3em;\n    border: 1px solid #{\"rgba(var(--color), 0.2)\"};\n    border-radius: 4px;\n    background-color: #{\"rgba(var(--color), 0.05)\"};\n    font-size: 0.875em;\n}\n</style>\n","filename":"ProseCodeInline.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" lang"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"ts\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#04A5E5;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-default-font-style:italic;--shiki-dark:#E5C07B;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"HTMLElement"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#04A5E5;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" color"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#04A5E5;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#04A5E5;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#C678DD"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" rgbColorStr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":" getComputedStyle"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"color\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"    color"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":" rgbColorStr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"match"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"/\\d"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"g"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"Number"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"','"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '--color'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" color"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#FFFFFF"},"children":[{"type":"text","value":" /"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" scoped"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" lang"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"scss\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"code {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    padding: 0.1em 0.3em;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    border: 1px solid #{\"rgba(var(--color), 0.2)\"};\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    border-radius: 4px;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    background-color: #{\"rgba(var(--color), 0.05)\"};\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    font-size: 0.875em;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:tab2":""},"children":[{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes catppuccin-latte one-dark-pro","code":"<template>\n    <code><slot /></code>\n</template>\n\n<style scoped lang=\"scss\">\ncode {\n    padding: 0.1em 0.3em;\n    border: 1px solid var(--c-border);\n    border-color: color-mix(in srgb, currentcolor 10%, transparent);\n    border-radius: 4px;\n    background-color: var(--c-bg-2);\n    background-color: color-mix(in srgb, currentcolor 5%, transparent);\n    font-size: 0.875em;\n}\n</style>\n","filename":"ProseCodeInline.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#FFFFFF"},"children":[{"type":"text","value":" /"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" scoped"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" lang"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"scss\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"code {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    padding: 0.1em 0.3em;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    border: 1px solid var(--c-border);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    border-color: color-mix(in srgb, currentcolor 10%, transparent);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    border-radius: 4px;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    background-color: var(--c-bg-2);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    background-color: color-mix(in srgb, currentcolor 5%, transparent);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    font-size: 0.875em;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">\n"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来，KazariEX 提到了 CSS "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"color-mix()"}]},{"type":"text","value":" 函数，我认为他又一次给出了真正优雅的答案。至于兼容性？不担心的，通过上文「多个声明语句渐进覆盖」的方法即可解决。"}]},{"type":"element","tag":"h2","props":{"id":"阶段总结"},"children":[{"type":"text","value":"阶段总结"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"经过约一个月/200小时的开发，我的博客由 Hexo 转为基于 Nuxt Content 开发的项目。项目选型、主要功能完成后，我选择不断优化已有代码，修复 Bug、优化性能、语义化和兼容性。我认为，开发就是不断的做加法和减法，在项目起步阶段，减法比加法更重要，这样才有利于后续功能的扩展，而不是面对「独木桥上架起的二层小洋房」无从下手。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另外，我认为，博客的精髓在于内容，技术与框架不过是其内在的骨架，样式也仅为锦上添花的一笔，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"真正优秀的博客并不会因为架构、样式的陈旧或简单而蒙尘"}]},{"type":"text","value":"。我仍将持续投入内容创作与功能建构，以期形成自己的独特表达。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"升级动力","depth":2,"text":"升级动力","children":[{"id":"hexo-主题","depth":3,"text":"Hexo 主题"},{"id":"站际关系","depth":3,"text":"「站」际关系"},{"id":"博客美化","depth":3,"text":"博客美化"},{"id":"重构思考","depth":3,"text":"重构思考"}]},{"id":"功能开发","depth":2,"text":"功能开发","children":[{"id":"深色模式","depth":3,"text":"深色模式"},{"id":"样式预处理","depth":3,"text":"样式预处理"},{"id":"海量组件","depth":3,"text":"海量组件"},{"id":"评论接入","depth":3,"text":"评论接入"},{"id":"页面布局","depth":3,"text":"页面布局"}]},{"id":"带动效应","depth":2,"text":"带动效应","children":[{"id":"汲取灵感","depth":3,"text":"汲取灵感"},{"id":"开源反哺","depth":3,"text":"开源反哺"}]},{"id":"兼容优化","depth":2,"text":"兼容优化","children":[{"id":"样式特性","depth":3,"text":"样式特性"},{"id":"ssg-ssr","depth":3,"text":"SSG != SSR"},{"id":"bug-排查","depth":3,"text":"Bug 排查"},{"id":"列表负载","depth":3,"text":"列表负载"},{"id":"seo","depth":3,"text":"SEO"},{"id":"来自未来的文章","depth":3,"text":"来自未来的文章"},{"id":"颜色追求","depth":3,"text":"颜色追求"}]},{"id":"阶段总结","depth":2,"text":"阶段总结"}]}},"_type":"markdown","_id":"content:posts:2024:blog-using-nuxt.md","_source":"content","_file":"posts/2024/blog-using-nuxt.md","_stem":"posts/2024/blog-using-nuxt","_extension":"md","_original_dir":"/posts"}