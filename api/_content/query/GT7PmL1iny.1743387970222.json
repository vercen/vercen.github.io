{"_path":"/2024/linux-samba","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"Linux 下通过 Samba 共享文件夹","description":"Linux 作为 SMB 协议服务器，向其他设备提供共享文件夹服务。","date":"2024-08-04T13:11:03.000Z","updated":"2024-09-04T18:04:43.000Z","categories":["经验分享"],"tags":["教程","archlinux","samba","smb"],"references":[{"title":"smbpasswd - Samba man page","link":"https://www.samba.org/samba/docs/current/man-html/smbpasswd.8.html"},{"title":"Samba - Arch Linux 中文维基","link":"https://wiki.archlinuxcn.org/wiki/Samba"}],"readingTime":{"text":"3 min read","minutes":2.44,"time":146400,"words":488},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"SMB (Server Message Block) 是一种网络文件共享协议；Samba 是在 Linux 上实现 SMB/CIFS 的自由软件服务。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果要在 Windows 上使用 SMB 共享文件夹，请参阅 "},{"type":"element","tag":"a","props":{"href":"/2023/tailscale-incomplete-guide"},"children":[{"type":"text","value":"Tailscale 不完全使用指南 # Windows 文件共享"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h2","props":{"id":"简单传输文件"},"children":[{"type":"text","value":"简单传输文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果只是单次传输文件，可以考虑使用 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"scp"}]}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"rsync"}]}]},{"type":"text","value":"。"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"scp -P 22 /path/to/file user@host:/path/to/destination\nrsync -avzP /path/to/file user@host:/path/to/destination\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"scp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -P"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" 22"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /path/to/file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" user@host:/path/to/destination\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"rsync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -avzP"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /path/to/file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" user@host:/path/to/destination\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"作为服务器"},"children":[{"type":"text","value":"作为服务器"}]},{"type":"element","tag":"h3","props":{"id":"安装和启动-samba-服务"},"children":[{"type":"text","value":"安装和启动 Samba 服务"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"sudo pacman -S samba\nsudo systemctl enable --now smb.service\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" pacman"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -S"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" samba\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" --now"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" smb.service\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"添加-samba-用户"},"children":[{"type":"text","value":"添加 Samba 用户"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设置本用户的 SMB 密码：\n"},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"sudo smbpasswd -a my_username\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" smbpasswd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" my_username\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果你需要使用其他账户访问 SMB，请添加对应用户名：\n"},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"# 添加用户并阻止此用户登录 shell\nsudo useradd a_smb_guest_name -s /bin/nologin\nsudo smbpasswd -a a_smb_guest_name\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 添加用户并阻止此用户登录 shell\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" useradd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" a_smb_guest_name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -s"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /bin/nologin\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" smbpasswd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" a_smb_guest_name\n"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"配置-samba"},"children":[{"type":"text","value":"配置 Samba"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"请参阅 SMB 默认配置文件 "},{"type":"element","tag":"a","props":{"href":"https://git.samba.org/samba.git/?p=samba.git;a=blob_plain;f=examples/smb.conf.default;hb=HEAD","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"smb.conf"}]},{"type":"text","value":" 的官方示例"}]},{"type":"text","value":"。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"编辑 Samba 配置文件："}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"sudo vim /etc/samba/smb.conf\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" vim"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /etc/samba/smb.conf\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在配置文件中添加以下内容："}]},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","code":"[global]\n   # 主机名配置\n   netbios name = Arch  # 设置主机名\n\n   # 用户访问配置\n   map to guest = bad user  # 将无效用户映射为 guest\n   guest ok = yes  # 允许 guest 访问\n\n   # 以下是可选项，使用默认值即可：\n   ; workgroup = WORKGROUP  # 默认工作组名称\n   ; server string = Samba Server  # 服务器描述字符串，默认是 \"Samba %v\"\n   ; guest only = no  # 是否只允许 guest 访问，默认是 no\n\n[share_folder_display_name]  # 文件夹共享设置\n   path = /path/to/share  # 指定共享路径\n   valid users = username1 username2  # 允许访问的用户列表\n\n   # 以下是可选项，使用默认值即可：\n   ; comment = Guest Share  # 文件夹的描述，默认是空字符串\n   ; public = yes  # 允许公开访问，通常与 guest ok 配合使用，默认是 no\n   ; browseable = yes  # 共享是否在网络中可见，默认是 yes\n   ; read only = no  # 共享是否只读，默认是 no\n   ; writable = yes  # 共享是否可写，默认与 read only 相反\n   ; guest ok = no  # 是否允许 guest 访问，默认是 no\n\n","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"global"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   # 主机名配置\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"   netbios "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":" Arch  "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 设置主机名\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   # 用户访问配置\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"   map to "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"guest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":" bad user  "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 将无效用户映射为 guest\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"   guest "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"ok"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":" yes  "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 允许 guest 访问\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   # 以下是可选项，使用默认值即可：\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; workgroup = WORKGROUP  # 默认工作组名称\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; server string = Samba Server  # 服务器描述字符串，默认是 \"Samba %v\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; guest only = no  # 是否只允许 guest 访问，默认是 no\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"share_folder_display_name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#61AFEF"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"  # 文件夹共享设置\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"   path"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /path/to/share  "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 指定共享路径\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"   valid "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"users"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":" username1 username2  "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 允许访问的用户列表\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   # 以下是可选项，使用默认值即可：\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; comment = Guest Share  # 文件夹的描述，默认是空字符串\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; public = yes  # 允许公开访问，通常与 guest ok 配合使用，默认是 no\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; browseable = yes  # 共享是否在网络中可见，默认是 yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; read only = no  # 共享是否只读，默认是 no\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; writable = yes  # 共享是否可写，默认与 read only 相反\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"   ; guest ok = no  # 是否允许 guest 访问，默认是 no\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"作为客户端"},"children":[{"type":"text","value":"作为客户端"}]},{"type":"element","tag":"link-card","props":{"icon":"https://coda.world/favicon.ico","link":"https://coda.world/linux-and-samba-share/","title":"Linux 下访问 Samba 共享的几种姿势"},"children":[]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"简单传输文件","depth":2,"text":"简单传输文件"},{"id":"作为服务器","depth":2,"text":"作为服务器","children":[{"id":"安装和启动-samba-服务","depth":3,"text":"安装和启动 Samba 服务"},{"id":"添加-samba-用户","depth":3,"text":"添加 Samba 用户"},{"id":"配置-samba","depth":3,"text":"配置 Samba"}]},{"id":"作为客户端","depth":2,"text":"作为客户端"}]}},"_type":"markdown","_id":"content:posts:2024:linux-samba.md","_source":"content","_file":"posts/2024/linux-samba.md","_stem":"posts/2024/linux-samba","_extension":"md","_original_dir":"/posts"}