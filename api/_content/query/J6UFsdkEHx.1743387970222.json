{"_path":"/2023/archlinux-configure","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"Arch Linux 初步配置","description":"在 Arch Linux 系统上安装配置必备软件，如蓝牙、Yay、Zsh、输入法等。","date":"2023-06-24T01:31:15.000Z","updated":"2024-12-19T00:23:15.000Z","image":"https://7.isyangs.cn/24/6664009851eb0-24.jpg","categories":["经验分享"],"tags":["教程","archlinux","系统"],"readingTime":{"text":"6 min read","minutes":5.525,"time":331500,"words":1105},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"如果你没有浏览器"},"children":[{"type":"text","value":"如果你没有浏览器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这篇文章中有大量命令，如果你的 Arch Linux 没有浏览器，可以这样做："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"启动 SSH 服务\n"},{"type":"element","tag":"copy","props":{"code":"sudo systemctl start sshd"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看 IP 地址\n"},{"type":"element","tag":"copy","props":{"code":"ip -br a"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在其他有浏览器的设备上通过 SSH 连接到这台设备（复制后按 Ctrl+Shift+V 粘贴内容）\n"},{"type":"element","tag":"copy","props":{"code":"ssh 用户名@IP地址","prompt":"PS>"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"换源"},"children":[{"type":"text","value":"换源"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pacman（Arch Linux 的包管理器）会使用安装时的镜像源列表设置。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果在安装时使用 ArchInstall 里的 Mirror 选项设置了源，建议使用 Reflector 来更新源。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S reflector"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 Reflector 更新源\n"},{"type":"element","tag":"copy","props":{"code":"sudo reflector --verbose --country China --sort rate --save /etc/pacman.d/mirrorlist"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"移除风控严格的镜像源，防止滚包中断或损坏本地数据库\n"},{"type":"element","tag":"copy","props":{"code":"sudo sed -i '/zju/d' /etc/pacman.d/mirrorlist"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你在日常滚包时更新时提示 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-> could not open file /var/lib/pacman/sync/core.db: Unrecognized archive format"}]},{"type":"text","value":"，说明数据库文件被替换为风控页面的 HTML 文件，需要手动删除被篡改的本地数据库，然后重新滚包。"}]},{"type":"element","tag":"h2","props":{"id":"字体"},"children":[{"type":"text","value":"字体"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"中文字体\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S ttf-sarasa-gothic"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Nerd 字体 (zsh 主题需要)\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S ttf-nerd-fonts-symbols"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"设置时间策略"},"children":[{"type":"text","value":"设置时间策略"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Linux 一般认为主板时间是 UTC 时间，而 Windows 认为主板时间是当地时间。如果在双系统之间切换，则开机时时间会不正常，所以需要设置时间策略。"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"让 Linux 认为主板时间是当地时间，而不是 UTC\n"},{"type":"element","tag":"copy","props":{"code":"sudo timedatectl set-local-rtc true"},"children":[]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果不想这样设置，还可以在 Windows 中添加注册表项，让 Windows 认为主板时间是 UTC。但是不要在两个系统中同时设置，否则矫枉过正会导致切换系统时产生反向时间差。"}]},{"type":"element","tag":"copy","props":{"code":"reg add HKLM\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1","prompt":"PS(管理员)>"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"显卡驱动"},"children":[{"type":"text","value":"显卡驱动"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"仅限主流 Nvidia 显卡\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S nvidia"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一般情况下不需要做出更多的配置，如果遇到问题，请参考 "},{"type":"element","tag":"a","props":{"href":"https://wiki.archlinuxcn.org/wiki/NVIDIA","rel":["nofollow"]},"children":[{"type":"text","value":"ArchWiki - NVIDIA"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"a","props":{"href":"https://arch.icekylin.online/guide/rookie/graphic-driver","rel":["nofollow"]},"children":[{"type":"text","value":"archlinux 简明指南 - 显卡驱动"}]},{"type":"text","value":"（"},{"type":"element","tag":"a","props":{"href":"https://arch.cooo.site/guide/rookie/graphic-driver","rel":["nofollow"]},"children":[{"type":"text","value":"镜像站"}]},{"type":"text","value":"）。另外，Nvidia 对于 Wayland 的兼容不佳，所以尽可能选择 X11 相关的桌面环境。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装完显卡驱动后重启，检测 Nvidia 显卡驱动是否正常工作\n"},{"type":"element","tag":"copy","props":{"code":"nvidia-smi"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果显示 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"couldn't communicate with the NVIDIA driver"}]},{"type":"text","value":" 提示，可能是显卡驱动没有安装成功\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以先卸载 Nvidia 相关软件包"}]}]},{"type":"element","tag":"copy","props":{"code":"sudo pacman -Rs nvidia nvidia-utils"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"强制更新 Pacman 软件包列表"}]}]},{"type":"element","tag":"copy","props":{"code":"sudo pacman -Syyuu"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"重新安装 Nvidia 驱动"}]}]},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S nvidia"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"重启"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之后在桌面右键菜单第二项“配置显示设置…”，将显示器缩放调整为一个合适的倍数。"}]},{"type":"element","tag":"h2","props":{"id":"git"},"children":[{"type":"text","value":"Git"}]},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S git"},"children":[]},{"type":"element","tag":"h2","props":{"id":"goproxy-环境变量"},"children":[{"type":"text","value":"GOPROXY 环境变量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以使用 "},{"type":"element","tag":"a","props":{"href":"https://goproxy.cn/","rel":["nofollow"]},"children":[{"type":"text","value":"七牛云Goproxy.cn"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://goproxy.io/zh/","rel":["nofollow"]},"children":[{"type":"text","value":"goproxy.io"}]},{"type":"text","value":" 镜像加速。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编辑环境变量文件\n"},{"type":"element","tag":"copy","props":{"code":"sudo vim /etc/environment"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"向环境变量中添加以下内容（按 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i"}]},{"type":"text","value":" 键进入编辑模式，按 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Esc"}]},{"type":"text","value":" 键退出编辑模式，输入 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":wq"}]},{"type":"text","value":" 保存并退出）\n"},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","code":"# GOPROXY\nGO111MODULE=on\nGOPROXY=https://goproxy.cn\n","filename":"/etc/environment","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# GOPROXY\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"GO111MODULE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"on\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"GOPROXY"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"https://goproxy.cn\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"pacmanyay-加速编译"},"children":[{"type":"text","value":"Pacman/Yay 加速编译"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看 CPU 线程数\n"},{"type":"element","tag":"copy","props":{"code":"cat /proc/cpuinfo | grep processor | wc -l"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编辑 makepkg 配置文件\n"},{"type":"element","tag":"copy","props":{"code":"sudo vim /etc/makepkg.conf"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"修改编译线程数：删除 "},{"type":"element","tag":"code","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","language":"ini","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"MAKEFLAGS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"j[N]"}]}]},{"type":"text","value":" 前面的注释标记，并将 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" 替换为 CPU 线程数（输入 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/MAKE"}]},{"type":"text","value":" 搜索）\n"},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","code":"MAKEFLAGS=\"-j8\"\n","filename":"/etc/makepkg.conf","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"MAKEFLAGS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"-j8\"\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"启用蓝牙"},"children":[{"type":"text","value":"启用蓝牙"}]},{"type":"element","tag":"copy","props":{"code":"sudo systemctl enable --now bluetooth"},"children":[]},{"type":"element","tag":"h2","props":{"id":"yay"},"children":[{"type":"text","value":"Yay"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"下载，需要先安装 Git。\n"},{"type":"element","tag":"copy","props":{"code":"git clone http://aur.archlinux.org/yay.git && cd yay"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编译安装，不行就多试几次或者换个网络。\n"},{"type":"element","tag":"copy","props":{"code":"GOPROXY=http://goproxy.cn makepkg -si"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装后就能清除 Git 目录了。\n"},{"type":"element","tag":"copy","props":{"code":"cd .. && rm -rf yay"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"浏览器"},"children":[{"type":"text","value":"浏览器"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Microsoft Edge\n"},{"type":"element","tag":"copy","props":{"code":"yay -S microsoft-edge-dev-bin"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Google Chrome\n"},{"type":"element","tag":"copy","props":{"code":"yay -S google-chrome"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"vs-code"},"children":[{"type":"text","value":"VS Code"}]},{"type":"element","tag":"copy","props":{"code":"yay -S visual-studio-code-bin"},"children":[]},{"type":"element","tag":"h2","props":{"id":"v2echo-raya"},"children":[{"type":"text","value":"V2$(echo r)aya"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要先安装浏览器，或者局域网下其他设备访问本设备的 2017 端口的 Web 控制台。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装 V2$(echo r)aya-bin\n"},{"type":"element","tag":"copy","props":{"code":"yay -S v2$(echo r)aya-bin"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"启动 V2$(echo r)aya 服务并设置开机启动\n"},{"type":"element","tag":"copy","props":{"code":"sudo systemctl enable --now v2$(echo r)aya"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果遇到问题，可以手动安装。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"切换到 yay/v2$(echo r)aya 目录\n"},{"type":"element","tag":"copy","props":{"code":"cd ~/.cache/yay/v2$(echo r)aya-bin"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编辑 PKGBUILD 文件\n"},{"type":"element","tag":"copy","props":{"code":"vim PKGBUILD"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"删除报错的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"armv6h"}]},{"type":"text","value":" 架构，并保存退出\n"},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","code":"arch=('x86_64') # 主要保留 x86_64 架构即可\n","filename":"PKGBUILD","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"arch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'x86_64'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# 主要保留 x86_64 架构即可\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编译安装\n"},{"type":"element","tag":"copy","props":{"code":"GOPROXY=http://goproxy.cn makepkg -si"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"启动 V2$(echo r)aya 服务并设置开机启动"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"随后点击图标会自动访问 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://127.0.0.1:2017"}]},{"type":"text","value":"，配置即可。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"点击右上角的“设置”"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"透明Proxy/系统Proxy："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"启用: 分流规则与规则端口所选规则一致"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"透明Proxy/系统Proxy实现方式："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tproxy"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"规则端口的分流模式："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mainland 白名单模式"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"点击“保存并应用”"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在左上角启停 V2$(echo r)aya"}]}]},{"type":"element","tag":"h2","props":{"id":"zsh"},"children":[{"type":"text","value":"Zsh"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大多数 Zsh 主题需要 Nerd 字体才能显示图标。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装 Zsh 和常用插件\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman -S zsh zsh-completions zsh-autosuggestions zsh-syntax-highlighting"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装 Powerlevel10k 主题\n"},{"type":"element","tag":"copy","props":{"code":"yay -S zsh-theme-powerlevel10k"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设置本用户的默认 Shell 为 Zsh\n"},{"type":"element","tag":"copy","props":{"code":"chsh -s /usr/bin/zsh"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编辑 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.zshrc"}]},{"type":"element","tag":"copy","props":{"code":"vim ~/.zshrc"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"向配置文件中添加以下内容\n"},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"# Lines configured by zsh-newuser-install\nHISTFILE=~/.histfile\nHISTSIZE=1000\nSAVEHIST=1000\nbindkey -e\n# End of lines configured by zsh-newuser-install\n\n# The following lines were added by compinstall\nautoload -Uz compinit\ncompinit\n# End of lines added by compinstall\n\nsource /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\nsource /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme\n\nbindkey '^[[H' beginning-of-line\nbindkey '^[[F' end-of-line\nbindkey '^[[1;5C' forward-word\nbindkey '^[[1;5D' backward-word\nbindkey '^H' backward-kill-word\nbindkey '^[[3~' delete-char\n\nzstyle ':completion:*' menu select\n\nalias ls='ls --color=auto'\nalias ll='ls -alFh --time-style=iso'\nalias ip='ip --color'\nalias grep='grep --color=auto'\n","filename":"~/.zshrc","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# Lines configured by zsh-newuser-install\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"HISTFILE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"~/.histfile\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"HISTSIZE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"1000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"SAVEHIST"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"1000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -e\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# End of lines configured by zsh-newuser-install\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# The following lines were added by compinstall\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"autoload"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -Uz"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" compinit\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"compinit\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# End of lines added by compinstall\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^[[H'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" beginning-of-line\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^[[F'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" end-of-line\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^[[1;5C'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" forward-word\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^[[1;5D'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" backward-word\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^H'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" backward-kill-word\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"bindkey"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" '^[[3~'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" delete-char\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"zstyle"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" ':completion:*'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" menu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" select\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'ls --color=auto'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" ll"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'ls -alFh --time-style=iso'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" ip"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'ip --color'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#8839EF;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"alias"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" grep"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"'grep --color=auto'\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"输入法"},"children":[{"type":"text","value":"输入法"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你使用 Wayland，操作可能不同，可以参照 "},{"type":"element","tag":"a","props":{"href":"https://wiki.archlinuxcn.org/wiki/Fcitx5","rel":["nofollow"]},"children":[{"type":"text","value":"Fcitx5 - Arch Linux 中文维基"}]},{"type":"text","value":"。你也可以将"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"fcitx5-chinese-addons"}]},{"type":"text","value":"替换为中州韵和 Rime。"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装 Fcitx5 和中文输入插件\n"},{"type":"element","tag":"copy","props":{"code":"yay -S fcitx5-im fcitx5-chinese-addons"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"配置环境变量\n"},{"type":"element","tag":"copy","props":{"code":"sudo vim /etc/environment"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"向环境变量添加以下内容\n"},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","code":"# Fcitx5\nGTK_IM_MODULE=fcitx\nQT_IM_MODULE=fcitx\nXMODIFIERS=@im=fcitx\nSDL_IM_MODULE=fcitx\nINPUT_METHOD=fcitx\nGLFW_IM_MODULE=ibus\n","filename":"/etc/environment","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"# Fcitx5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"GTK_IM_MODULE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"fcitx\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"QT_IM_MODULE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"fcitx\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"XMODIFIERS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"@"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"im"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"fcitx\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"SDL_IM_MODULE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"fcitx\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"INPUT_METHOD"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"fcitx\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#C678DD"},"children":[{"type":"text","value":"GLFW_IM_MODULE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#98C379"},"children":[{"type":"text","value":"ibus\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"继续优化其他体验"},"children":[{"type":"text","value":"继续优化其他体验"}]},{"type":"element","tag":"link-banner","props":{"banner":"https://7.isyangs.cn/24/666400971559b-24.jpg","link":"/2023/archlinux-beautify","title":"Arch Linux 易用性及美化"},"children":[]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"如果你没有浏览器","depth":2,"text":"如果你没有浏览器"},{"id":"换源","depth":2,"text":"换源"},{"id":"字体","depth":2,"text":"字体"},{"id":"设置时间策略","depth":2,"text":"设置时间策略"},{"id":"显卡驱动","depth":2,"text":"显卡驱动"},{"id":"git","depth":2,"text":"Git"},{"id":"goproxy-环境变量","depth":2,"text":"GOPROXY 环境变量"},{"id":"pacmanyay-加速编译","depth":2,"text":"Pacman/Yay 加速编译"},{"id":"启用蓝牙","depth":2,"text":"启用蓝牙"},{"id":"yay","depth":2,"text":"Yay"},{"id":"浏览器","depth":2,"text":"浏览器"},{"id":"vs-code","depth":2,"text":"VS Code"},{"id":"v2echo-raya","depth":2,"text":"V2$(echo r)aya"},{"id":"zsh","depth":2,"text":"Zsh"},{"id":"输入法","depth":2,"text":"输入法"},{"id":"继续优化其他体验","depth":2,"text":"继续优化其他体验"}]}},"_type":"markdown","_id":"content:posts:2023:archlinux-configure.md","_source":"content","_file":"posts/2023/archlinux-configure.md","_stem":"posts/2023/archlinux-configure","_extension":"md","_original_dir":"/posts"}