{"_path":"/2024/css-sort","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"从 CSS 排序折腾到 Stylelint 和 pnpm","description":"试图不走寻常路，通过 pnpm 全局安装 Stylelint 实现 CSS 排序，却遭遇诸多挑战。理想的方案是否真的可行？","date":"2024-05-21T14:44:44.000Z","updated":"2024-05-25T07:56:33.000Z","image":"https://7.isyangs.cn/24/6664009e81625-24.jpg","categories":["经验分享"],"tags":["软件","问题"],"references":["这些内容不值得参考。"],"readingTime":{"text":"22 min read","minutes":21.225,"time":1273500,"words":4245},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"tldr"},"children":[{"type":"text","value":"tl;dr"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stylelint 是一个 CSS 语法检查工具。pnpm 是一个 Node.js 包管理工具，它相比默认的 npm 有诸多优势。本应该给每个项目分别安装 Stylelint 并撰写配置文件，但是为了方便，我决定全局安装，这样我就不用为每个项目重复安装、配置了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想法很美好，但碰了好几次头。在折腾环境与环境折腾自己的过程中，我似乎体会到了理想主义者常有的那种……我不是完全的理想主义者，所以写博客的时候有些许红温。算了，"},{"type":"element","tag":"a","props":{"href":"#%E9%87%8D%E6%96%B0%E6%80%9D%E8%80%83%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"},"children":[{"type":"text","value":"大家直接看结论就好"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h2","props":{"id":"ssh-启动之我-hexo-cli-呢"},"children":[{"type":"text","value":"SSH 启动之我 hexo-cli 呢"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"某天写完博客后，出门想起来博客应该更新了，遂通过某台设备 SSH 连接 Windows，执行相关命令，没想到竟然报错如下："}]},{"type":"element","tag":"pre","props":{"className":"language-log shiki shiki-themes catppuccin-latte one-dark-pro","code":"hexo : 无法将“hexo”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。\n所在位置 行:1 字符: 1\n+ hexo deploy\n+ ~~~~\n+ CategoryInfo : ObjectNotFound: (hexo:String) [], CommandNotFoundException\n+ FullyQualifiedErrorId : CommandNotFoundException\n","language":"log","meta":"wrap","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"hexo : 无法将“hexo”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"所在位置 行:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" 字符: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"+ hexo deploy\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"+ ~~~~\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"+ CategoryInfo : ObjectNotFound: (hexo:String) [], "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"CommandNotFoundException\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"+ FullyQualifiedErrorId : "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"CommandNotFoundException\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不是，我那么大个 Hexo 呢！？"}]},{"type":"element","tag":"h3","props":{"id":"用远程桌面根本难不倒他"},"children":[{"type":"text","value":"用远程桌面，根本难不倒他"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来的事情便不再赘述了。"}]},{"type":"element","tag":"h2","props":{"id":"从-csscomb-到-csscomb然后选择-stylelint"},"children":[{"type":"text","value":"从 CSScomb 到 CSScomb，然后选择 Stylelint"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我初学前端时，时常感到 CSS 声明的顺序难以决定和整理，后来找到了 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=mrmlnc.vscode-csscomb","rel":["nofollow"]},"children":[{"type":"text","value":"CSScomb"}]},{"type":"text","value":" 插件来整理 CSS 声明顺序。在 VS Code 配置文件中设置 "},{"type":"element","tag":"code","props":{"className":"language-json shiki shiki-themes catppuccin-latte one-dark-pro","language":"json","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"csscomb.preset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"csscomb\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" }"}]}]},{"type":"text","value":" 即可使用这个插件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为插件长期不更新，另一位俄国老哥创建了同名 VS Code 插件 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=naumstory.vscode-csscomb","rel":["nofollow"]},"children":[{"type":"text","value":"CSScomb"}]},{"type":"text","value":" 来吐槽。原插件在 2020 年更新后就 Archive 了，而且也没有 CSS 新特性的支持。"}]},{"type":"element","tag":"h3","props":{"id":"好装不好用还是好用不好装只知道我好菜"},"children":[{"type":"text","value":"“好装不好用”还是“好用不好装”？只知道我好菜。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来，我看到了 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint","rel":["nofollow"]},"children":[{"type":"text","value":"Stylelint"}]},{"type":"text","value":"，它比 CSScomb 更好用，而且支持 VS Code 的自动格式化功能。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有人问我有关 Linux 发行版的选择，我想了想，说（对于通俗意义上的新手而言）Ubuntu 容易安装，但后续配置环境时不太方便；Arch Linux 难以安装，但配置环境相比要轻松不少。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是一场“好装不好用”与“好用不好装”的博弈，但我当时初次接触前端，连 npm 都不知道，又看到官方文档里繁琐的配置过程，折腾许久后就只知道了我好菜。"}]},{"type":"element","tag":"h3","props":{"id":"下午四点kazariex-让我充满动力起床干活"},"children":[{"type":"text","value":"下午四点，KazariEX 让我充满动力：起床干活！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"今天早上满课，12:30 又有 C++ 实验，下机之后就只想睡大觉，"},{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"但想到了「Stylelint」，于是又睡大觉"}]},{"type":"text","value":"。（通义灵码干的，或许赛博生命体也爱睡大觉）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"睡觉前，在 KazariEX 的群里从前端页面布局耗时聊到 CSS 插件。睡醒后，我提到了 CSS 声明顺序整理，KazariEX 就推荐了 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=stylelint.vscode-stylelint","rel":["nofollow"]},"children":[{"type":"text","value":"Stylelint"}]},{"type":"text","value":"，我模糊回忆起之前浅尝辄止的经历。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"无论如何，再试试吧。"}]}]},{"type":"element","tag":"h4","props":{"id":"看看-hexo-server-live"},"children":[{"type":"text","value":"看看 hexo-server-live"}]},{"type":"element","tag":"link-card","props":{"icon":"https://github.githubassets.com/favicons/favicon.svg","link":"https://github.com/KazariEX/hexo-server-live","title":"KazariEX/hexo-server-live"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同时，KazariEX 向我推荐了一个 Hexo 插件，用于在本地文件更新后自动刷新预览。我的评价是好用爱用。😋再看是 KazariEX 写的，更喜欢了。"}]},{"type":"element","tag":"h3","props":{"id":"同时也是被-yuanfang-拉着帮忙的纸鹿"},"children":[{"type":"text","value":"同时也是被 Yuanfang 拉着帮忙的纸鹿"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"中午睡醒刚下床，微信电话铃声就响个不停，接听却没声音。打字吧："}]},{"type":"element","tag":"chat","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"哥😭我给虚拟机编译内核，"},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" install"}]}]},{"type":"text","value":" 时候 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/boot"}]},{"type":"text","value":" 分区满了，我不敢整，怕搞崩，你能来给扩容一下不🥹"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"📞通话时长 00:22"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你耳机是不是没电了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{.}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我刚下床"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"📞通话时长 00:41"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"怪事，我耳机麦克风好像坏了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"鹿神，快来救我"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{Yuanfang}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我整了快两个点，不会搞😿😿"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我去了实验室，检查他虚拟机的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/boot"}]},{"type":"text","value":" 分区有 1 GiB，但编译出的 Initrd 文件太大，只得由挂载分区改为普通文件夹并放入原先内容，重新编译才解决问题。顺带一提，他向 Linux 内核提交的 "},{"type":"element","tag":"a","props":{"href":"https://lore.kernel.org/all/20240509044323.247606-1-yf768672249@gmail.com/","rel":["nofollow"]},"children":[{"type":"text","value":"代码"}]},{"type":"text","value":" 成功合并进了主分支。"}]},{"type":"element","tag":"h3","props":{"id":"与此同时shawn-也找到了我"},"children":[{"type":"text","value":"与此同时，Shawn 也找到了我"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我给 Yuanfang 修 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/boot"}]},{"type":"text","value":" 分区的同时，Shawn 也找到了我。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作为一名力扣刷题选手，他对力扣网页的代码编辑器有着自己的需求：他平时常用 JetBrains 全家桶，不希望使用 Iosevka / 等宽更纱黑体 SC 之类的字体——这些字体的英文字符只占半个汉字宽，有些过于窄了。而力扣编辑器中没有相应的设置。他尝试将在 Chrome 设置中将等宽字体改为 JetBrains Mono，但是并没有用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"经过我的分析，网页编辑器中使用了这样的字体配置："}]},{"type":"element","tag":"pre","props":{"className":"language-css shiki shiki-themes catppuccin-latte one-dark-pro","code":".view-lines.monaco-mouse-cursor-text {\n  font-family: \"Droid Sans Mono\", \"monospace\", monospace;\n}\n","language":"css","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"view-lines"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DF8E1D;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"monaco-mouse-cursor-text"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"  font-family"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"Droid Sans Mono\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"monospace\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" monospace"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"为什么会有两个 monospace？第一个 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"monospace\""}]}]},{"type":"text","value":" 是系统的 monospace 字体别名，而第二个才是浏览器的等宽字体设置，优先级最低，所以设置了看不到效果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"经过我和 Shawn 的探讨，打算安装 CSS 中优先级最高的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Droid Sans Mono"}]},{"type":"text","value":" 来满足需求。包管理器（Yay）里没有找到，我们就通过浏览器下载字体，再通过字体管理器安装了字体，问题就解决了。"}]},{"type":"element","tag":"h2","props":{"id":"装了又装想想还是全局安装"},"children":[{"type":"text","value":"装了又装，想想还是全局安装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"😓"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"历经千辛万苦，终于在自己的实验室工位上坐定了。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下午起床时受到 KazariEX 的启发，此时我就有了一个伟大的设想：使用一个跨平台、弱侵入性、配置少的方案，让 Stylelint 能在 Windows 和 Linux 上同时工作，并且能在没有 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".stylelintrc"}]},{"type":"text","value":" 配置文件的环境下（老项目/零散文件）格式化 CSS 代码。"}]},{"type":"element","tag":"h3","props":{"id":"通义灵码使我的代码和用户目录充满灵感"},"children":[{"type":"text","value":"通义灵码，使我的代码和用户目录充满「灵」感"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但话说起来，想在 Windows 和 Linux 上通过 VS Code 的设置同步保持近乎统一的体验的话，需要解决一些痛点，比如这件事中的配置文件让我迷惑："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前一段时间，通义灵码有推广活动，我就跟着安装了 VS Code 插件。整体的体验还是比较好的，尤其是代码自动补全功能十分实用。只是在写博客的过程中，通义灵码偶尔会写出一些充满「灵」感的文字，像幽灵无意识的呢喃，在博客 Markdown 中低语~~，无意识地呢喃，在 Markdown 中低语，无意识地呢喃，在 Markdown 中低语，无意识地呢喃，在 Markdown 中低语，无意识地呢喃，在 Markdown 中~~（不小心按了补全键，欸嘿）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"更令人震惊的是，我 Linux 系统的主文件夹里出现了一个名为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"C:\\\\Users\\\\Zhilu\\\\.lingma"}]},{"type":"text","value":" 的「灵」件夹（这和我 git clone 某人的仓库发现一个 D 盘路径名的文件夹一样炸裂）。再一看 VS Code 的配置文件，果然出现了一个被同步的配置项："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes catppuccin-latte one-dark-pro","code":"{\n  \"Lingma.LocalStoragePath\": \"C:\\\\Users\\\\Zhilu\\\\.lingma\",\n}\n","filename":"settings.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"  \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"Lingma.LocalStoragePath"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"C:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"\\\\"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"Users"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"\\\\"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"Zhilu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#EA76CB;--shiki-dark:#56B6C2"},"children":[{"type":"text","value":"\\\\"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":".lingma\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只能先在同步配置中忽略这个配置项了。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes catppuccin-latte one-dark-pro","code":"{\n  \"settingsSync.ignoredSettings\": [\n    \"Lingma.LocalStoragePath\",\n  ],\n}\n","filename":"settings.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"  \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"settingsSync.ignoredSettings"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"    \"Lingma.LocalStoragePath\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在，我发现这个逆天配置项就被新版本弃用了，也许开发人员也在 Linux 上看到那个奇妙文件夹了吧。"}]},{"type":"element","tag":"h3","props":{"id":"stylelint你能找到-pnpm-全局包吗"},"children":[{"type":"text","value":"Stylelint，你能找到 pnpm 全局包吗？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除了配置文件里的无用配置项，我就着手全局安装 Stylelint 相关包了。"}]},{"type":"element","tag":"copy","props":{"code":"pnpm i -g stylelint stylelint-config-standard stylelint-order"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我原本想在用户目录写 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/stylelint.config.js"}]},{"type":"text","value":" 或者 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.stylelintrc.js"}]},{"type":"text","value":" 文件，就像 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.clang-format"}]},{"type":"text","value":" 可以作为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"clangd"}]},{"type":"text","value":" 的配置文件一样，但发现 VS Code 插件不读取用户目录的配置作为配置文件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我又尝试指定 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint.configFile"}]},{"type":"text","value":" 配置，但发现它不解析 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~"}]},{"type":"text","value":"（tilde expansion，波浪线展开）或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%UserProfile%"}]},{"type":"text","value":"（变量），而是将其作为普通相对路径解析。最后，我通过指定 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint.config"}]},{"type":"text","value":" 而不是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint.configFile"}]},{"type":"text","value":"，避免跨系统访问路径的错误。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes catppuccin-latte one-dark-pro","code":"{\n  \"stylelint.config\": {\n    \"plugins\": [\n      \"stylelint-order\",\n    ],\n    \"extends\": \"stylelint-config-standard\",\n  },\n}\n","filename":"settings.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"  \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"stylelint.config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"plugins"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"      \"stylelint-order\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"    ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"    \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"extends"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"stylelint-config-standard\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Windows 和 Linux 上安装相关包后，VS Code 插件在 Windows 输出的大意是找不到 Stylelint 包，而在 Linux 上直接找不到 npm 程序本体（我只有 pnpm）。后来通过这个配置项，让 VS Code 插件寻找 pnpm 相关包："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes catppuccin-latte one-dark-pro","code":"{\n  \"stylelint.packageManager\": \"pnpm\",\n}\n","filename":"settings.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"  \""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"stylelint.packageManager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" \"pnpm\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样能找到 Stylelint 包，但插件的输出换了一种报错方式，大意是找不到 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint-order"}]},{"type":"text","value":" 包和 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint-config-standard"}]},{"type":"text","value":" 包，也许要指定 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint.configBasedir"}]},{"type":"text","value":" 了。但我认为这是预期外的现象，因为默认配置一般都能正常工作。"}]},{"type":"element","tag":"h3","props":{"id":"在-windows-下很好表现使我的代码飘红"},"children":[{"type":"text","value":"在 Windows 下很好表现，使我的代码飘红"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我移除了 "},{"type":"element","tag":"code","props":{"className":"language-js shiki shiki-themes catppuccin-latte one-dark-pro","language":"js","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"stylelint"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"packageManager"}]}]},{"type":"text","value":" 配置项，并尝试使用 npm 全局安装这些包，之前的问题在 Windows 上都解决了。所以 pnpm 呀，你还是把全局包交给 npm 来管理吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上手体验了一下。我的 CSS 代码飘红一片。修吧修吧。😢"}]},{"type":"element","tag":"h2","props":{"id":"ssh-连接-localhost然后探寻-envpath-的秘密"},"children":[{"type":"text","value":"SSH 连接 Localhost，然后探寻 $env:PATH 的秘密"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另外，我还发现换用 npm 管理全局包后，先前 SSH 环境中无法使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hexo-cli"}]},{"type":"text","value":" 包提供的 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"hexo"}]}]},{"type":"text","value":" 命令的问题消失了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"于是，我着手研究 pnpm 全局包在远程 SSH 环境中的问题。在一次远程执行 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -g"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" pnpm"}]}]},{"type":"text","value":" 后，我从报错中发现了端倪："}]},{"type":"element","tag":"pre","props":{"className":"language-log shiki shiki-themes catppuccin-latte one-dark-pro","code":"[ERROR] The configured global bin directory \"C:\\Users\\Zhilu\\AppData\\Local\\pnpm\" is not in PATH\n","language":"log","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"[ERROR]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" The configured global bin directory "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"\"C:\\Users\\Zhilu\\AppData\\Local\\pnpm\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" is not in PATH\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它不在 PATH，那谁在 PATH？"}]},{"type":"element","tag":"h3","props":{"id":"powershell-糕手ssh-就测一下到底带不带-t"},"children":[{"type":"text","value":"PowerShell 糕手：SSH 就测一下，到底带不带 -t？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简而言之，如果是交互式命令，就带上 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" 参数。起初我未使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-t"}]},{"type":"text","value":" 参数，结果 Powershell Profile 中的 "},{"type":"element","tag":"code","props":{"className":"language-powershell shiki shiki-themes catppuccin-latte one-dark-pro","language":"powershell","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"Set-PSReadLineOption"}]}]},{"type":"text","value":" 因为无法启用而报错了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我使用这行命令试图查看 SSH 环境中的 PATH："}]},{"type":"element","tag":"copy","props":{"code":"ssh localhost -t \"echo '$env:PATH'\"","prompt":"PS>"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但输出一切正常，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"C:\\Users\\Zhilu\\AppData\\Local\\pnpm"}]},{"type":"text","value":" 完好地存在于 PATH 中。"}]},{"type":"element","tag":"h3","props":{"id":"我这-pnpm_home如履薄冰"},"children":[{"type":"text","value":"我这 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%pnpm_HOME%"}]},{"type":"text","value":"，如履薄冰。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来，我通过 SSH 连接后执行 "},{"type":"element","tag":"code","props":{"className":"language-powershell shiki shiki-themes catppuccin-latte one-dark-pro","language":"powershell","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"$env:PATH"}]}]},{"type":"text","value":"，终于露出了它的本来面目："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"C:\\WINDOWS\\system32;……C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs;……"},{"type":"element","tag":"mark","props":{},"children":[{"type":"text","value":"%PNPM_HOME%"}]},{"type":"text","value":";……C:\\Users\\Zhilu\\AppData\\Roaming\\npm;C:\\Program Files\\Neovim\\bin;C:\\Users\\Zhilu\\go\\bin;C:\\ProgramData\\chocolatey\\bin;"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"看起来在本地环境中，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%PNPM_HOME%"}]},{"type":"text","value":" 在 "},{"type":"element","tag":"code","props":{"className":"language-powershell shiki shiki-themes catppuccin-latte one-dark-pro","language":"powershell","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":"$env:PATH"}]}]},{"type":"text","value":" 会被正常解析为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"C:\\Users\\Zhilu\\AppData\\Local\\pnpm"}]},{"type":"text","value":"，而在远程 SSH 环境中，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PATH"}]},{"type":"text","value":" 中的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%PNPM_HOME%"}]},{"type":"text","value":" 项不能被正常解析。我向 pnpm 提出了 "},{"type":"element","tag":"a","props":{"href":"https://github.com/pnpm/pnpm/issues/8110","rel":["nofollow"]},"children":[{"type":"text","value":"Issue #8110"}]},{"type":"text","value":" 反馈这个问题，"},{"type":"element","tag":"blur","props":{},"children":[{"type":"text","value":"我并不清楚这个奇奇怪怪的问题应该向谁反馈，但 pnpm 应当做好这些情况的兼容"}]},{"type":"text","value":"。不过此时仓库有 1.5k 个未关闭的 Issue，也许我提出的问题得到回复的概率很渺茫。"}]},{"type":"element","tag":"h3","props":{"id":"聪明一修"},"children":[{"type":"text","value":"聪明一修"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"修复办法很简单，把 PATH 中引用的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"%PNPM_HOME%"}]},{"type":"text","value":" 替换为 PNPM_HOME 对应的值 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"C:\\Users\\Zhilu\\AppData\\Local\\pnpm"}]},{"type":"text","value":" 即可。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但这并不能解决 Stylelint 在使用 pnpm 作为包管理的情况下找不到全局插件包的问题。难道真的要用 npm 管理全局包吗？"}]},{"type":"element","tag":"h2","props":{"id":"npm你不准管理全局包"},"children":[{"type":"text","value":"npm，你不准管理全局包"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前提到，在换用 npm 管理全局包后，VS Code 的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint"}]},{"type":"text","value":" 插件就能找到安装的全局包了，但这仅限于 Windows 系统。Linux 下的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint"}]},{"type":"text","value":" VS Code 插件也找不到通过 npm 全局安装的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint-order"}]},{"type":"text","value":" 插件和 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"stylelint-config-standard"}]},{"type":"text","value":" 扩展。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"stylelint/vscode-stylelint 仓库的 Issue "},{"type":"element","tag":"a","props":{"href":"https://github.com/stylelint/vscode-stylelint/issues/331","rel":["nofollow"]},"children":[{"type":"text","value":"#331"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"a","props":{"href":"https://github.com/stylelint/vscode-stylelint/issues/386","rel":["nofollow"]},"children":[{"type":"text","value":"#386"}]},{"type":"text","value":" 也反馈了各种找不到路径的问题。"}]},{"type":"element","tag":"h3","props":{"id":"linux-下-npm-全局包的安装和索引"},"children":[{"type":"text","value":"Linux 下 npm 全局包的安装和索引——"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简而言之，Linux 下 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -g"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"packag"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#179299;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":" 命令要么加 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]}]},{"type":"text","value":"，要么遇到 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"EACCES"}]},{"type":"text","value":" 错误。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"见 npm 官方文档给出的解决办法："},{"type":"element","tag":"a","props":{"href":"https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally","rel":["nofollow"]},"children":[{"type":"text","value":"Resolving EACCES permissions errors when installing packages globally"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"nvm-初探关于终端冒出system这件事"},"children":[{"type":"text","value":"NVM 初探：关于终端冒出“🏠System”这件事"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"经过官方推荐，我尝试使用 NVM 作为 Node.js 版本管理工具。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"配置完毕后，我那使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"zsh-powerlevel10k"}]},{"type":"text","value":" 主题的终端，忽然在右侧的提示栏出现了紫色的“🏠System”字样。经过一番研究，这是因为我在使用系统的 Node.js 环境。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在安装了虚拟 Node.js 版本后，重启终端，“🏠System”字样就不见了。"}]},{"type":"element","tag":"h3","props":{"id":"一个-dirty-fix-让我思考"},"children":[{"type":"text","value":"一个 dirty fix 让我思考"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"全局安装的 Stylelint 包似乎找不到各种东西。在 stylelint/stylelint 的另一个 Issue "},{"type":"element","tag":"a","props":{"href":"https://github.com/stylelint/stylelint/issues/7297","rel":["nofollow"]},"children":[{"type":"text","value":"#7297"}]},{"type":"text","value":" 中，提出者给出了一个“dirty fix”："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"创建软链接 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/usr/node_modules"}]},{"type":"text","value":" 指向 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/lib64/node_modules"}]},{"type":"text","value":"。\n"},{"type":"element","tag":"copy","props":{"code":"sudo ln -s /lib64/node_modules /usr/node_modules"},"children":[]}]}]},{"type":"element","tag":"h4","props":{"id":"如果-npm-被升级的话也许就结束了吧"},"children":[{"type":"text","value":"如果 npm 被升级的话，也许就结束了吧"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"方法看起来很好，但我的 NVM 环境如果有升级变动的话，软链接指向的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"node_modules"}]},{"type":"text","value":" 路径大概也会发生变化，所以——"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"NVM，再见了。我要试试这个新方法。"}]},{"type":"element","tag":"h3","props":{"id":"两个-dirty-fix-让我不假思索"},"children":[{"type":"text","value":"两个 dirty fix 让我不假思索"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在必应 "},{"type":"element","tag":"a","props":{"href":"https://cn.bing.com/search?q=npm+%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85+sudo","rel":["nofollow"]},"children":[{"type":"text","value":"搜索“npm 全局安装 sudo”"}]},{"type":"text","value":" 时，不知是幸运还是不幸，恰好被推荐了 "},{"type":"element","tag":"a","props":{"href":"https://lunashu.org/sudo-npm/","rel":["noopener","noreferrer","nofollow"]},"children":[{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"npm i -g 全局安装 sudo 消除"}]}]},{"type":"text","value":" 这篇博文。里面提到修改部分 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"node_modules"}]},{"type":"text","value":" 相关目录的权限可以免 sudo 安装 npm 全局包。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"试试就试试吧。"}]},{"type":"element","tag":"h2","props":{"id":"噫好了我中招了"},"children":[{"type":"text","value":"噫，好了，我中招了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二天，我在 Arch Linux 上使用 Yay 滚包时，遇到了一些问题。"}]},{"type":"element","tag":"h3","props":{"id":"成功未半而收起笑容"},"children":[{"type":"text","value":"成功未半而收起笑容"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"SDDM 界面可以输入密码登录，用户锁屏界面输入密码后无法解锁。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"执行 sudo 命令时报错“/usr/bin/sudo 必须属于用户 ID 0(的用户)并且设置 setuid 位”。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"执行 su 命令时报错“su: 身份验证失败”。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"再一执行 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"ll"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /usr/bin/su"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E5C07B"},"children":[{"type":"text","value":"*"}]}]},{"type":"text","value":"，一看属于 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"zhilu:zhilu"}]},{"type":"text","value":" 而不是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"root:root"}]},{"type":"text","value":"，立马感到"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"坏事了！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"为什么这些文件的权限会被更改？我立刻使用 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"less"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#E06C75"},"children":[{"type":"text","value":" $HISTFILE"}]}]},{"type":"text","value":" 工具，按 Shift+G 跳转到文件末，从后向前查看终端中输入命令的历史记录。经过查找，发现这条命令十分可疑："}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","code":"sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}\n","filename":"可疑命令","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" chown"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -R"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" $("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"whoami"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":" $("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" prefix"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":"/{lib/node_modules,bin,share}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"再执行 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" prefix"}]}]},{"type":"text","value":" 一看："}]},{"type":"element","tag":"alert","props":{"type":"error"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"npm 配置的前缀竟然是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/usr"}]},{"type":"text","value":"！"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所有 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/usr/bin"}]},{"type":"text","value":"，即 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/bin"}]},{"type":"text","value":" 下的所有程序都被修改了权限。我被一个简简单单的 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" prefix"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":" 表达式蒙蔽，忽略了其中的风险。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"众所周知，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/bin"}]},{"type":"text","value":" 下的程序各有各的权限设置，修改它们权限的愚蠢程度与 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"chmod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -R"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FE640B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" 777"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /"}]}]},{"type":"text","value":" 相当。（另一个我听说的愚蠢的错误是在 WSL 里执行 "},{"type":"element","tag":"code","props":{"className":"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","language":"sh","style":""},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit"},"children":[{"type":"text","value":"rm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#D19A66"},"children":[{"type":"text","value":" -rf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#40A02B;--shiki-dark:#98C379"},"children":[{"type":"text","value":" /"}]}]},{"type":"text","value":"，它并不安全，因为 Windows 文件挂载在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/mnt"}]},{"type":"text","value":" 下。）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"🥺还能怎么办，修呗。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"按照 "},{"type":"element","tag":"a","props":{"href":"/2024/archlinux-boot-repair"},"children":[{"type":"text","value":"Arch Linux 启动引导修复"}]},{"type":"text","value":" 一文中的方式挂载分区、进入系统。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"尝试恢复被修改的权限\n"},{"type":"element","tag":"copy","props":{"code":"chown -R root:root /usr/{lib/node_modules,bin,share}","prompt":"#"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"尝试恢复部分关键程序的 setuid 位\n"},{"type":"element","tag":"copy","props":{"code":"chmod u+s /usr/bin/sudo /usr/bin/su","prompt":"#"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"建议切换到自己的用户上，实在切不了就算了\n"},{"type":"element","tag":"copy","props":{"code":"su <你的用户名>","prompt":"#"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果忘了自己的用户名，可以执行这个命令："}]}]},{"type":"element","tag":"copy","props":{"code":"cat /etc/passwd | grep \":1000\"","prompt":"#"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装权限修复工具\n"},{"type":"element","tag":"copy","props":{"code":"yay -S pacman-fix-permissons"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"修复权限\n"},{"type":"element","tag":"copy","props":{"code":"sudo pacman-fix-permissions"},"children":[]}]}]},{"type":"element","tag":"pre","props":{"className":"language-log shiki shiki-themes catppuccin-latte one-dark-pro","code":"……\n(854/860) zram-generator 1.1.2-1\n(855/860) zsh 5.9-5\n(856/860) zsh-autosuggestions 0.7.0-2\n(857/860) zsh-completions 0.35.0-1\n(858/860) zsh-syntax-highlighting 0.8.0-1\n(859/860) zstd 1.5.5-1\n(860/860) zxing-cpp 2.2.1-1\n==> Scan completed. Broken permissions in your filesystem:\n/usr/bin/mount.cifs: 0o755 => 0o6755\n/root: 0o700 => 0o750\n/usr/bin/fusermount3: 0o755 => 0o4755\n/usr/share/kglobalaccel/org.kde.konsole.desktop: 0o744 => 0o644\n/usr/bin/ksu: 0o755 => 0o4755\n/usr/lib/utempter/utempter: 0o2755 => 0o2711\n/usr/bin/unix_chkpwd: 0o755 => 0o6755\n/usr/bin/pkexec: 0o755 => 0o4755\n/usr/bin/chage: 0o755 => 0o4755\n/usr/bin/expiry: 0o755 => 0o4755\n/usr/bin/gpasswd: 0o755 => 0o4755\n/usr/bin/passwd: 0o755 => 0o4755\n/usr/bin/sg: 0o755 => 0o4755\n/usr/bin/chfn: 0o755 => 0o4755\n/usr/bin/chsh: 0o755 => 0o4755\n/usr/bin/mount: 0o755 => 0o4755\n/usr/bin/newgrp: 0o755 => 0o4755\n/usr/bin/umount: 0o755 => 0o4755\n/usr/bin/wall: 0o755 => 0o2755\n/usr/bin/write: 0o755 => 0o2755\n==> Apply? (yes/no)\nyes\n=> Done!\n","filename":"pacman-fix-permissions 的输出","language":"log","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"……\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"854"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zram-generator "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"855"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zsh "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"9"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"856"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zsh-autosuggestions "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"7"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"857"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zsh-completions "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"35"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"858"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zsh-syntax-highlighting "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"8"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"859"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zstd "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"860"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":") zxing-cpp "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"==> Scan completed. Broken permissions in your filesystem:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/mount.cifs: 0o755 => 0o6755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/root: 0o700 => 0o750\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/fusermount3: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/share/kglobalaccel/org."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D20F39;--shiki-dark:#D19A66"},"children":[{"type":"text","value":"kde.konsole.desktop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":": 0o744 => 0o644\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/ksu: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/lib/utempter/utempter: 0o2755 => 0o2711\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/unix_chkpwd: 0o755 => 0o6755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/pkexec: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/chage: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/expiry: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/gpasswd: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/passwd: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/sg: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/chfn: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/chsh: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/mount: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/newgrp: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/umount: 0o755 => 0o4755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/wall: 0o755 => 0o2755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"/usr/bin/write: 0o755 => 0o2755\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"==> Apply? (yes/no)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF"},"children":[{"type":"text","value":"=> Done!\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"原因竟是网络不好"},"children":[{"type":"text","value":"原因竟是……网络不好"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在用安装盘修复文件权限的过程中，用朋友的电脑重新看了一眼之前的 "},{"type":"element","tag":"a","props":{"href":"https://lunashu.org/sudo-npm/","rel":["noopener","noreferrer","nofollow"]},"children":[{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"npm i -g 全局安装 sudo 消除"}]}]},{"type":"text","value":"，发现评论区有人在谴责："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Chen"}]},{"type":"text","value":" 2019-11-16 23:24"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"请您了解一下您的这篇教程会带来的问题，不要再害人了\n"},{"type":"element","tag":"a","props":{"href":"https://bbs.archlinux.org/viewtopic.php?id=235650","rel":["nofollow"]},"children":[{"type":"text","value":"arch linux论坛相关问题"}]}]}]},{"type":"element","tag":"quote","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:icon":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"😾🔪"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"为什么我当时没看见这条评论？"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我用自己的电脑打开评论区，发现 DISQUS 评论区居然由于"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"网络问题"}]},{"type":"text","value":"没能加载出来。再看到博客作者在文中提到（sudo 方法）“"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"但之后会产生一系列其他的权限问题，简直是后患无穷"}]},{"type":"text","value":"”，在文中末尾用大大大标题讲（自己给出的方法）“"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Have Fun～"}]},{"type":"text","value":"”“"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"精彩！"}]},{"type":"text","value":"”，简直是一种莫大的讽刺。"}]},{"type":"element","tag":"h2","props":{"id":"重新思考最佳实践"},"children":[{"type":"text","value":"重新思考最佳实践"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你从文章开头跳转而来，可以选择 "},{"type":"element","tag":"a","props":{"href":"#"},"children":[{"type":"text","value":"返回开头重新阅读"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"alert","props":{"type":"warning","title":"写这篇文章已耗费12小时"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是 Wakatime 插件统计的结果，AFK 并不会增加统计时间。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"说实话，为了 Stylelint 官方文档中未提到的配置方法，整个配置过程耗费了大量时间，并且遇到了很多 Stylelint 本体之外的问题，甚至大多还是未解决的 Issue。我只得重新思考“最佳实践”。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于 npm 包管理："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pnpm 可以作为全局包管理工具，只需要在 Windows 下修改 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PATH"}]},{"type":"text","value":" 为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PNPM_HOME"}]},{"type":"text","value":" 对应的值即可。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在项目中，使用 npm 管理包似乎没有什么优势。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"我目前没有切换 Node.js 版本的需求，所以暂时不使用 pnpm env 或者 NVM 来管理环境。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于 CSS 声明排序："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"继续使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CSScomb"}]},{"type":"text","value":" 作为排序插件，这样无法支持新的 CSS 语法。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 pnpm 在项目中而不是全局安装 Stylelint 相关包，这样会让老项目多出 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 文件和手动安装 npm 依赖的麻烦。"}]}]},{"type":"element","tag":"h2","props":{"id":"写在最后轻量化-css-排序需求的未来"},"children":[{"type":"text","value":"写在最后：轻量化 CSS 排序需求的未来"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这一过程中，我通过多种方式检索 VS Code 的相关插件，最终找到了 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=EnzoMourany.css-property-sorter","rel":["nofollow"]},"children":[{"type":"text","value":"CSS Property Sorter"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=piyushsarkar.sort-css-properties","rel":["nofollow"]},"children":[{"type":"text","value":"Sort CSS"}]},{"type":"text","value":" 两款插件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在使用 CSS Property Sorter 的过程中，我发现 CSS 的多层嵌套结构会被破坏，也找到了相关的 "},{"type":"element","tag":"a","props":{"href":"https://github.com/enzo-mourany/css-property-sorter/issues/11","rel":["nofollow"]},"children":[{"type":"text","value":"Issue #11"}]},{"type":"text","value":"，于是换用了 Sort CSS，它支持在配置文件中修改排序策略。关于 CSS 排序工具的配置，最近一段时间也许就折腾到这儿了。既然 Stylelint 全局难以配置的话，就单独给未来的项目配置吧。"}]},{"type":"element","tag":"blur","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"直到现在，我还没有在 Windows 上成功配置 clangd 环境。"}]}]},{"type":"element","tag":"h2","props":{"id":"后续"},"children":[{"type":"text","value":"后续"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"文章发布后，我受到朋友的帮助，解决了上面的问题，内容在下一篇博客中。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"tldr","depth":2,"text":"tl;dr"},{"id":"ssh-启动之我-hexo-cli-呢","depth":2,"text":"SSH 启动之我 hexo-cli 呢","children":[{"id":"用远程桌面根本难不倒他","depth":3,"text":"用远程桌面，根本难不倒他"}]},{"id":"从-csscomb-到-csscomb然后选择-stylelint","depth":2,"text":"从 CSScomb 到 CSScomb，然后选择 Stylelint","children":[{"id":"好装不好用还是好用不好装只知道我好菜","depth":3,"text":"“好装不好用”还是“好用不好装”？只知道我好菜。"},{"id":"下午四点kazariex-让我充满动力起床干活","depth":3,"text":"下午四点，KazariEX 让我充满动力：起床干活！","children":[{"id":"看看-hexo-server-live","depth":4,"text":"看看 hexo-server-live"}]},{"id":"同时也是被-yuanfang-拉着帮忙的纸鹿","depth":3,"text":"同时也是被 Yuanfang 拉着帮忙的纸鹿"},{"id":"与此同时shawn-也找到了我","depth":3,"text":"与此同时，Shawn 也找到了我"}]},{"id":"装了又装想想还是全局安装","depth":2,"text":"装了又装，想想还是全局安装","children":[{"id":"通义灵码使我的代码和用户目录充满灵感","depth":3,"text":"通义灵码，使我的代码和用户目录充满「灵」感"},{"id":"stylelint你能找到-pnpm-全局包吗","depth":3,"text":"Stylelint，你能找到 pnpm 全局包吗？"},{"id":"在-windows-下很好表现使我的代码飘红","depth":3,"text":"在 Windows 下很好表现，使我的代码飘红"}]},{"id":"ssh-连接-localhost然后探寻-envpath-的秘密","depth":2,"text":"SSH 连接 Localhost，然后探寻 $env:PATH 的秘密","children":[{"id":"powershell-糕手ssh-就测一下到底带不带-t","depth":3,"text":"PowerShell 糕手：SSH 就测一下，到底带不带 -t？"},{"id":"我这-pnpm_home如履薄冰","depth":3,"text":"我这 %pnpm_HOME%，如履薄冰。"},{"id":"聪明一修","depth":3,"text":"聪明一修"}]},{"id":"npm你不准管理全局包","depth":2,"text":"npm，你不准管理全局包","children":[{"id":"linux-下-npm-全局包的安装和索引","depth":3,"text":"Linux 下 npm 全局包的安装和索引——"},{"id":"nvm-初探关于终端冒出system这件事","depth":3,"text":"NVM 初探：关于终端冒出“🏠System”这件事"},{"id":"一个-dirty-fix-让我思考","depth":3,"text":"一个 dirty fix 让我思考","children":[{"id":"如果-npm-被升级的话也许就结束了吧","depth":4,"text":"如果 npm 被升级的话，也许就结束了吧"}]},{"id":"两个-dirty-fix-让我不假思索","depth":3,"text":"两个 dirty fix 让我不假思索"}]},{"id":"噫好了我中招了","depth":2,"text":"噫，好了，我中招了","children":[{"id":"成功未半而收起笑容","depth":3,"text":"成功未半而收起笑容"},{"id":"原因竟是网络不好","depth":3,"text":"原因竟是……网络不好"}]},{"id":"重新思考最佳实践","depth":2,"text":"重新思考最佳实践"},{"id":"写在最后轻量化-css-排序需求的未来","depth":2,"text":"写在最后：轻量化 CSS 排序需求的未来"},{"id":"后续","depth":2,"text":"后续"}]}},"_type":"markdown","_id":"content:posts:2024:css-sort.md","_source":"content","_file":"posts/2024/css-sort.md","_stem":"posts/2024/css-sort","_extension":"md","_original_dir":"/posts"}