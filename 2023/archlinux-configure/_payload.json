[{"data":1,"prerenderedAt":1566},["ShallowReactive",2],{"/2023/archlinux-configure":3,"surround-/2023/archlinux-configure":1559},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"categories":13,"tags":15,"readingTime":19,"body":24,"_type":1552,"_id":1553,"_source":1554,"_file":1555,"_stem":1556,"_extension":1557,"_original_dir":1558},"/2023/archlinux-configure","2023",false,"","Arch Linux 初步配置","在 Arch Linux 系统上安装配置必备软件，如蓝牙、Yay、Zsh、输入法等。","2023-06-24T01:31:15.000Z","2024-12-19T00:23:15.000Z","https://7.isyangs.cn/24/6664009851eb0-24.jpg",[14],"经验分享",[16,17,18],"教程","archlinux","系统",{"text":20,"minutes":21,"time":22,"words":23},"6 min read",5.525,331500,1105,{"type":25,"children":26,"toc":1534},"root",[27,35,41,75,80,85,90,120,134,139,160,165,174,186,199,204,216,250,318,323,329,333,339,362,466,472,558,563,567,573,603,608,629,635,639,645,650,671,676,763,776,827,833,838,1334,1339,1364,1516,1521,1528],{"type":28,"tag":29,"props":30,"children":32},"element","h2",{"id":31},"如果你没有浏览器",[33],{"type":34,"value":31},"text",{"type":28,"tag":36,"props":37,"children":38},"p",{},[39],{"type":34,"value":40},"这篇文章中有大量命令，如果你的 Arch Linux 没有浏览器，可以这样做：",{"type":28,"tag":42,"props":43,"children":44},"ul",{},[45,56,65],{"type":28,"tag":46,"props":47,"children":48},"li",{},[49,51],{"type":34,"value":50},"启动 SSH 服务\n",{"type":28,"tag":52,"props":53,"children":55},"copy",{"code":54},"sudo systemctl start sshd",[],{"type":28,"tag":46,"props":57,"children":58},{},[59,61],{"type":34,"value":60},"查看 IP 地址\n",{"type":28,"tag":52,"props":62,"children":64},{"code":63},"ip -br a",[],{"type":28,"tag":46,"props":66,"children":67},{},[68,70],{"type":34,"value":69},"在其他有浏览器的设备上通过 SSH 连接到这台设备（复制后按 Ctrl+Shift+V 粘贴内容）\n",{"type":28,"tag":52,"props":71,"children":74},{"code":72,"prompt":73},"ssh 用户名@IP地址","PS>",[],{"type":28,"tag":29,"props":76,"children":78},{"id":77},"换源",[79],{"type":34,"value":77},{"type":28,"tag":36,"props":81,"children":82},{},[83],{"type":34,"value":84},"Pacman（Arch Linux 的包管理器）会使用安装时的镜像源列表设置。",{"type":28,"tag":36,"props":86,"children":87},{},[88],{"type":34,"value":89},"如果在安装时使用 ArchInstall 里的 Mirror 选项设置了源，建议使用 Reflector 来更新源。",{"type":28,"tag":42,"props":91,"children":92},{},[93,102,111],{"type":28,"tag":46,"props":94,"children":95},{},[96,98],{"type":34,"value":97},"安装\n",{"type":28,"tag":52,"props":99,"children":101},{"code":100},"sudo pacman -S reflector",[],{"type":28,"tag":46,"props":103,"children":104},{},[105,107],{"type":34,"value":106},"使用 Reflector 更新源\n",{"type":28,"tag":52,"props":108,"children":110},{"code":109},"sudo reflector --verbose --country China --sort rate --save /etc/pacman.d/mirrorlist",[],{"type":28,"tag":46,"props":112,"children":113},{},[114,116],{"type":34,"value":115},"移除风控严格的镜像源，防止滚包中断或损坏本地数据库\n",{"type":28,"tag":52,"props":117,"children":119},{"code":118},"sudo sed -i '/zju/d' /etc/pacman.d/mirrorlist",[],{"type":28,"tag":36,"props":121,"children":122},{},[123,125,132],{"type":34,"value":124},"如果你在日常滚包时更新时提示 ",{"type":28,"tag":126,"props":127,"children":129},"code",{"className":128},[],[130],{"type":34,"value":131},"-> could not open file /var/lib/pacman/sync/core.db: Unrecognized archive format",{"type":34,"value":133},"，说明数据库文件被替换为风控页面的 HTML 文件，需要手动删除被篡改的本地数据库，然后重新滚包。",{"type":28,"tag":29,"props":135,"children":137},{"id":136},"字体",[138],{"type":34,"value":136},{"type":28,"tag":42,"props":140,"children":141},{},[142,151],{"type":28,"tag":46,"props":143,"children":144},{},[145,147],{"type":34,"value":146},"中文字体\n",{"type":28,"tag":52,"props":148,"children":150},{"code":149},"sudo pacman -S ttf-sarasa-gothic",[],{"type":28,"tag":46,"props":152,"children":153},{},[154,156],{"type":34,"value":155},"Nerd 字体 (zsh 主题需要)\n",{"type":28,"tag":52,"props":157,"children":159},{"code":158},"sudo pacman -S ttf-nerd-fonts-symbols",[],{"type":28,"tag":29,"props":161,"children":163},{"id":162},"设置时间策略",[164],{"type":34,"value":162},{"type":28,"tag":166,"props":167,"children":168},"blockquote",{},[169],{"type":28,"tag":36,"props":170,"children":171},{},[172],{"type":34,"value":173},"Linux 一般认为主板时间是 UTC 时间，而 Windows 认为主板时间是当地时间。如果在双系统之间切换，则开机时时间会不正常，所以需要设置时间策略。",{"type":28,"tag":42,"props":175,"children":176},{},[177],{"type":28,"tag":46,"props":178,"children":179},{},[180,182],{"type":34,"value":181},"让 Linux 认为主板时间是当地时间，而不是 UTC\n",{"type":28,"tag":52,"props":183,"children":185},{"code":184},"sudo timedatectl set-local-rtc true",[],{"type":28,"tag":166,"props":187,"children":188},{},[189,194],{"type":28,"tag":36,"props":190,"children":191},{},[192],{"type":34,"value":193},"如果不想这样设置，还可以在 Windows 中添加注册表项，让 Windows 认为主板时间是 UTC。但是不要在两个系统中同时设置，否则矫枉过正会导致切换系统时产生反向时间差。",{"type":28,"tag":52,"props":195,"children":198},{"code":196,"prompt":197},"reg add HKLM\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1","PS(管理员)>",[],{"type":28,"tag":29,"props":200,"children":202},{"id":201},"显卡驱动",[203],{"type":34,"value":201},{"type":28,"tag":42,"props":205,"children":206},{},[207],{"type":28,"tag":46,"props":208,"children":209},{},[210,212],{"type":34,"value":211},"仅限主流 Nvidia 显卡\n",{"type":28,"tag":52,"props":213,"children":215},{"code":214},"sudo pacman -S nvidia",[],{"type":28,"tag":36,"props":217,"children":218},{},[219,221,230,232,239,241,248],{"type":34,"value":220},"一般情况下不需要做出更多的配置，如果遇到问题，请参考 ",{"type":28,"tag":222,"props":223,"children":227},"a",{"href":224,"rel":225},"https://wiki.archlinuxcn.org/wiki/NVIDIA",[226],"nofollow",[228],{"type":34,"value":229},"ArchWiki - NVIDIA",{"type":34,"value":231}," 和 ",{"type":28,"tag":222,"props":233,"children":236},{"href":234,"rel":235},"https://arch.icekylin.online/guide/rookie/graphic-driver",[226],[237],{"type":34,"value":238},"archlinux 简明指南 - 显卡驱动",{"type":34,"value":240},"（",{"type":28,"tag":222,"props":242,"children":245},{"href":243,"rel":244},"https://arch.cooo.site/guide/rookie/graphic-driver",[226],[246],{"type":34,"value":247},"镜像站",{"type":34,"value":249},"）。另外，Nvidia 对于 Wayland 的兼容不佳，所以尽可能选择 X11 相关的桌面环境。",{"type":28,"tag":42,"props":251,"children":252},{},[253,262],{"type":28,"tag":46,"props":254,"children":255},{},[256,258],{"type":34,"value":257},"安装完显卡驱动后重启，检测 Nvidia 显卡驱动是否正常工作\n",{"type":28,"tag":52,"props":259,"children":261},{"code":260},"nvidia-smi",[],{"type":28,"tag":46,"props":263,"children":264},{},[265,267,273,275,283,287,295,299,307,310],{"type":34,"value":266},"如果显示 ",{"type":28,"tag":126,"props":268,"children":270},{"className":269},[],[271],{"type":34,"value":272},"couldn't communicate with the NVIDIA driver",{"type":34,"value":274}," 提示，可能是显卡驱动没有安装成功\n",{"type":28,"tag":42,"props":276,"children":277},{},[278],{"type":28,"tag":46,"props":279,"children":280},{},[281],{"type":34,"value":282},"可以先卸载 Nvidia 相关软件包",{"type":28,"tag":52,"props":284,"children":286},{"code":285},"sudo pacman -Rs nvidia nvidia-utils",[],{"type":28,"tag":42,"props":288,"children":289},{},[290],{"type":28,"tag":46,"props":291,"children":292},{},[293],{"type":34,"value":294},"强制更新 Pacman 软件包列表",{"type":28,"tag":52,"props":296,"children":298},{"code":297},"sudo pacman -Syyuu",[],{"type":28,"tag":42,"props":300,"children":301},{},[302],{"type":28,"tag":46,"props":303,"children":304},{},[305],{"type":34,"value":306},"重新安装 Nvidia 驱动",{"type":28,"tag":52,"props":308,"children":309},{"code":214},[],{"type":28,"tag":42,"props":311,"children":312},{},[313],{"type":28,"tag":46,"props":314,"children":315},{},[316],{"type":34,"value":317},"重启",{"type":28,"tag":36,"props":319,"children":320},{},[321],{"type":34,"value":322},"之后在桌面右键菜单第二项“配置显示设置…”，将显示器缩放调整为一个合适的倍数。",{"type":28,"tag":29,"props":324,"children":326},{"id":325},"git",[327],{"type":34,"value":328},"Git",{"type":28,"tag":52,"props":330,"children":332},{"code":331},"sudo pacman -S git",[],{"type":28,"tag":29,"props":334,"children":336},{"id":335},"goproxy-环境变量",[337],{"type":34,"value":338},"GOPROXY 环境变量",{"type":28,"tag":36,"props":340,"children":341},{},[342,344,351,353,360],{"type":34,"value":343},"可以使用 ",{"type":28,"tag":222,"props":345,"children":348},{"href":346,"rel":347},"https://goproxy.cn/",[226],[349],{"type":34,"value":350},"七牛云Goproxy.cn",{"type":34,"value":352},"、",{"type":28,"tag":222,"props":354,"children":357},{"href":355,"rel":356},"https://goproxy.io/zh/",[226],[358],{"type":34,"value":359},"goproxy.io",{"type":34,"value":361}," 镜像加速。",{"type":28,"tag":42,"props":363,"children":364},{},[365,374],{"type":28,"tag":46,"props":366,"children":367},{},[368,370],{"type":34,"value":369},"编辑环境变量文件\n",{"type":28,"tag":52,"props":371,"children":373},{"code":372},"sudo vim /etc/environment",[],{"type":28,"tag":46,"props":375,"children":376},{},[377,379,385,387,393,395,401,403],{"type":34,"value":378},"向环境变量中添加以下内容（按 ",{"type":28,"tag":126,"props":380,"children":382},{"className":381},[],[383],{"type":34,"value":384},"i",{"type":34,"value":386}," 键进入编辑模式，按 ",{"type":28,"tag":126,"props":388,"children":390},{"className":389},[],[391],{"type":34,"value":392},"Esc",{"type":34,"value":394}," 键退出编辑模式，输入 ",{"type":28,"tag":126,"props":396,"children":398},{"className":397},[],[399],{"type":34,"value":400},":wq",{"type":34,"value":402}," 保存并退出）\n",{"type":28,"tag":404,"props":405,"children":410},"pre",{"className":406,"code":407,"filename":408,"language":409,"meta":7,"style":7},"language-ini shiki shiki-themes catppuccin-latte one-dark-pro","# GOPROXY\nGO111MODULE=on\nGOPROXY=https://goproxy.cn\n","/etc/environment","ini",[411],{"type":28,"tag":126,"props":412,"children":413},{"__ignoreMap":7},[414,426,448],{"type":28,"tag":415,"props":416,"children":419},"span",{"class":417,"line":418},"line",1,[420],{"type":28,"tag":415,"props":421,"children":423},{"style":422},"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic",[424],{"type":34,"value":425},"# GOPROXY\n",{"type":28,"tag":415,"props":427,"children":429},{"class":417,"line":428},2,[430,436,442],{"type":28,"tag":415,"props":431,"children":433},{"style":432},"--shiki-default:#1E66F5;--shiki-dark:#C678DD",[434],{"type":34,"value":435},"GO111MODULE",{"type":28,"tag":415,"props":437,"children":439},{"style":438},"--shiki-default:#179299;--shiki-dark:#ABB2BF",[440],{"type":34,"value":441},"=",{"type":28,"tag":415,"props":443,"children":445},{"style":444},"--shiki-default:#4C4F69;--shiki-dark:#98C379",[446],{"type":34,"value":447},"on\n",{"type":28,"tag":415,"props":449,"children":451},{"class":417,"line":450},3,[452,457,461],{"type":28,"tag":415,"props":453,"children":454},{"style":432},[455],{"type":34,"value":456},"GOPROXY",{"type":28,"tag":415,"props":458,"children":459},{"style":438},[460],{"type":34,"value":441},{"type":28,"tag":415,"props":462,"children":463},{"style":444},[464],{"type":34,"value":465},"https://goproxy.cn\n",{"type":28,"tag":29,"props":467,"children":469},{"id":468},"pacmanyay-加速编译",[470],{"type":34,"value":471},"Pacman/Yay 加速编译",{"type":28,"tag":42,"props":473,"children":474},{},[475,484,493],{"type":28,"tag":46,"props":476,"children":477},{},[478,480],{"type":34,"value":479},"查看 CPU 线程数\n",{"type":28,"tag":52,"props":481,"children":483},{"code":482},"cat /proc/cpuinfo | grep processor | wc -l",[],{"type":28,"tag":46,"props":485,"children":486},{},[487,489],{"type":34,"value":488},"编辑 makepkg 配置文件\n",{"type":28,"tag":52,"props":490,"children":492},{"code":491},"sudo vim /etc/makepkg.conf",[],{"type":28,"tag":46,"props":494,"children":495},{},[496,498,515,517,523,525,531,533],{"type":34,"value":497},"修改编译线程数：删除 ",{"type":28,"tag":126,"props":499,"children":500},{"className":406,"language":409,"style":7},[501,506,510],{"type":28,"tag":415,"props":502,"children":503},{"style":432},[504],{"type":34,"value":505},"MAKEFLAGS",{"type":28,"tag":415,"props":507,"children":508},{"style":438},[509],{"type":34,"value":441},{"type":28,"tag":415,"props":511,"children":512},{"style":444},[513],{"type":34,"value":514},"j[N]",{"type":34,"value":516}," 前面的注释标记，并将 ",{"type":28,"tag":126,"props":518,"children":520},{"className":519},[],[521],{"type":34,"value":522},"N",{"type":34,"value":524}," 替换为 CPU 线程数（输入 ",{"type":28,"tag":126,"props":526,"children":528},{"className":527},[],[529],{"type":34,"value":530},"/MAKE",{"type":34,"value":532}," 搜索）\n",{"type":28,"tag":404,"props":534,"children":537},{"className":406,"code":535,"filename":536,"language":409,"meta":7,"style":7},"MAKEFLAGS=\"-j8\"\n","/etc/makepkg.conf",[538],{"type":28,"tag":126,"props":539,"children":540},{"__ignoreMap":7},[541],{"type":28,"tag":415,"props":542,"children":543},{"class":417,"line":418},[544,548,552],{"type":28,"tag":415,"props":545,"children":546},{"style":432},[547],{"type":34,"value":505},{"type":28,"tag":415,"props":549,"children":550},{"style":438},[551],{"type":34,"value":441},{"type":28,"tag":415,"props":553,"children":555},{"style":554},"--shiki-default:#40A02B;--shiki-dark:#98C379",[556],{"type":34,"value":557},"\"-j8\"\n",{"type":28,"tag":29,"props":559,"children":561},{"id":560},"启用蓝牙",[562],{"type":34,"value":560},{"type":28,"tag":52,"props":564,"children":566},{"code":565},"sudo systemctl enable --now bluetooth",[],{"type":28,"tag":29,"props":568,"children":570},{"id":569},"yay",[571],{"type":34,"value":572},"Yay",{"type":28,"tag":42,"props":574,"children":575},{},[576,585,594],{"type":28,"tag":46,"props":577,"children":578},{},[579,581],{"type":34,"value":580},"下载，需要先安装 Git。\n",{"type":28,"tag":52,"props":582,"children":584},{"code":583},"git clone http://aur.archlinux.org/yay.git && cd yay",[],{"type":28,"tag":46,"props":586,"children":587},{},[588,590],{"type":34,"value":589},"编译安装，不行就多试几次或者换个网络。\n",{"type":28,"tag":52,"props":591,"children":593},{"code":592},"GOPROXY=http://goproxy.cn makepkg -si",[],{"type":28,"tag":46,"props":595,"children":596},{},[597,599],{"type":34,"value":598},"安装后就能清除 Git 目录了。\n",{"type":28,"tag":52,"props":600,"children":602},{"code":601},"cd .. && rm -rf yay",[],{"type":28,"tag":29,"props":604,"children":606},{"id":605},"浏览器",[607],{"type":34,"value":605},{"type":28,"tag":42,"props":609,"children":610},{},[611,620],{"type":28,"tag":46,"props":612,"children":613},{},[614,616],{"type":34,"value":615},"Microsoft Edge\n",{"type":28,"tag":52,"props":617,"children":619},{"code":618},"yay -S microsoft-edge-dev-bin",[],{"type":28,"tag":46,"props":621,"children":622},{},[623,625],{"type":34,"value":624},"Google Chrome\n",{"type":28,"tag":52,"props":626,"children":628},{"code":627},"yay -S google-chrome",[],{"type":28,"tag":29,"props":630,"children":632},{"id":631},"vs-code",[633],{"type":34,"value":634},"VS Code",{"type":28,"tag":52,"props":636,"children":638},{"code":637},"yay -S visual-studio-code-bin",[],{"type":28,"tag":29,"props":640,"children":642},{"id":641},"v2echo-raya",[643],{"type":34,"value":644},"V2$(echo r)aya",{"type":28,"tag":36,"props":646,"children":647},{},[648],{"type":34,"value":649},"需要先安装浏览器，或者局域网下其他设备访问本设备的 2017 端口的 Web 控制台。",{"type":28,"tag":42,"props":651,"children":652},{},[653,662],{"type":28,"tag":46,"props":654,"children":655},{},[656,658],{"type":34,"value":657},"安装 V2$(echo r)aya-bin\n",{"type":28,"tag":52,"props":659,"children":661},{"code":660},"yay -S v2$(echo r)aya-bin",[],{"type":28,"tag":46,"props":663,"children":664},{},[665,667],{"type":34,"value":666},"启动 V2$(echo r)aya 服务并设置开机启动\n",{"type":28,"tag":52,"props":668,"children":670},{"code":669},"sudo systemctl enable --now v2$(echo r)aya",[],{"type":28,"tag":36,"props":672,"children":673},{},[674],{"type":34,"value":675},"如果遇到问题，可以手动安装。",{"type":28,"tag":42,"props":677,"children":678},{},[679,688,697,750,758],{"type":28,"tag":46,"props":680,"children":681},{},[682,684],{"type":34,"value":683},"切换到 yay/v2$(echo r)aya 目录\n",{"type":28,"tag":52,"props":685,"children":687},{"code":686},"cd ~/.cache/yay/v2$(echo r)aya-bin",[],{"type":28,"tag":46,"props":689,"children":690},{},[691,693],{"type":34,"value":692},"编辑 PKGBUILD 文件\n",{"type":28,"tag":52,"props":694,"children":696},{"code":695},"vim PKGBUILD",[],{"type":28,"tag":46,"props":698,"children":699},{},[700,702,708,710],{"type":34,"value":701},"删除报错的 ",{"type":28,"tag":126,"props":703,"children":705},{"className":704},[],[706],{"type":34,"value":707},"armv6h",{"type":34,"value":709}," 架构，并保存退出\n",{"type":28,"tag":404,"props":711,"children":714},{"className":406,"code":712,"filename":713,"language":409,"meta":7,"style":7},"arch=('x86_64') # 主要保留 x86_64 架构即可\n","PKGBUILD",[715],{"type":28,"tag":126,"props":716,"children":717},{"__ignoreMap":7},[718],{"type":28,"tag":415,"props":719,"children":720},{"class":417,"line":418},[721,726,730,735,740,745],{"type":28,"tag":415,"props":722,"children":723},{"style":432},[724],{"type":34,"value":725},"arch",{"type":28,"tag":415,"props":727,"children":728},{"style":438},[729],{"type":34,"value":441},{"type":28,"tag":415,"props":731,"children":732},{"style":444},[733],{"type":34,"value":734},"(",{"type":28,"tag":415,"props":736,"children":737},{"style":554},[738],{"type":34,"value":739},"'x86_64'",{"type":28,"tag":415,"props":741,"children":742},{"style":444},[743],{"type":34,"value":744},") ",{"type":28,"tag":415,"props":746,"children":747},{"style":422},[748],{"type":34,"value":749},"# 主要保留 x86_64 架构即可\n",{"type":28,"tag":46,"props":751,"children":752},{},[753,755],{"type":34,"value":754},"编译安装\n",{"type":28,"tag":52,"props":756,"children":757},{"code":592},[],{"type":28,"tag":46,"props":759,"children":760},{},[761],{"type":34,"value":762},"启动 V2$(echo r)aya 服务并设置开机启动",{"type":28,"tag":36,"props":764,"children":765},{},[766,768,774],{"type":34,"value":767},"随后点击图标会自动访问 ",{"type":28,"tag":126,"props":769,"children":771},{"className":770},[],[772],{"type":34,"value":773},"http://127.0.0.1:2017",{"type":34,"value":775},"，配置即可。",{"type":28,"tag":42,"props":777,"children":778},{},[779,784,795,806,817,822],{"type":28,"tag":46,"props":780,"children":781},{},[782],{"type":34,"value":783},"点击右上角的“设置”",{"type":28,"tag":46,"props":785,"children":786},{},[787,789],{"type":34,"value":788},"透明Proxy/系统Proxy：",{"type":28,"tag":126,"props":790,"children":792},{"className":791},[],[793],{"type":34,"value":794},"启用: 分流规则与规则端口所选规则一致",{"type":28,"tag":46,"props":796,"children":797},{},[798,800],{"type":34,"value":799},"透明Proxy/系统Proxy实现方式：",{"type":28,"tag":126,"props":801,"children":803},{"className":802},[],[804],{"type":34,"value":805},"tproxy",{"type":28,"tag":46,"props":807,"children":808},{},[809,811],{"type":34,"value":810},"规则端口的分流模式：",{"type":28,"tag":126,"props":812,"children":814},{"className":813},[],[815],{"type":34,"value":816},"Mainland 白名单模式",{"type":28,"tag":46,"props":818,"children":819},{},[820],{"type":34,"value":821},"点击“保存并应用”",{"type":28,"tag":46,"props":823,"children":824},{},[825],{"type":34,"value":826},"在左上角启停 V2$(echo r)aya",{"type":28,"tag":29,"props":828,"children":830},{"id":829},"zsh",[831],{"type":34,"value":832},"Zsh",{"type":28,"tag":36,"props":834,"children":835},{},[836],{"type":34,"value":837},"大多数 Zsh 主题需要 Nerd 字体才能显示图标。",{"type":28,"tag":42,"props":839,"children":840},{},[841,850,859,868,883],{"type":28,"tag":46,"props":842,"children":843},{},[844,846],{"type":34,"value":845},"安装 Zsh 和常用插件\n",{"type":28,"tag":52,"props":847,"children":849},{"code":848},"sudo pacman -S zsh zsh-completions zsh-autosuggestions zsh-syntax-highlighting",[],{"type":28,"tag":46,"props":851,"children":852},{},[853,855],{"type":34,"value":854},"安装 Powerlevel10k 主题\n",{"type":28,"tag":52,"props":856,"children":858},{"code":857},"yay -S zsh-theme-powerlevel10k",[],{"type":28,"tag":46,"props":860,"children":861},{},[862,864],{"type":34,"value":863},"设置本用户的默认 Shell 为 Zsh\n",{"type":28,"tag":52,"props":865,"children":867},{"code":866},"chsh -s /usr/bin/zsh",[],{"type":28,"tag":46,"props":869,"children":870},{},[871,873,879],{"type":34,"value":872},"编辑 ",{"type":28,"tag":126,"props":874,"children":876},{"className":875},[],[877],{"type":34,"value":878},"~/.zshrc",{"type":28,"tag":52,"props":880,"children":882},{"code":881},"vim ~/.zshrc",[],{"type":28,"tag":46,"props":884,"children":885},{},[886,888],{"type":34,"value":887},"向配置文件中添加以下内容\n",{"type":28,"tag":404,"props":889,"children":893},{"className":890,"code":891,"filename":878,"language":892,"meta":7,"style":7},"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","# Lines configured by zsh-newuser-install\nHISTFILE=~/.histfile\nHISTSIZE=1000\nSAVEHIST=1000\nbindkey -e\n# End of lines configured by zsh-newuser-install\n\n# The following lines were added by compinstall\nautoload -Uz compinit\ncompinit\n# End of lines added by compinstall\n\nsource /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\nsource /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme\n\nbindkey '^[[H' beginning-of-line\nbindkey '^[[F' end-of-line\nbindkey '^[[1;5C' forward-word\nbindkey '^[[1;5D' backward-word\nbindkey '^H' backward-kill-word\nbindkey '^[[3~' delete-char\n\nzstyle ':completion:*' menu select\n\nalias ls='ls --color=auto'\nalias ll='ls -alFh --time-style=iso'\nalias ip='ip --color'\nalias grep='grep --color=auto'\n","sh",[894],{"type":28,"tag":126,"props":895,"children":896},{"__ignoreMap":7},[897,905,924,941,958,974,983,993,1002,1021,1031,1040,1048,1062,1075,1088,1096,1114,1132,1150,1168,1186,1204,1212,1236,1244,1268,1290,1312],{"type":28,"tag":415,"props":898,"children":899},{"class":417,"line":418},[900],{"type":28,"tag":415,"props":901,"children":902},{"style":422},[903],{"type":34,"value":904},"# Lines configured by zsh-newuser-install\n",{"type":28,"tag":415,"props":906,"children":907},{"class":417,"line":428},[908,914,919],{"type":28,"tag":415,"props":909,"children":911},{"style":910},"--shiki-default:#4C4F69;--shiki-dark:#E06C75",[912],{"type":34,"value":913},"HISTFILE",{"type":28,"tag":415,"props":915,"children":917},{"style":916},"--shiki-default:#179299;--shiki-dark:#56B6C2",[918],{"type":34,"value":441},{"type":28,"tag":415,"props":920,"children":921},{"style":554},[922],{"type":34,"value":923},"~/.histfile\n",{"type":28,"tag":415,"props":925,"children":926},{"class":417,"line":450},[927,932,936],{"type":28,"tag":415,"props":928,"children":929},{"style":910},[930],{"type":34,"value":931},"HISTSIZE",{"type":28,"tag":415,"props":933,"children":934},{"style":916},[935],{"type":34,"value":441},{"type":28,"tag":415,"props":937,"children":938},{"style":554},[939],{"type":34,"value":940},"1000\n",{"type":28,"tag":415,"props":942,"children":944},{"class":417,"line":943},4,[945,950,954],{"type":28,"tag":415,"props":946,"children":947},{"style":910},[948],{"type":34,"value":949},"SAVEHIST",{"type":28,"tag":415,"props":951,"children":952},{"style":916},[953],{"type":34,"value":441},{"type":28,"tag":415,"props":955,"children":956},{"style":554},[957],{"type":34,"value":940},{"type":28,"tag":415,"props":959,"children":961},{"class":417,"line":960},5,[962,968],{"type":28,"tag":415,"props":963,"children":965},{"style":964},"--shiki-default:#D20F39;--shiki-default-font-style:italic;--shiki-dark:#56B6C2;--shiki-dark-font-style:inherit",[966],{"type":34,"value":967},"bindkey",{"type":28,"tag":415,"props":969,"children":971},{"style":970},"--shiki-default:#40A02B;--shiki-dark:#D19A66",[972],{"type":34,"value":973}," -e\n",{"type":28,"tag":415,"props":975,"children":977},{"class":417,"line":976},6,[978],{"type":28,"tag":415,"props":979,"children":980},{"style":422},[981],{"type":34,"value":982},"# End of lines configured by zsh-newuser-install\n",{"type":28,"tag":415,"props":984,"children":986},{"class":417,"line":985},7,[987],{"type":28,"tag":415,"props":988,"children":990},{"emptyLinePlaceholder":989},true,[991],{"type":34,"value":992},"\n",{"type":28,"tag":415,"props":994,"children":996},{"class":417,"line":995},8,[997],{"type":28,"tag":415,"props":998,"children":999},{"style":422},[1000],{"type":34,"value":1001},"# The following lines were added by compinstall\n",{"type":28,"tag":415,"props":1003,"children":1005},{"class":417,"line":1004},9,[1006,1011,1016],{"type":28,"tag":415,"props":1007,"children":1008},{"style":964},[1009],{"type":34,"value":1010},"autoload",{"type":28,"tag":415,"props":1012,"children":1013},{"style":970},[1014],{"type":34,"value":1015}," -Uz",{"type":28,"tag":415,"props":1017,"children":1018},{"style":554},[1019],{"type":34,"value":1020}," compinit\n",{"type":28,"tag":415,"props":1022,"children":1024},{"class":417,"line":1023},10,[1025],{"type":28,"tag":415,"props":1026,"children":1028},{"style":1027},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[1029],{"type":34,"value":1030},"compinit\n",{"type":28,"tag":415,"props":1032,"children":1034},{"class":417,"line":1033},11,[1035],{"type":28,"tag":415,"props":1036,"children":1037},{"style":422},[1038],{"type":34,"value":1039},"# End of lines added by compinstall\n",{"type":28,"tag":415,"props":1041,"children":1043},{"class":417,"line":1042},12,[1044],{"type":28,"tag":415,"props":1045,"children":1046},{"emptyLinePlaceholder":989},[1047],{"type":34,"value":992},{"type":28,"tag":415,"props":1049,"children":1051},{"class":417,"line":1050},13,[1052,1057],{"type":28,"tag":415,"props":1053,"children":1054},{"style":964},[1055],{"type":34,"value":1056},"source",{"type":28,"tag":415,"props":1058,"children":1059},{"style":554},[1060],{"type":34,"value":1061}," /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\n",{"type":28,"tag":415,"props":1063,"children":1065},{"class":417,"line":1064},14,[1066,1070],{"type":28,"tag":415,"props":1067,"children":1068},{"style":964},[1069],{"type":34,"value":1056},{"type":28,"tag":415,"props":1071,"children":1072},{"style":554},[1073],{"type":34,"value":1074}," /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n",{"type":28,"tag":415,"props":1076,"children":1078},{"class":417,"line":1077},15,[1079,1083],{"type":28,"tag":415,"props":1080,"children":1081},{"style":964},[1082],{"type":34,"value":1056},{"type":28,"tag":415,"props":1084,"children":1085},{"style":554},[1086],{"type":34,"value":1087}," /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme\n",{"type":28,"tag":415,"props":1089,"children":1091},{"class":417,"line":1090},16,[1092],{"type":28,"tag":415,"props":1093,"children":1094},{"emptyLinePlaceholder":989},[1095],{"type":34,"value":992},{"type":28,"tag":415,"props":1097,"children":1099},{"class":417,"line":1098},17,[1100,1104,1109],{"type":28,"tag":415,"props":1101,"children":1102},{"style":964},[1103],{"type":34,"value":967},{"type":28,"tag":415,"props":1105,"children":1106},{"style":554},[1107],{"type":34,"value":1108}," '^[[H'",{"type":28,"tag":415,"props":1110,"children":1111},{"style":554},[1112],{"type":34,"value":1113}," beginning-of-line\n",{"type":28,"tag":415,"props":1115,"children":1117},{"class":417,"line":1116},18,[1118,1122,1127],{"type":28,"tag":415,"props":1119,"children":1120},{"style":964},[1121],{"type":34,"value":967},{"type":28,"tag":415,"props":1123,"children":1124},{"style":554},[1125],{"type":34,"value":1126}," '^[[F'",{"type":28,"tag":415,"props":1128,"children":1129},{"style":554},[1130],{"type":34,"value":1131}," end-of-line\n",{"type":28,"tag":415,"props":1133,"children":1135},{"class":417,"line":1134},19,[1136,1140,1145],{"type":28,"tag":415,"props":1137,"children":1138},{"style":964},[1139],{"type":34,"value":967},{"type":28,"tag":415,"props":1141,"children":1142},{"style":554},[1143],{"type":34,"value":1144}," '^[[1;5C'",{"type":28,"tag":415,"props":1146,"children":1147},{"style":554},[1148],{"type":34,"value":1149}," forward-word\n",{"type":28,"tag":415,"props":1151,"children":1153},{"class":417,"line":1152},20,[1154,1158,1163],{"type":28,"tag":415,"props":1155,"children":1156},{"style":964},[1157],{"type":34,"value":967},{"type":28,"tag":415,"props":1159,"children":1160},{"style":554},[1161],{"type":34,"value":1162}," '^[[1;5D'",{"type":28,"tag":415,"props":1164,"children":1165},{"style":554},[1166],{"type":34,"value":1167}," backward-word\n",{"type":28,"tag":415,"props":1169,"children":1171},{"class":417,"line":1170},21,[1172,1176,1181],{"type":28,"tag":415,"props":1173,"children":1174},{"style":964},[1175],{"type":34,"value":967},{"type":28,"tag":415,"props":1177,"children":1178},{"style":554},[1179],{"type":34,"value":1180}," '^H'",{"type":28,"tag":415,"props":1182,"children":1183},{"style":554},[1184],{"type":34,"value":1185}," backward-kill-word\n",{"type":28,"tag":415,"props":1187,"children":1189},{"class":417,"line":1188},22,[1190,1194,1199],{"type":28,"tag":415,"props":1191,"children":1192},{"style":964},[1193],{"type":34,"value":967},{"type":28,"tag":415,"props":1195,"children":1196},{"style":554},[1197],{"type":34,"value":1198}," '^[[3~'",{"type":28,"tag":415,"props":1200,"children":1201},{"style":554},[1202],{"type":34,"value":1203}," delete-char\n",{"type":28,"tag":415,"props":1205,"children":1207},{"class":417,"line":1206},23,[1208],{"type":28,"tag":415,"props":1209,"children":1210},{"emptyLinePlaceholder":989},[1211],{"type":34,"value":992},{"type":28,"tag":415,"props":1213,"children":1215},{"class":417,"line":1214},24,[1216,1221,1226,1231],{"type":28,"tag":415,"props":1217,"children":1218},{"style":1027},[1219],{"type":34,"value":1220},"zstyle",{"type":28,"tag":415,"props":1222,"children":1223},{"style":554},[1224],{"type":34,"value":1225}," ':completion:*'",{"type":28,"tag":415,"props":1227,"children":1228},{"style":554},[1229],{"type":34,"value":1230}," menu",{"type":28,"tag":415,"props":1232,"children":1233},{"style":554},[1234],{"type":34,"value":1235}," select\n",{"type":28,"tag":415,"props":1237,"children":1239},{"class":417,"line":1238},25,[1240],{"type":28,"tag":415,"props":1241,"children":1242},{"emptyLinePlaceholder":989},[1243],{"type":34,"value":992},{"type":28,"tag":415,"props":1245,"children":1247},{"class":417,"line":1246},26,[1248,1254,1259,1263],{"type":28,"tag":415,"props":1249,"children":1251},{"style":1250},"--shiki-default:#8839EF;--shiki-dark:#C678DD",[1252],{"type":34,"value":1253},"alias",{"type":28,"tag":415,"props":1255,"children":1256},{"style":910},[1257],{"type":34,"value":1258}," ls",{"type":28,"tag":415,"props":1260,"children":1261},{"style":916},[1262],{"type":34,"value":441},{"type":28,"tag":415,"props":1264,"children":1265},{"style":554},[1266],{"type":34,"value":1267},"'ls --color=auto'\n",{"type":28,"tag":415,"props":1269,"children":1271},{"class":417,"line":1270},27,[1272,1276,1281,1285],{"type":28,"tag":415,"props":1273,"children":1274},{"style":1250},[1275],{"type":34,"value":1253},{"type":28,"tag":415,"props":1277,"children":1278},{"style":910},[1279],{"type":34,"value":1280}," ll",{"type":28,"tag":415,"props":1282,"children":1283},{"style":916},[1284],{"type":34,"value":441},{"type":28,"tag":415,"props":1286,"children":1287},{"style":554},[1288],{"type":34,"value":1289},"'ls -alFh --time-style=iso'\n",{"type":28,"tag":415,"props":1291,"children":1293},{"class":417,"line":1292},28,[1294,1298,1303,1307],{"type":28,"tag":415,"props":1295,"children":1296},{"style":1250},[1297],{"type":34,"value":1253},{"type":28,"tag":415,"props":1299,"children":1300},{"style":910},[1301],{"type":34,"value":1302}," ip",{"type":28,"tag":415,"props":1304,"children":1305},{"style":916},[1306],{"type":34,"value":441},{"type":28,"tag":415,"props":1308,"children":1309},{"style":554},[1310],{"type":34,"value":1311},"'ip --color'\n",{"type":28,"tag":415,"props":1313,"children":1315},{"class":417,"line":1314},29,[1316,1320,1325,1329],{"type":28,"tag":415,"props":1317,"children":1318},{"style":1250},[1319],{"type":34,"value":1253},{"type":28,"tag":415,"props":1321,"children":1322},{"style":910},[1323],{"type":34,"value":1324}," grep",{"type":28,"tag":415,"props":1326,"children":1327},{"style":916},[1328],{"type":34,"value":441},{"type":28,"tag":415,"props":1330,"children":1331},{"style":554},[1332],{"type":34,"value":1333},"'grep --color=auto'\n",{"type":28,"tag":29,"props":1335,"children":1337},{"id":1336},"输入法",[1338],{"type":34,"value":1336},{"type":28,"tag":166,"props":1340,"children":1341},{},[1342],{"type":28,"tag":36,"props":1343,"children":1344},{},[1345,1347,1354,1356,1362],{"type":34,"value":1346},"如果你使用 Wayland，操作可能不同，可以参照 ",{"type":28,"tag":222,"props":1348,"children":1351},{"href":1349,"rel":1350},"https://wiki.archlinuxcn.org/wiki/Fcitx5",[226],[1352],{"type":34,"value":1353},"Fcitx5 - Arch Linux 中文维基",{"type":34,"value":1355},"。你也可以将",{"type":28,"tag":126,"props":1357,"children":1359},{"className":1358},[],[1360],{"type":34,"value":1361},"fcitx5-chinese-addons",{"type":34,"value":1363},"替换为中州韵和 Rime。",{"type":28,"tag":42,"props":1365,"children":1366},{},[1367,1376,1384],{"type":28,"tag":46,"props":1368,"children":1369},{},[1370,1372],{"type":34,"value":1371},"安装 Fcitx5 和中文输入插件\n",{"type":28,"tag":52,"props":1373,"children":1375},{"code":1374},"yay -S fcitx5-im fcitx5-chinese-addons",[],{"type":28,"tag":46,"props":1377,"children":1378},{},[1379,1381],{"type":34,"value":1380},"配置环境变量\n",{"type":28,"tag":52,"props":1382,"children":1383},{"code":372},[],{"type":28,"tag":46,"props":1385,"children":1386},{},[1387,1389],{"type":34,"value":1388},"向环境变量添加以下内容\n",{"type":28,"tag":404,"props":1390,"children":1392},{"className":406,"code":1391,"filename":408,"language":409,"meta":7,"style":7},"# Fcitx5\nGTK_IM_MODULE=fcitx\nQT_IM_MODULE=fcitx\nXMODIFIERS=@im=fcitx\nSDL_IM_MODULE=fcitx\nINPUT_METHOD=fcitx\nGLFW_IM_MODULE=ibus\n",[1393],{"type":28,"tag":126,"props":1394,"children":1395},{"__ignoreMap":7},[1396,1404,1421,1437,1467,1483,1499],{"type":28,"tag":415,"props":1397,"children":1398},{"class":417,"line":418},[1399],{"type":28,"tag":415,"props":1400,"children":1401},{"style":422},[1402],{"type":34,"value":1403},"# Fcitx5\n",{"type":28,"tag":415,"props":1405,"children":1406},{"class":417,"line":428},[1407,1412,1416],{"type":28,"tag":415,"props":1408,"children":1409},{"style":432},[1410],{"type":34,"value":1411},"GTK_IM_MODULE",{"type":28,"tag":415,"props":1413,"children":1414},{"style":438},[1415],{"type":34,"value":441},{"type":28,"tag":415,"props":1417,"children":1418},{"style":444},[1419],{"type":34,"value":1420},"fcitx\n",{"type":28,"tag":415,"props":1422,"children":1423},{"class":417,"line":450},[1424,1429,1433],{"type":28,"tag":415,"props":1425,"children":1426},{"style":432},[1427],{"type":34,"value":1428},"QT_IM_MODULE",{"type":28,"tag":415,"props":1430,"children":1431},{"style":438},[1432],{"type":34,"value":441},{"type":28,"tag":415,"props":1434,"children":1435},{"style":444},[1436],{"type":34,"value":1420},{"type":28,"tag":415,"props":1438,"children":1439},{"class":417,"line":943},[1440,1445,1449,1454,1459,1463],{"type":28,"tag":415,"props":1441,"children":1442},{"style":432},[1443],{"type":34,"value":1444},"XMODIFIERS",{"type":28,"tag":415,"props":1446,"children":1447},{"style":438},[1448],{"type":34,"value":441},{"type":28,"tag":415,"props":1450,"children":1451},{"style":444},[1452],{"type":34,"value":1453},"@",{"type":28,"tag":415,"props":1455,"children":1456},{"style":432},[1457],{"type":34,"value":1458},"im",{"type":28,"tag":415,"props":1460,"children":1461},{"style":438},[1462],{"type":34,"value":441},{"type":28,"tag":415,"props":1464,"children":1465},{"style":444},[1466],{"type":34,"value":1420},{"type":28,"tag":415,"props":1468,"children":1469},{"class":417,"line":960},[1470,1475,1479],{"type":28,"tag":415,"props":1471,"children":1472},{"style":432},[1473],{"type":34,"value":1474},"SDL_IM_MODULE",{"type":28,"tag":415,"props":1476,"children":1477},{"style":438},[1478],{"type":34,"value":441},{"type":28,"tag":415,"props":1480,"children":1481},{"style":444},[1482],{"type":34,"value":1420},{"type":28,"tag":415,"props":1484,"children":1485},{"class":417,"line":976},[1486,1491,1495],{"type":28,"tag":415,"props":1487,"children":1488},{"style":432},[1489],{"type":34,"value":1490},"INPUT_METHOD",{"type":28,"tag":415,"props":1492,"children":1493},{"style":438},[1494],{"type":34,"value":441},{"type":28,"tag":415,"props":1496,"children":1497},{"style":444},[1498],{"type":34,"value":1420},{"type":28,"tag":415,"props":1500,"children":1501},{"class":417,"line":985},[1502,1507,1511],{"type":28,"tag":415,"props":1503,"children":1504},{"style":432},[1505],{"type":34,"value":1506},"GLFW_IM_MODULE",{"type":28,"tag":415,"props":1508,"children":1509},{"style":438},[1510],{"type":34,"value":441},{"type":28,"tag":415,"props":1512,"children":1513},{"style":444},[1514],{"type":34,"value":1515},"ibus\n",{"type":28,"tag":29,"props":1517,"children":1519},{"id":1518},"继续优化其他体验",[1520],{"type":34,"value":1518},{"type":28,"tag":1522,"props":1523,"children":1527},"link-banner",{"banner":1524,"link":1525,"title":1526},"https://7.isyangs.cn/24/666400971559b-24.jpg","/2023/archlinux-beautify","Arch Linux 易用性及美化",[],{"type":28,"tag":1529,"props":1530,"children":1531},"style",{},[1532],{"type":34,"value":1533},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":943,"depth":943,"links":1535},[1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551],{"id":31,"depth":428,"text":31},{"id":77,"depth":428,"text":77},{"id":136,"depth":428,"text":136},{"id":162,"depth":428,"text":162},{"id":201,"depth":428,"text":201},{"id":325,"depth":428,"text":328},{"id":335,"depth":428,"text":338},{"id":468,"depth":428,"text":471},{"id":560,"depth":428,"text":560},{"id":569,"depth":428,"text":572},{"id":605,"depth":428,"text":605},{"id":631,"depth":428,"text":634},{"id":641,"depth":428,"text":644},{"id":829,"depth":428,"text":832},{"id":1336,"depth":428,"text":1336},{"id":1518,"depth":428,"text":1518},"markdown","content:posts:2023:archlinux-configure.md","content","posts/2023/archlinux-configure.md","posts/2023/archlinux-configure","md","/posts",[1560,1564],{"_path":1561,"title":1562,"date":1563},"/2023/archinstall-guide","使用 ArchInstall 安装 Arch Linux","2023-05-23T12:37:07.000Z",{"_path":1525,"title":1526,"date":1565},"2023-07-24T13:27:45.000Z",1743402691262]