[{"data":1,"prerenderedAt":7729},["ShallowReactive",2],{"/2023/c-strbuf":3,"surround-/2023/c-strbuf":7720},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"categories":13,"tags":15,"references":19,"readingTime":23,"body":28,"_type":7713,"_id":7714,"_source":7715,"_file":7716,"_stem":7717,"_extension":7718,"_original_dir":7719},"/2023/c-strbuf","2023",false,"","简单实现C语言字符串缓冲区","设计一个C语言的动态扩容缓冲区，是西邮 Linux 兴趣小组的 Lab 报告。","2023-01-01T15:58:33.000Z","2023-07-30T03:45:33.000Z","https://7.isyangs.cn/24/6664009a7190a-24.jpg",[14],"代码",[16,17,18],"实验室","Lab","C语言",[20],{"link":21,"title":22},"https://plan.xiyoulinux.com/project/strbuf/","设计一个 C 语言的动态扩容缓冲区",{"text":24,"minutes":25,"time":26,"words":27},"13 min read",12.725,763500,2545,{"type":29,"children":30,"toc":7653},"root",[31,39,337,344,361,377,403,408,642,657,691,704,898,913,930,935,1063,1078,1094,1099,1260,1275,1311,1325,1455,1470,1487,1537,1725,1740,1756,1761,1878,1884,1900,1915,1951,1956,2163,2178,2213,2224,2474,2489,2513,2518,2627,2642,2667,2693,2814,2829,2855,2860,2865,2981,2995,3019,3040,3045,3260,3275,3292,3297,3403,3418,3460,3488,3775,3781,3796,3830,3852,4092,4107,4139,4144,4149,4425,4440,4475,4480,4673,4679,4694,4758,4831,5121,5136,5161,5205,5414,5420,5428,5443,5502,5538,6212,6217,6982,6990,7005,7013,7069,7222,7253,7268,7276,7289,7311,7647],{"type":32,"tag":33,"props":34,"children":36},"element","h2",{"id":35},"设计一个-c-语言的动态扩容缓冲区",[37],{"type":38,"value":22},"text",{"type":32,"tag":40,"props":41,"children":42},"blockquote",{},[43,55,63,183,191],{"type":32,"tag":44,"props":45,"children":46},"p",{},[47,53],{"type":32,"tag":48,"props":49,"children":50},"strong",{},[51],{"type":38,"value":52},"知识要点",{"type":38,"value":54},"：字符串、面向对象的 C 语言设计、动态内存分配、Linux File API、getline。",{"type":32,"tag":44,"props":56,"children":57},{},[58],{"type":32,"tag":48,"props":59,"children":60},{},[61],{"type":38,"value":62},"缓冲区类的定义",{"type":32,"tag":64,"props":65,"children":69},"pre",{"className":66,"code":67,"language":68,"meta":7,"style":7},"language-c shiki shiki-themes catppuccin-latte one-dark-pro","struct strbuf {\n    int len;     //当前缓冲区（字符串）长度\n    int alloc;   //当前缓冲区（字符串）容量\n    char *buf;   //缓冲区（字符串）\n};\n","c",[70],{"type":32,"tag":71,"props":72,"children":73},"code",{"__ignoreMap":7},[74,98,123,145,174],{"type":32,"tag":75,"props":76,"children":79},"span",{"class":77,"line":78},"line",1,[80,86,92],{"type":32,"tag":75,"props":81,"children":83},{"style":82},"--shiki-default:#8839EF;--shiki-dark:#C678DD",[84],{"type":38,"value":85},"struct",{"type":32,"tag":75,"props":87,"children":89},{"style":88},"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF",[90],{"type":38,"value":91}," strbuf ",{"type":32,"tag":75,"props":93,"children":95},{"style":94},"--shiki-default:#7C7F93;--shiki-dark:#ABB2BF",[96],{"type":38,"value":97},"{\n",{"type":32,"tag":75,"props":99,"children":101},{"class":77,"line":100},2,[102,107,112,117],{"type":32,"tag":75,"props":103,"children":104},{"style":82},[105],{"type":38,"value":106},"    int",{"type":32,"tag":75,"props":108,"children":109},{"style":88},[110],{"type":38,"value":111}," len",{"type":32,"tag":75,"props":113,"children":114},{"style":94},[115],{"type":38,"value":116},";",{"type":32,"tag":75,"props":118,"children":120},{"style":119},"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic",[121],{"type":38,"value":122},"     //当前缓冲区（字符串）长度\n",{"type":32,"tag":75,"props":124,"children":126},{"class":77,"line":125},3,[127,131,136,140],{"type":32,"tag":75,"props":128,"children":129},{"style":82},[130],{"type":38,"value":106},{"type":32,"tag":75,"props":132,"children":133},{"style":88},[134],{"type":38,"value":135}," alloc",{"type":32,"tag":75,"props":137,"children":138},{"style":94},[139],{"type":38,"value":116},{"type":32,"tag":75,"props":141,"children":142},{"style":119},[143],{"type":38,"value":144},"   //当前缓冲区（字符串）容量\n",{"type":32,"tag":75,"props":146,"children":148},{"class":77,"line":147},4,[149,154,160,165,169],{"type":32,"tag":75,"props":150,"children":151},{"style":82},[152],{"type":38,"value":153},"    char",{"type":32,"tag":75,"props":155,"children":157},{"style":156},"--shiki-default:#179299;--shiki-dark:#C678DD",[158],{"type":38,"value":159}," *",{"type":32,"tag":75,"props":161,"children":162},{"style":88},[163],{"type":38,"value":164},"buf",{"type":32,"tag":75,"props":166,"children":167},{"style":94},[168],{"type":38,"value":116},{"type":32,"tag":75,"props":170,"children":171},{"style":119},[172],{"type":38,"value":173},"   //缓冲区（字符串）\n",{"type":32,"tag":75,"props":175,"children":177},{"class":77,"line":176},5,[178],{"type":32,"tag":75,"props":179,"children":180},{"style":94},[181],{"type":38,"value":182},"};\n",{"type":32,"tag":44,"props":184,"children":185},{},[186],{"type":32,"tag":48,"props":187,"children":188},{},[189],{"type":38,"value":190},"HINT",{"type":32,"tag":192,"props":193,"children":194},"ul",{},[195,298],{"type":32,"tag":196,"props":197,"children":198},"li",{},[199,207,209,217,219,226,228,235,237,251,253,260,262,269,271,296],{"type":32,"tag":71,"props":200,"children":201},{"className":66,"language":68,"style":7},[202],{"type":32,"tag":75,"props":203,"children":204},{"style":88},[205],{"type":38,"value":206},"strbuf",{"type":38,"value":208},"的成员",{"type":32,"tag":71,"props":210,"children":211},{"className":66,"language":68,"style":7},[212],{"type":32,"tag":75,"props":213,"children":214},{"style":88},[215],{"type":38,"value":216},"len",{"type":38,"value":218},"代表的是",{"type":32,"tag":71,"props":220,"children":221},{"className":66,"language":68,"style":7},[222],{"type":32,"tag":75,"props":223,"children":224},{"style":88},[225],{"type":38,"value":164},{"type":38,"value":227},"缓冲区的长度，每次我们将字符串追加入",{"type":32,"tag":71,"props":229,"children":230},{"className":66,"language":68,"style":7},[231],{"type":32,"tag":75,"props":232,"children":233},{"style":88},[234],{"type":38,"value":206},{"type":38,"value":236},"中，我们都应该使用 ",{"type":32,"tag":71,"props":238,"children":239},{"className":66,"language":68,"style":7},[240,246],{"type":32,"tag":75,"props":241,"children":243},{"style":242},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[244],{"type":38,"value":245},"strbuf_setlen",{"type":32,"tag":75,"props":247,"children":248},{"style":94},[249],{"type":38,"value":250},"()",{"type":38,"value":252},"去更新",{"type":32,"tag":71,"props":254,"children":255},{"className":66,"language":68,"style":7},[256],{"type":32,"tag":75,"props":257,"children":258},{"style":88},[259],{"type":38,"value":206},{"type":38,"value":261},"的长度",{"type":32,"tag":71,"props":263,"children":264},{"className":66,"language":68,"style":7},[265],{"type":32,"tag":75,"props":266,"children":267},{"style":88},[268],{"type":38,"value":216},{"type":38,"value":270},"，注意",{"type":32,"tag":71,"props":272,"children":273},{"className":66,"language":68,"style":7},[274,280,285,291],{"type":32,"tag":75,"props":275,"children":277},{"style":276},"--shiki-default:#FE640B;--shiki-dark:#D19A66",[278],{"type":38,"value":279},"123",{"type":32,"tag":75,"props":281,"children":282},{"style":88},[283],{"type":38,"value":284},"\\",{"type":32,"tag":75,"props":286,"children":288},{"style":287},"--shiki-default:#8839EF;--shiki-dark:#E06C75",[289],{"type":38,"value":290},"0",{"type":32,"tag":75,"props":292,"children":293},{"style":276},[294],{"type":38,"value":295},"456",{"type":38,"value":297},"的长度不是 3，而是 7。",{"type":32,"tag":196,"props":299,"children":300},{},[301,308,309,317,318,325,327,335],{"type":32,"tag":71,"props":302,"children":303},{"className":66,"language":68,"style":7},[304],{"type":32,"tag":75,"props":305,"children":306},{"style":88},[307],{"type":38,"value":206},{"type":38,"value":208},{"type":32,"tag":71,"props":310,"children":311},{"className":66,"language":68,"style":7},[312],{"type":32,"tag":75,"props":313,"children":314},{"style":88},[315],{"type":38,"value":316},"alloc",{"type":38,"value":218},{"type":32,"tag":71,"props":319,"children":320},{"className":66,"language":68,"style":7},[321],{"type":32,"tag":75,"props":322,"children":323},{"style":88},[324],{"type":38,"value":164},{"type":38,"value":326},"缓冲区的容量，也就是我们每次动态分配的数组大小，每当我们需要向",{"type":32,"tag":71,"props":328,"children":329},{"className":66,"language":68,"style":7},[330],{"type":32,"tag":75,"props":331,"children":332},{"style":88},[333],{"type":38,"value":334},"sb",{"type":38,"value":336},"内追加一个字符串，我们需要计算当前的字符串长度加上追加的字符串长度，如果超过了当前的容量，我们就需要把容量扩大一倍，然后将字符串添加进去。",{"type":32,"tag":338,"props":339,"children":341},"h3",{"id":340},"part-2a",[342],{"type":38,"value":343},"Part 2A",{"type":32,"tag":40,"props":345,"children":346},{},[347],{"type":32,"tag":44,"props":348,"children":349},{},[350,352,359],{"type":38,"value":351},"实现字符串缓冲区类",{"type":32,"tag":71,"props":353,"children":354},{"className":66,"language":68,"style":7},[355],{"type":32,"tag":75,"props":356,"children":357},{"style":88},[358],{"type":38,"value":206},{"type":38,"value":360},"简单的初始化，填充，释放，交换，比较，清空等操作。",{"type":32,"tag":362,"props":363,"children":365},"h4",{"id":364},"strbuf_init",[366],{"type":32,"tag":71,"props":367,"children":368},{"className":66,"language":68,"style":7},[369,373],{"type":32,"tag":75,"props":370,"children":371},{"style":242},[372],{"type":38,"value":364},{"type":32,"tag":75,"props":374,"children":375},{"style":94},[376],{"type":38,"value":250},{"type":32,"tag":40,"props":378,"children":379},{},[380],{"type":32,"tag":44,"props":381,"children":382},{},[383,385,392,394,401],{"type":38,"value":384},"初始化",{"type":32,"tag":71,"props":386,"children":387},{"className":66,"language":68,"style":7},[388],{"type":32,"tag":75,"props":389,"children":390},{"style":88},[391],{"type":38,"value":334},{"type":38,"value":393},"结构体，容量为",{"type":32,"tag":71,"props":395,"children":396},{"className":66,"language":68,"style":7},[397],{"type":32,"tag":75,"props":398,"children":399},{"style":88},[400],{"type":38,"value":316},{"type":38,"value":402},"。",{"type":32,"tag":44,"props":404,"children":405},{},[406],{"type":38,"value":407},"初始化时要为缓冲区写入容量大小，在内存中申请空间，写入长度大小，并将缓冲区设置为空字符串。",{"type":32,"tag":64,"props":409,"children":411},{"className":66,"code":410,"language":68,"meta":7,"style":7},"void strbuf_init(struct strbuf *sb, size_t alloc) {\n    sb->alloc = alloc;\n    sb->buf = (char *) malloc(alloc);\n    sb->buf[sb->len = 0] = '\\0';\n}\n",[412],{"type":32,"tag":71,"props":413,"children":414},{"__ignoreMap":7},[415,476,508,563,634],{"type":32,"tag":75,"props":416,"children":417},{"class":77,"line":78},[418,423,428,433,437,442,447,452,457,462,466,471],{"type":32,"tag":75,"props":419,"children":420},{"style":82},[421],{"type":38,"value":422},"void",{"type":32,"tag":75,"props":424,"children":425},{"style":242},[426],{"type":38,"value":427}," strbuf_init",{"type":32,"tag":75,"props":429,"children":430},{"style":94},[431],{"type":38,"value":432},"(",{"type":32,"tag":75,"props":434,"children":435},{"style":82},[436],{"type":38,"value":85},{"type":32,"tag":75,"props":438,"children":440},{"style":439},"--shiki-default:#4C4F69;--shiki-dark:#E06C75",[441],{"type":38,"value":91},{"type":32,"tag":75,"props":443,"children":444},{"style":156},[445],{"type":38,"value":446},"*",{"type":32,"tag":75,"props":448,"children":450},{"style":449},"--shiki-default:#E64553;--shiki-default-font-style:italic;--shiki-dark:#E06C75;--shiki-dark-font-style:italic",[451],{"type":38,"value":334},{"type":32,"tag":75,"props":453,"children":454},{"style":94},[455],{"type":38,"value":456},",",{"type":32,"tag":75,"props":458,"children":459},{"style":82},[460],{"type":38,"value":461}," size_t",{"type":32,"tag":75,"props":463,"children":464},{"style":449},[465],{"type":38,"value":135},{"type":32,"tag":75,"props":467,"children":468},{"style":94},[469],{"type":38,"value":470},")",{"type":32,"tag":75,"props":472,"children":473},{"style":94},[474],{"type":38,"value":475}," {\n",{"type":32,"tag":75,"props":477,"children":478},{"class":77,"line":100},[479,485,490,494,499,503],{"type":32,"tag":75,"props":480,"children":482},{"style":481},"--shiki-default:#4C4F69;--shiki-dark:#E5C07B",[483],{"type":38,"value":484},"    sb",{"type":32,"tag":75,"props":486,"children":487},{"style":94},[488],{"type":38,"value":489},"->",{"type":32,"tag":75,"props":491,"children":492},{"style":439},[493],{"type":38,"value":316},{"type":32,"tag":75,"props":495,"children":496},{"style":156},[497],{"type":38,"value":498}," =",{"type":32,"tag":75,"props":500,"children":501},{"style":88},[502],{"type":38,"value":135},{"type":32,"tag":75,"props":504,"children":505},{"style":94},[506],{"type":38,"value":507},";\n",{"type":32,"tag":75,"props":509,"children":510},{"class":77,"line":125},[511,515,519,523,527,532,537,541,545,550,554,558],{"type":32,"tag":75,"props":512,"children":513},{"style":481},[514],{"type":38,"value":484},{"type":32,"tag":75,"props":516,"children":517},{"style":94},[518],{"type":38,"value":489},{"type":32,"tag":75,"props":520,"children":521},{"style":439},[522],{"type":38,"value":164},{"type":32,"tag":75,"props":524,"children":525},{"style":156},[526],{"type":38,"value":498},{"type":32,"tag":75,"props":528,"children":529},{"style":94},[530],{"type":38,"value":531}," (",{"type":32,"tag":75,"props":533,"children":534},{"style":82},[535],{"type":38,"value":536},"char",{"type":32,"tag":75,"props":538,"children":539},{"style":156},[540],{"type":38,"value":159},{"type":32,"tag":75,"props":542,"children":543},{"style":94},[544],{"type":38,"value":470},{"type":32,"tag":75,"props":546,"children":547},{"style":242},[548],{"type":38,"value":549}," malloc",{"type":32,"tag":75,"props":551,"children":552},{"style":94},[553],{"type":38,"value":432},{"type":32,"tag":75,"props":555,"children":556},{"style":88},[557],{"type":38,"value":316},{"type":32,"tag":75,"props":559,"children":560},{"style":94},[561],{"type":38,"value":562},");\n",{"type":32,"tag":75,"props":564,"children":565},{"class":77,"line":147},[566,570,574,578,583,587,591,595,599,604,609,613,619,625,630],{"type":32,"tag":75,"props":567,"children":568},{"style":481},[569],{"type":38,"value":484},{"type":32,"tag":75,"props":571,"children":572},{"style":94},[573],{"type":38,"value":489},{"type":32,"tag":75,"props":575,"children":576},{"style":439},[577],{"type":38,"value":164},{"type":32,"tag":75,"props":579,"children":580},{"style":94},[581],{"type":38,"value":582},"[",{"type":32,"tag":75,"props":584,"children":585},{"style":481},[586],{"type":38,"value":334},{"type":32,"tag":75,"props":588,"children":589},{"style":94},[590],{"type":38,"value":489},{"type":32,"tag":75,"props":592,"children":593},{"style":439},[594],{"type":38,"value":216},{"type":32,"tag":75,"props":596,"children":597},{"style":156},[598],{"type":38,"value":498},{"type":32,"tag":75,"props":600,"children":601},{"style":276},[602],{"type":38,"value":603}," 0",{"type":32,"tag":75,"props":605,"children":606},{"style":94},[607],{"type":38,"value":608},"]",{"type":32,"tag":75,"props":610,"children":611},{"style":156},[612],{"type":38,"value":498},{"type":32,"tag":75,"props":614,"children":616},{"style":615},"--shiki-default:#40A02B;--shiki-dark:#98C379",[617],{"type":38,"value":618}," '",{"type":32,"tag":75,"props":620,"children":622},{"style":621},"--shiki-default:#EA76CB;--shiki-dark:#56B6C2",[623],{"type":38,"value":624},"\\0",{"type":32,"tag":75,"props":626,"children":627},{"style":615},[628],{"type":38,"value":629},"'",{"type":32,"tag":75,"props":631,"children":632},{"style":94},[633],{"type":38,"value":507},{"type":32,"tag":75,"props":635,"children":636},{"class":77,"line":176},[637],{"type":32,"tag":75,"props":638,"children":639},{"style":94},[640],{"type":38,"value":641},"}\n",{"type":32,"tag":362,"props":643,"children":645},{"id":644},"strbuf_attach",[646],{"type":32,"tag":71,"props":647,"children":648},{"className":66,"language":68,"style":7},[649,653],{"type":32,"tag":75,"props":650,"children":651},{"style":242},[652],{"type":38,"value":644},{"type":32,"tag":75,"props":654,"children":655},{"style":94},[656],{"type":38,"value":250},{"type":32,"tag":40,"props":658,"children":659},{},[660],{"type":32,"tag":44,"props":661,"children":662},{},[663,665,672,674,681,683,690],{"type":38,"value":664},"将字符串填充到",{"type":32,"tag":71,"props":666,"children":667},{"className":66,"language":68,"style":7},[668],{"type":32,"tag":75,"props":669,"children":670},{"style":88},[671],{"type":38,"value":334},{"type":38,"value":673},"中，长度为",{"type":32,"tag":71,"props":675,"children":676},{"className":66,"language":68,"style":7},[677],{"type":32,"tag":75,"props":678,"children":679},{"style":88},[680],{"type":38,"value":216},{"type":38,"value":682},", 容量为",{"type":32,"tag":71,"props":684,"children":685},{"className":66,"language":68,"style":7},[686],{"type":32,"tag":75,"props":687,"children":688},{"style":88},[689],{"type":38,"value":316},{"type":38,"value":402},{"type":32,"tag":44,"props":692,"children":693},{},[694,702],{"type":32,"tag":71,"props":695,"children":696},{"className":66,"language":68,"style":7},[697],{"type":32,"tag":75,"props":698,"children":699},{"style":88},[700],{"type":38,"value":701},"字符串",{"type":38,"value":703},"已经有其对应的长度、容量、内容信息，直接将其对应填入缓冲区即可。",{"type":32,"tag":64,"props":705,"children":707},{"className":66,"code":706,"language":68,"meta":7,"style":7},"void strbuf_attach(struct strbuf *sb, void *str, size_t len, size_t alloc) {\n    sb->len = len;\n    sb->alloc = alloc;\n    sb->buf = (char *) str;\n}\n",[708],{"type":32,"tag":71,"props":709,"children":710},{"__ignoreMap":7},[711,793,820,847,891],{"type":32,"tag":75,"props":712,"children":713},{"class":77,"line":78},[714,718,723,727,731,735,739,743,747,752,756,761,765,769,773,777,781,785,789],{"type":32,"tag":75,"props":715,"children":716},{"style":82},[717],{"type":38,"value":422},{"type":32,"tag":75,"props":719,"children":720},{"style":242},[721],{"type":38,"value":722}," strbuf_attach",{"type":32,"tag":75,"props":724,"children":725},{"style":94},[726],{"type":38,"value":432},{"type":32,"tag":75,"props":728,"children":729},{"style":82},[730],{"type":38,"value":85},{"type":32,"tag":75,"props":732,"children":733},{"style":439},[734],{"type":38,"value":91},{"type":32,"tag":75,"props":736,"children":737},{"style":156},[738],{"type":38,"value":446},{"type":32,"tag":75,"props":740,"children":741},{"style":449},[742],{"type":38,"value":334},{"type":32,"tag":75,"props":744,"children":745},{"style":94},[746],{"type":38,"value":456},{"type":32,"tag":75,"props":748,"children":749},{"style":82},[750],{"type":38,"value":751}," void",{"type":32,"tag":75,"props":753,"children":754},{"style":156},[755],{"type":38,"value":159},{"type":32,"tag":75,"props":757,"children":758},{"style":449},[759],{"type":38,"value":760},"str",{"type":32,"tag":75,"props":762,"children":763},{"style":94},[764],{"type":38,"value":456},{"type":32,"tag":75,"props":766,"children":767},{"style":82},[768],{"type":38,"value":461},{"type":32,"tag":75,"props":770,"children":771},{"style":449},[772],{"type":38,"value":111},{"type":32,"tag":75,"props":774,"children":775},{"style":94},[776],{"type":38,"value":456},{"type":32,"tag":75,"props":778,"children":779},{"style":82},[780],{"type":38,"value":461},{"type":32,"tag":75,"props":782,"children":783},{"style":449},[784],{"type":38,"value":135},{"type":32,"tag":75,"props":786,"children":787},{"style":94},[788],{"type":38,"value":470},{"type":32,"tag":75,"props":790,"children":791},{"style":94},[792],{"type":38,"value":475},{"type":32,"tag":75,"props":794,"children":795},{"class":77,"line":100},[796,800,804,808,812,816],{"type":32,"tag":75,"props":797,"children":798},{"style":481},[799],{"type":38,"value":484},{"type":32,"tag":75,"props":801,"children":802},{"style":94},[803],{"type":38,"value":489},{"type":32,"tag":75,"props":805,"children":806},{"style":439},[807],{"type":38,"value":216},{"type":32,"tag":75,"props":809,"children":810},{"style":156},[811],{"type":38,"value":498},{"type":32,"tag":75,"props":813,"children":814},{"style":88},[815],{"type":38,"value":111},{"type":32,"tag":75,"props":817,"children":818},{"style":94},[819],{"type":38,"value":507},{"type":32,"tag":75,"props":821,"children":822},{"class":77,"line":125},[823,827,831,835,839,843],{"type":32,"tag":75,"props":824,"children":825},{"style":481},[826],{"type":38,"value":484},{"type":32,"tag":75,"props":828,"children":829},{"style":94},[830],{"type":38,"value":489},{"type":32,"tag":75,"props":832,"children":833},{"style":439},[834],{"type":38,"value":316},{"type":32,"tag":75,"props":836,"children":837},{"style":156},[838],{"type":38,"value":498},{"type":32,"tag":75,"props":840,"children":841},{"style":88},[842],{"type":38,"value":135},{"type":32,"tag":75,"props":844,"children":845},{"style":94},[846],{"type":38,"value":507},{"type":32,"tag":75,"props":848,"children":849},{"class":77,"line":147},[850,854,858,862,866,870,874,878,882,887],{"type":32,"tag":75,"props":851,"children":852},{"style":481},[853],{"type":38,"value":484},{"type":32,"tag":75,"props":855,"children":856},{"style":94},[857],{"type":38,"value":489},{"type":32,"tag":75,"props":859,"children":860},{"style":439},[861],{"type":38,"value":164},{"type":32,"tag":75,"props":863,"children":864},{"style":156},[865],{"type":38,"value":498},{"type":32,"tag":75,"props":867,"children":868},{"style":94},[869],{"type":38,"value":531},{"type":32,"tag":75,"props":871,"children":872},{"style":82},[873],{"type":38,"value":536},{"type":32,"tag":75,"props":875,"children":876},{"style":156},[877],{"type":38,"value":159},{"type":32,"tag":75,"props":879,"children":880},{"style":94},[881],{"type":38,"value":470},{"type":32,"tag":75,"props":883,"children":884},{"style":88},[885],{"type":38,"value":886}," str",{"type":32,"tag":75,"props":888,"children":889},{"style":94},[890],{"type":38,"value":507},{"type":32,"tag":75,"props":892,"children":893},{"class":77,"line":176},[894],{"type":32,"tag":75,"props":895,"children":896},{"style":94},[897],{"type":38,"value":641},{"type":32,"tag":362,"props":899,"children":901},{"id":900},"strbuf_release",[902],{"type":32,"tag":71,"props":903,"children":904},{"className":66,"language":68,"style":7},[905,909],{"type":32,"tag":75,"props":906,"children":907},{"style":242},[908],{"type":38,"value":900},{"type":32,"tag":75,"props":910,"children":911},{"style":94},[912],{"type":38,"value":250},{"type":32,"tag":40,"props":914,"children":915},{},[916],{"type":32,"tag":44,"props":917,"children":918},{},[919,921,928],{"type":38,"value":920},"释放",{"type":32,"tag":71,"props":922,"children":923},{"className":66,"language":68,"style":7},[924],{"type":32,"tag":75,"props":925,"children":926},{"style":88},[927],{"type":38,"value":334},{"type":38,"value":929},"结构体的内存。",{"type":32,"tag":44,"props":931,"children":932},{},[933],{"type":38,"value":934},"释放缓冲区内存，将容量大小、长度信息归零，并为缓冲区赋予空指针，防止重复释放内存时报错。",{"type":32,"tag":64,"props":936,"children":938},{"className":66,"code":937,"language":68,"meta":7,"style":7},"void strbuf_release(struct strbuf *sb) {\n    free(sb->buf);\n    strbuf_attach(sb, NULL, 0, 0);\n}\n",[939],{"type":32,"tag":71,"props":940,"children":941},{"__ignoreMap":7},[942,982,1010,1056],{"type":32,"tag":75,"props":943,"children":944},{"class":77,"line":78},[945,949,954,958,962,966,970,974,978],{"type":32,"tag":75,"props":946,"children":947},{"style":82},[948],{"type":38,"value":422},{"type":32,"tag":75,"props":950,"children":951},{"style":242},[952],{"type":38,"value":953}," strbuf_release",{"type":32,"tag":75,"props":955,"children":956},{"style":94},[957],{"type":38,"value":432},{"type":32,"tag":75,"props":959,"children":960},{"style":82},[961],{"type":38,"value":85},{"type":32,"tag":75,"props":963,"children":964},{"style":439},[965],{"type":38,"value":91},{"type":32,"tag":75,"props":967,"children":968},{"style":156},[969],{"type":38,"value":446},{"type":32,"tag":75,"props":971,"children":972},{"style":449},[973],{"type":38,"value":334},{"type":32,"tag":75,"props":975,"children":976},{"style":94},[977],{"type":38,"value":470},{"type":32,"tag":75,"props":979,"children":980},{"style":94},[981],{"type":38,"value":475},{"type":32,"tag":75,"props":983,"children":984},{"class":77,"line":100},[985,990,994,998,1002,1006],{"type":32,"tag":75,"props":986,"children":987},{"style":242},[988],{"type":38,"value":989},"    free",{"type":32,"tag":75,"props":991,"children":992},{"style":94},[993],{"type":38,"value":432},{"type":32,"tag":75,"props":995,"children":996},{"style":481},[997],{"type":38,"value":334},{"type":32,"tag":75,"props":999,"children":1000},{"style":94},[1001],{"type":38,"value":489},{"type":32,"tag":75,"props":1003,"children":1004},{"style":439},[1005],{"type":38,"value":164},{"type":32,"tag":75,"props":1007,"children":1008},{"style":94},[1009],{"type":38,"value":562},{"type":32,"tag":75,"props":1011,"children":1012},{"class":77,"line":125},[1013,1018,1022,1026,1030,1036,1040,1044,1048,1052],{"type":32,"tag":75,"props":1014,"children":1015},{"style":242},[1016],{"type":38,"value":1017},"    strbuf_attach",{"type":32,"tag":75,"props":1019,"children":1020},{"style":94},[1021],{"type":38,"value":432},{"type":32,"tag":75,"props":1023,"children":1024},{"style":88},[1025],{"type":38,"value":334},{"type":32,"tag":75,"props":1027,"children":1028},{"style":94},[1029],{"type":38,"value":456},{"type":32,"tag":75,"props":1031,"children":1033},{"style":1032},"--shiki-default:#D20F39;--shiki-dark:#D19A66",[1034],{"type":38,"value":1035}," NULL",{"type":32,"tag":75,"props":1037,"children":1038},{"style":94},[1039],{"type":38,"value":456},{"type":32,"tag":75,"props":1041,"children":1042},{"style":276},[1043],{"type":38,"value":603},{"type":32,"tag":75,"props":1045,"children":1046},{"style":94},[1047],{"type":38,"value":456},{"type":32,"tag":75,"props":1049,"children":1050},{"style":276},[1051],{"type":38,"value":603},{"type":32,"tag":75,"props":1053,"children":1054},{"style":94},[1055],{"type":38,"value":562},{"type":32,"tag":75,"props":1057,"children":1058},{"class":77,"line":147},[1059],{"type":32,"tag":75,"props":1060,"children":1061},{"style":94},[1062],{"type":38,"value":641},{"type":32,"tag":362,"props":1064,"children":1066},{"id":1065},"strbuf_swap",[1067],{"type":32,"tag":71,"props":1068,"children":1069},{"className":66,"language":68,"style":7},[1070,1074],{"type":32,"tag":75,"props":1071,"children":1072},{"style":242},[1073],{"type":38,"value":1065},{"type":32,"tag":75,"props":1075,"children":1076},{"style":94},[1077],{"type":38,"value":250},{"type":32,"tag":40,"props":1079,"children":1080},{},[1081],{"type":32,"tag":44,"props":1082,"children":1083},{},[1084,1086,1093],{"type":38,"value":1085},"交换两个",{"type":32,"tag":71,"props":1087,"children":1088},{"className":66,"language":68,"style":7},[1089],{"type":32,"tag":75,"props":1090,"children":1091},{"style":88},[1092],{"type":38,"value":206},{"type":38,"value":402},{"type":32,"tag":44,"props":1095,"children":1096},{},[1097],{"type":38,"value":1098},"交换时，可以利用结构体浅拷贝特性，通过增加一个临时的缓冲区变量，实现两个缓冲区的交换。",{"type":32,"tag":64,"props":1100,"children":1102},{"className":66,"code":1101,"language":68,"meta":7,"style":7},"void strbuf_swap(struct strbuf *a, struct strbuf *b) {\n    struct strbuf tmp = *a;\n    *a = *b;\n    *b = tmp;\n}\n",[1103],{"type":32,"tag":71,"props":1104,"children":1105},{"__ignoreMap":7},[1106,1169,1199,1228,1253],{"type":32,"tag":75,"props":1107,"children":1108},{"class":77,"line":78},[1109,1113,1118,1122,1126,1130,1134,1139,1143,1148,1152,1156,1161,1165],{"type":32,"tag":75,"props":1110,"children":1111},{"style":82},[1112],{"type":38,"value":422},{"type":32,"tag":75,"props":1114,"children":1115},{"style":242},[1116],{"type":38,"value":1117}," strbuf_swap",{"type":32,"tag":75,"props":1119,"children":1120},{"style":94},[1121],{"type":38,"value":432},{"type":32,"tag":75,"props":1123,"children":1124},{"style":82},[1125],{"type":38,"value":85},{"type":32,"tag":75,"props":1127,"children":1128},{"style":439},[1129],{"type":38,"value":91},{"type":32,"tag":75,"props":1131,"children":1132},{"style":156},[1133],{"type":38,"value":446},{"type":32,"tag":75,"props":1135,"children":1136},{"style":449},[1137],{"type":38,"value":1138},"a",{"type":32,"tag":75,"props":1140,"children":1141},{"style":94},[1142],{"type":38,"value":456},{"type":32,"tag":75,"props":1144,"children":1145},{"style":82},[1146],{"type":38,"value":1147}," struct",{"type":32,"tag":75,"props":1149,"children":1150},{"style":439},[1151],{"type":38,"value":91},{"type":32,"tag":75,"props":1153,"children":1154},{"style":156},[1155],{"type":38,"value":446},{"type":32,"tag":75,"props":1157,"children":1158},{"style":449},[1159],{"type":38,"value":1160},"b",{"type":32,"tag":75,"props":1162,"children":1163},{"style":94},[1164],{"type":38,"value":470},{"type":32,"tag":75,"props":1166,"children":1167},{"style":94},[1168],{"type":38,"value":475},{"type":32,"tag":75,"props":1170,"children":1171},{"class":77,"line":100},[1172,1177,1182,1187,1191,1195],{"type":32,"tag":75,"props":1173,"children":1174},{"style":82},[1175],{"type":38,"value":1176},"    struct",{"type":32,"tag":75,"props":1178,"children":1179},{"style":88},[1180],{"type":38,"value":1181}," strbuf tmp ",{"type":32,"tag":75,"props":1183,"children":1184},{"style":156},[1185],{"type":38,"value":1186},"=",{"type":32,"tag":75,"props":1188,"children":1189},{"style":156},[1190],{"type":38,"value":159},{"type":32,"tag":75,"props":1192,"children":1193},{"style":88},[1194],{"type":38,"value":1138},{"type":32,"tag":75,"props":1196,"children":1197},{"style":94},[1198],{"type":38,"value":507},{"type":32,"tag":75,"props":1200,"children":1201},{"class":77,"line":125},[1202,1207,1212,1216,1220,1224],{"type":32,"tag":75,"props":1203,"children":1204},{"style":156},[1205],{"type":38,"value":1206},"    *",{"type":32,"tag":75,"props":1208,"children":1209},{"style":88},[1210],{"type":38,"value":1211},"a ",{"type":32,"tag":75,"props":1213,"children":1214},{"style":156},[1215],{"type":38,"value":1186},{"type":32,"tag":75,"props":1217,"children":1218},{"style":156},[1219],{"type":38,"value":159},{"type":32,"tag":75,"props":1221,"children":1222},{"style":88},[1223],{"type":38,"value":1160},{"type":32,"tag":75,"props":1225,"children":1226},{"style":94},[1227],{"type":38,"value":507},{"type":32,"tag":75,"props":1229,"children":1230},{"class":77,"line":147},[1231,1235,1240,1244,1249],{"type":32,"tag":75,"props":1232,"children":1233},{"style":156},[1234],{"type":38,"value":1206},{"type":32,"tag":75,"props":1236,"children":1237},{"style":88},[1238],{"type":38,"value":1239},"b ",{"type":32,"tag":75,"props":1241,"children":1242},{"style":156},[1243],{"type":38,"value":1186},{"type":32,"tag":75,"props":1245,"children":1246},{"style":88},[1247],{"type":38,"value":1248}," tmp",{"type":32,"tag":75,"props":1250,"children":1251},{"style":94},[1252],{"type":38,"value":507},{"type":32,"tag":75,"props":1254,"children":1255},{"class":77,"line":176},[1256],{"type":32,"tag":75,"props":1257,"children":1258},{"style":94},[1259],{"type":38,"value":641},{"type":32,"tag":362,"props":1261,"children":1263},{"id":1262},"strbuf_detach",[1264],{"type":32,"tag":71,"props":1265,"children":1266},{"className":66,"language":68,"style":7},[1267,1271],{"type":32,"tag":75,"props":1268,"children":1269},{"style":242},[1270],{"type":38,"value":1262},{"type":32,"tag":75,"props":1272,"children":1273},{"style":94},[1274],{"type":38,"value":250},{"type":32,"tag":40,"props":1276,"children":1277},{},[1278],{"type":32,"tag":44,"props":1279,"children":1280},{},[1281,1283,1290,1292,1300,1302,1309],{"type":38,"value":1282},"将",{"type":32,"tag":71,"props":1284,"children":1285},{"className":66,"language":68,"style":7},[1286],{"type":32,"tag":75,"props":1287,"children":1288},{"style":88},[1289],{"type":38,"value":334},{"type":38,"value":1291},"中的原始内存取出，并将",{"type":32,"tag":71,"props":1293,"children":1294},{"className":66,"language":68,"style":7},[1295],{"type":32,"tag":75,"props":1296,"children":1297},{"style":88},[1298],{"type":38,"value":1299},"sz",{"type":38,"value":1301},"设置为其",{"type":32,"tag":71,"props":1303,"children":1304},{"className":66,"language":68,"style":7},[1305],{"type":32,"tag":75,"props":1306,"children":1307},{"style":88},[1308],{"type":38,"value":316},{"type":38,"value":1310},"大小。",{"type":32,"tag":44,"props":1312,"children":1313},{},[1314,1316,1323],{"type":38,"value":1315},"将缓冲区的容量信息赋给",{"type":32,"tag":71,"props":1317,"children":1318},{"className":66,"language":68,"style":7},[1319],{"type":32,"tag":75,"props":1320,"children":1321},{"style":88},[1322],{"type":38,"value":1299},{"type":38,"value":1324},"，并返回缓冲区的指针。",{"type":32,"tag":64,"props":1326,"children":1328},{"className":66,"code":1327,"language":68,"meta":7,"style":7},"char *strbuf_detach(struct strbuf *sb, size_t *sz) {\n    *sz = sb->alloc;\n    return sb->buf;\n}\n",[1329],{"type":32,"tag":71,"props":1330,"children":1331},{"__ignoreMap":7},[1332,1391,1424,1448],{"type":32,"tag":75,"props":1333,"children":1334},{"class":77,"line":78},[1335,1339,1343,1347,1351,1355,1359,1363,1367,1371,1375,1379,1383,1387],{"type":32,"tag":75,"props":1336,"children":1337},{"style":82},[1338],{"type":38,"value":536},{"type":32,"tag":75,"props":1340,"children":1341},{"style":156},[1342],{"type":38,"value":159},{"type":32,"tag":75,"props":1344,"children":1345},{"style":242},[1346],{"type":38,"value":1262},{"type":32,"tag":75,"props":1348,"children":1349},{"style":94},[1350],{"type":38,"value":432},{"type":32,"tag":75,"props":1352,"children":1353},{"style":82},[1354],{"type":38,"value":85},{"type":32,"tag":75,"props":1356,"children":1357},{"style":439},[1358],{"type":38,"value":91},{"type":32,"tag":75,"props":1360,"children":1361},{"style":156},[1362],{"type":38,"value":446},{"type":32,"tag":75,"props":1364,"children":1365},{"style":449},[1366],{"type":38,"value":334},{"type":32,"tag":75,"props":1368,"children":1369},{"style":94},[1370],{"type":38,"value":456},{"type":32,"tag":75,"props":1372,"children":1373},{"style":82},[1374],{"type":38,"value":461},{"type":32,"tag":75,"props":1376,"children":1377},{"style":156},[1378],{"type":38,"value":159},{"type":32,"tag":75,"props":1380,"children":1381},{"style":449},[1382],{"type":38,"value":1299},{"type":32,"tag":75,"props":1384,"children":1385},{"style":94},[1386],{"type":38,"value":470},{"type":32,"tag":75,"props":1388,"children":1389},{"style":94},[1390],{"type":38,"value":475},{"type":32,"tag":75,"props":1392,"children":1393},{"class":77,"line":100},[1394,1398,1403,1407,1412,1416,1420],{"type":32,"tag":75,"props":1395,"children":1396},{"style":156},[1397],{"type":38,"value":1206},{"type":32,"tag":75,"props":1399,"children":1400},{"style":88},[1401],{"type":38,"value":1402},"sz ",{"type":32,"tag":75,"props":1404,"children":1405},{"style":156},[1406],{"type":38,"value":1186},{"type":32,"tag":75,"props":1408,"children":1409},{"style":481},[1410],{"type":38,"value":1411}," sb",{"type":32,"tag":75,"props":1413,"children":1414},{"style":94},[1415],{"type":38,"value":489},{"type":32,"tag":75,"props":1417,"children":1418},{"style":439},[1419],{"type":38,"value":316},{"type":32,"tag":75,"props":1421,"children":1422},{"style":94},[1423],{"type":38,"value":507},{"type":32,"tag":75,"props":1425,"children":1426},{"class":77,"line":125},[1427,1432,1436,1440,1444],{"type":32,"tag":75,"props":1428,"children":1429},{"style":82},[1430],{"type":38,"value":1431},"    return",{"type":32,"tag":75,"props":1433,"children":1434},{"style":481},[1435],{"type":38,"value":1411},{"type":32,"tag":75,"props":1437,"children":1438},{"style":94},[1439],{"type":38,"value":489},{"type":32,"tag":75,"props":1441,"children":1442},{"style":439},[1443],{"type":38,"value":164},{"type":32,"tag":75,"props":1445,"children":1446},{"style":94},[1447],{"type":38,"value":507},{"type":32,"tag":75,"props":1449,"children":1450},{"class":77,"line":147},[1451],{"type":32,"tag":75,"props":1452,"children":1453},{"style":94},[1454],{"type":38,"value":641},{"type":32,"tag":362,"props":1456,"children":1458},{"id":1457},"strbuf_cmp",[1459],{"type":32,"tag":71,"props":1460,"children":1461},{"className":66,"language":68,"style":7},[1462,1466],{"type":32,"tag":75,"props":1463,"children":1464},{"style":242},[1465],{"type":38,"value":1457},{"type":32,"tag":75,"props":1467,"children":1468},{"style":94},[1469],{"type":38,"value":250},{"type":32,"tag":40,"props":1471,"children":1472},{},[1473],{"type":32,"tag":44,"props":1474,"children":1475},{},[1476,1478,1485],{"type":38,"value":1477},"比较两个",{"type":32,"tag":71,"props":1479,"children":1480},{"className":66,"language":68,"style":7},[1481],{"type":32,"tag":75,"props":1482,"children":1483},{"style":88},[1484],{"type":38,"value":206},{"type":38,"value":1486},"的内存是否相同。",{"type":32,"tag":44,"props":1488,"children":1489},{},[1490,1492,1507,1509,1521,1523,1535],{"type":38,"value":1491},"缓冲区中可能有",{"type":32,"tag":71,"props":1493,"children":1494},{"className":66,"language":68,"style":7},[1495,1499,1503],{"type":32,"tag":75,"props":1496,"children":1497},{"style":615},[1498],{"type":38,"value":629},{"type":32,"tag":75,"props":1500,"children":1501},{"style":621},[1502],{"type":38,"value":624},{"type":32,"tag":75,"props":1504,"children":1505},{"style":615},[1506],{"type":38,"value":629},{"type":38,"value":1508},"存在，所以需要比较长度范围内的所有信息，不能使用",{"type":32,"tag":71,"props":1510,"children":1511},{"className":66,"language":68,"style":7},[1512,1517],{"type":32,"tag":75,"props":1513,"children":1514},{"style":242},[1515],{"type":38,"value":1516},"strcmp",{"type":32,"tag":75,"props":1518,"children":1519},{"style":94},[1520],{"type":38,"value":250},{"type":38,"value":1522},"。\n可以先比较长度，如果长度不同则返回长度的差，如果长度相同则使用",{"type":32,"tag":71,"props":1524,"children":1525},{"className":66,"language":68,"style":7},[1526,1531],{"type":32,"tag":75,"props":1527,"children":1528},{"style":242},[1529],{"type":38,"value":1530},"memcmp",{"type":32,"tag":75,"props":1532,"children":1533},{"style":94},[1534],{"type":38,"value":250},{"type":38,"value":1536},"比较长度内的信息。",{"type":32,"tag":64,"props":1538,"children":1540},{"className":66,"code":1539,"language":68,"meta":7,"style":7},"int strbuf_cmp(const struct strbuf *first, const struct strbuf *second) {\n    return first->len - second->len || memcmp(first->buf, second->buf, first->len);\n}\n",[1541],{"type":32,"tag":71,"props":1542,"children":1543},{"__ignoreMap":7},[1544,1617,1718],{"type":32,"tag":75,"props":1545,"children":1546},{"class":77,"line":78},[1547,1552,1557,1561,1566,1570,1574,1578,1583,1587,1592,1596,1600,1604,1609,1613],{"type":32,"tag":75,"props":1548,"children":1549},{"style":82},[1550],{"type":38,"value":1551},"int",{"type":32,"tag":75,"props":1553,"children":1554},{"style":242},[1555],{"type":38,"value":1556}," strbuf_cmp",{"type":32,"tag":75,"props":1558,"children":1559},{"style":94},[1560],{"type":38,"value":432},{"type":32,"tag":75,"props":1562,"children":1563},{"style":82},[1564],{"type":38,"value":1565},"const",{"type":32,"tag":75,"props":1567,"children":1568},{"style":82},[1569],{"type":38,"value":1147},{"type":32,"tag":75,"props":1571,"children":1572},{"style":439},[1573],{"type":38,"value":91},{"type":32,"tag":75,"props":1575,"children":1576},{"style":156},[1577],{"type":38,"value":446},{"type":32,"tag":75,"props":1579,"children":1580},{"style":449},[1581],{"type":38,"value":1582},"first",{"type":32,"tag":75,"props":1584,"children":1585},{"style":94},[1586],{"type":38,"value":456},{"type":32,"tag":75,"props":1588,"children":1589},{"style":82},[1590],{"type":38,"value":1591}," const",{"type":32,"tag":75,"props":1593,"children":1594},{"style":82},[1595],{"type":38,"value":1147},{"type":32,"tag":75,"props":1597,"children":1598},{"style":439},[1599],{"type":38,"value":91},{"type":32,"tag":75,"props":1601,"children":1602},{"style":156},[1603],{"type":38,"value":446},{"type":32,"tag":75,"props":1605,"children":1606},{"style":449},[1607],{"type":38,"value":1608},"second",{"type":32,"tag":75,"props":1610,"children":1611},{"style":94},[1612],{"type":38,"value":470},{"type":32,"tag":75,"props":1614,"children":1615},{"style":94},[1616],{"type":38,"value":475},{"type":32,"tag":75,"props":1618,"children":1619},{"class":77,"line":100},[1620,1624,1629,1633,1637,1642,1647,1651,1655,1661,1666,1670,1674,1678,1682,1686,1690,1694,1698,1702,1706,1710,1714],{"type":32,"tag":75,"props":1621,"children":1622},{"style":82},[1623],{"type":38,"value":1431},{"type":32,"tag":75,"props":1625,"children":1626},{"style":481},[1627],{"type":38,"value":1628}," first",{"type":32,"tag":75,"props":1630,"children":1631},{"style":94},[1632],{"type":38,"value":489},{"type":32,"tag":75,"props":1634,"children":1635},{"style":439},[1636],{"type":38,"value":216},{"type":32,"tag":75,"props":1638,"children":1639},{"style":156},[1640],{"type":38,"value":1641}," -",{"type":32,"tag":75,"props":1643,"children":1644},{"style":481},[1645],{"type":38,"value":1646}," second",{"type":32,"tag":75,"props":1648,"children":1649},{"style":94},[1650],{"type":38,"value":489},{"type":32,"tag":75,"props":1652,"children":1653},{"style":439},[1654],{"type":38,"value":216},{"type":32,"tag":75,"props":1656,"children":1658},{"style":1657},"--shiki-default:#179299;--shiki-dark:#56B6C2",[1659],{"type":38,"value":1660}," ||",{"type":32,"tag":75,"props":1662,"children":1663},{"style":242},[1664],{"type":38,"value":1665}," memcmp",{"type":32,"tag":75,"props":1667,"children":1668},{"style":94},[1669],{"type":38,"value":432},{"type":32,"tag":75,"props":1671,"children":1672},{"style":481},[1673],{"type":38,"value":1582},{"type":32,"tag":75,"props":1675,"children":1676},{"style":94},[1677],{"type":38,"value":489},{"type":32,"tag":75,"props":1679,"children":1680},{"style":439},[1681],{"type":38,"value":164},{"type":32,"tag":75,"props":1683,"children":1684},{"style":94},[1685],{"type":38,"value":456},{"type":32,"tag":75,"props":1687,"children":1688},{"style":481},[1689],{"type":38,"value":1646},{"type":32,"tag":75,"props":1691,"children":1692},{"style":94},[1693],{"type":38,"value":489},{"type":32,"tag":75,"props":1695,"children":1696},{"style":439},[1697],{"type":38,"value":164},{"type":32,"tag":75,"props":1699,"children":1700},{"style":94},[1701],{"type":38,"value":456},{"type":32,"tag":75,"props":1703,"children":1704},{"style":481},[1705],{"type":38,"value":1628},{"type":32,"tag":75,"props":1707,"children":1708},{"style":94},[1709],{"type":38,"value":489},{"type":32,"tag":75,"props":1711,"children":1712},{"style":439},[1713],{"type":38,"value":216},{"type":32,"tag":75,"props":1715,"children":1716},{"style":94},[1717],{"type":38,"value":562},{"type":32,"tag":75,"props":1719,"children":1720},{"class":77,"line":125},[1721],{"type":32,"tag":75,"props":1722,"children":1723},{"style":94},[1724],{"type":38,"value":641},{"type":32,"tag":362,"props":1726,"children":1728},{"id":1727},"strbuf_reset",[1729],{"type":32,"tag":71,"props":1730,"children":1731},{"className":66,"language":68,"style":7},[1732,1736],{"type":32,"tag":75,"props":1733,"children":1734},{"style":242},[1735],{"type":38,"value":1727},{"type":32,"tag":75,"props":1737,"children":1738},{"style":94},[1739],{"type":38,"value":250},{"type":32,"tag":40,"props":1741,"children":1742},{},[1743],{"type":32,"tag":44,"props":1744,"children":1745},{},[1746,1748,1755],{"type":38,"value":1747},"清空",{"type":32,"tag":71,"props":1749,"children":1750},{"className":66,"language":68,"style":7},[1751],{"type":32,"tag":75,"props":1752,"children":1753},{"style":88},[1754],{"type":38,"value":334},{"type":38,"value":402},{"type":32,"tag":44,"props":1757,"children":1758},{},[1759],{"type":38,"value":1760},"清空缓冲区，则需要将长度归零，并将空字符串填入缓冲区。",{"type":32,"tag":64,"props":1762,"children":1764},{"className":66,"code":1763,"language":68,"meta":7,"style":7},"void strbuf_reset(struct strbuf *sb) {\n    sb->buf[sb->len = 0] = '\\0';\n}\n",[1765],{"type":32,"tag":71,"props":1766,"children":1767},{"__ignoreMap":7},[1768,1808,1871],{"type":32,"tag":75,"props":1769,"children":1770},{"class":77,"line":78},[1771,1775,1780,1784,1788,1792,1796,1800,1804],{"type":32,"tag":75,"props":1772,"children":1773},{"style":82},[1774],{"type":38,"value":422},{"type":32,"tag":75,"props":1776,"children":1777},{"style":242},[1778],{"type":38,"value":1779}," strbuf_reset",{"type":32,"tag":75,"props":1781,"children":1782},{"style":94},[1783],{"type":38,"value":432},{"type":32,"tag":75,"props":1785,"children":1786},{"style":82},[1787],{"type":38,"value":85},{"type":32,"tag":75,"props":1789,"children":1790},{"style":439},[1791],{"type":38,"value":91},{"type":32,"tag":75,"props":1793,"children":1794},{"style":156},[1795],{"type":38,"value":446},{"type":32,"tag":75,"props":1797,"children":1798},{"style":449},[1799],{"type":38,"value":334},{"type":32,"tag":75,"props":1801,"children":1802},{"style":94},[1803],{"type":38,"value":470},{"type":32,"tag":75,"props":1805,"children":1806},{"style":94},[1807],{"type":38,"value":475},{"type":32,"tag":75,"props":1809,"children":1810},{"class":77,"line":100},[1811,1815,1819,1823,1827,1831,1835,1839,1843,1847,1851,1855,1859,1863,1867],{"type":32,"tag":75,"props":1812,"children":1813},{"style":481},[1814],{"type":38,"value":484},{"type":32,"tag":75,"props":1816,"children":1817},{"style":94},[1818],{"type":38,"value":489},{"type":32,"tag":75,"props":1820,"children":1821},{"style":439},[1822],{"type":38,"value":164},{"type":32,"tag":75,"props":1824,"children":1825},{"style":94},[1826],{"type":38,"value":582},{"type":32,"tag":75,"props":1828,"children":1829},{"style":481},[1830],{"type":38,"value":334},{"type":32,"tag":75,"props":1832,"children":1833},{"style":94},[1834],{"type":38,"value":489},{"type":32,"tag":75,"props":1836,"children":1837},{"style":439},[1838],{"type":38,"value":216},{"type":32,"tag":75,"props":1840,"children":1841},{"style":156},[1842],{"type":38,"value":498},{"type":32,"tag":75,"props":1844,"children":1845},{"style":276},[1846],{"type":38,"value":603},{"type":32,"tag":75,"props":1848,"children":1849},{"style":94},[1850],{"type":38,"value":608},{"type":32,"tag":75,"props":1852,"children":1853},{"style":156},[1854],{"type":38,"value":498},{"type":32,"tag":75,"props":1856,"children":1857},{"style":615},[1858],{"type":38,"value":618},{"type":32,"tag":75,"props":1860,"children":1861},{"style":621},[1862],{"type":38,"value":624},{"type":32,"tag":75,"props":1864,"children":1865},{"style":615},[1866],{"type":38,"value":629},{"type":32,"tag":75,"props":1868,"children":1869},{"style":94},[1870],{"type":38,"value":507},{"type":32,"tag":75,"props":1872,"children":1873},{"class":77,"line":125},[1874],{"type":32,"tag":75,"props":1875,"children":1876},{"style":94},[1877],{"type":38,"value":641},{"type":32,"tag":338,"props":1879,"children":1881},{"id":1880},"part-2b",[1882],{"type":38,"value":1883},"Part 2B",{"type":32,"tag":40,"props":1885,"children":1886},{},[1887],{"type":32,"tag":44,"props":1888,"children":1889},{},[1890,1891,1898],{"type":38,"value":351},{"type":32,"tag":71,"props":1892,"children":1893},{"className":66,"language":68,"style":7},[1894],{"type":32,"tag":75,"props":1895,"children":1896},{"style":88},[1897],{"type":38,"value":206},{"type":38,"value":1899},"扩容，(追加|插入)字符，字符串等操作。",{"type":32,"tag":362,"props":1901,"children":1903},{"id":1902},"strbuf_grow",[1904],{"type":32,"tag":71,"props":1905,"children":1906},{"className":66,"language":68,"style":7},[1907,1911],{"type":32,"tag":75,"props":1908,"children":1909},{"style":242},[1910],{"type":38,"value":1902},{"type":32,"tag":75,"props":1912,"children":1913},{"style":94},[1914],{"type":38,"value":250},{"type":32,"tag":40,"props":1916,"children":1917},{},[1918],{"type":32,"tag":44,"props":1919,"children":1920},{},[1921,1923,1930,1932,1939,1941,1949],{"type":38,"value":1922},"确保在",{"type":32,"tag":71,"props":1924,"children":1925},{"className":66,"language":68,"style":7},[1926],{"type":32,"tag":75,"props":1927,"children":1928},{"style":88},[1929],{"type":38,"value":216},{"type":38,"value":1931},"之后",{"type":32,"tag":71,"props":1933,"children":1934},{"className":66,"language":68,"style":7},[1935],{"type":32,"tag":75,"props":1936,"children":1937},{"style":88},[1938],{"type":38,"value":206},{"type":38,"value":1940},"中至少有",{"type":32,"tag":71,"props":1942,"children":1943},{"className":66,"language":68,"style":7},[1944],{"type":32,"tag":75,"props":1945,"children":1946},{"style":88},[1947],{"type":38,"value":1948},"extra",{"type":38,"value":1950},"个字节的空闲空间可用。",{"type":32,"tag":44,"props":1952,"children":1953},{},[1954],{"type":38,"value":1955},"先计算可用空间，如果可用空间不足，则重新申请内存，将内存指针赋给缓冲区，并更新容量信息。",{"type":32,"tag":64,"props":1957,"children":1959},{"className":66,"code":1958,"language":68,"meta":7,"style":7},"void strbuf_grow(struct strbuf *sb, size_t extra) {\n    if (sb->alloc - sb->len \u003C extra)\n        sb->buf = (char *) realloc(sb->buf, sb->alloc += extra);\n}\n",[1960],{"type":32,"tag":71,"props":1961,"children":1962},{"__ignoreMap":7},[1963,2016,2070,2156],{"type":32,"tag":75,"props":1964,"children":1965},{"class":77,"line":78},[1966,1970,1975,1979,1983,1987,1991,1995,1999,2003,2008,2012],{"type":32,"tag":75,"props":1967,"children":1968},{"style":82},[1969],{"type":38,"value":422},{"type":32,"tag":75,"props":1971,"children":1972},{"style":242},[1973],{"type":38,"value":1974}," strbuf_grow",{"type":32,"tag":75,"props":1976,"children":1977},{"style":94},[1978],{"type":38,"value":432},{"type":32,"tag":75,"props":1980,"children":1981},{"style":82},[1982],{"type":38,"value":85},{"type":32,"tag":75,"props":1984,"children":1985},{"style":439},[1986],{"type":38,"value":91},{"type":32,"tag":75,"props":1988,"children":1989},{"style":156},[1990],{"type":38,"value":446},{"type":32,"tag":75,"props":1992,"children":1993},{"style":449},[1994],{"type":38,"value":334},{"type":32,"tag":75,"props":1996,"children":1997},{"style":94},[1998],{"type":38,"value":456},{"type":32,"tag":75,"props":2000,"children":2001},{"style":82},[2002],{"type":38,"value":461},{"type":32,"tag":75,"props":2004,"children":2005},{"style":449},[2006],{"type":38,"value":2007}," extra",{"type":32,"tag":75,"props":2009,"children":2010},{"style":94},[2011],{"type":38,"value":470},{"type":32,"tag":75,"props":2013,"children":2014},{"style":94},[2015],{"type":38,"value":475},{"type":32,"tag":75,"props":2017,"children":2018},{"class":77,"line":100},[2019,2024,2028,2032,2036,2040,2044,2048,2052,2056,2061,2065],{"type":32,"tag":75,"props":2020,"children":2021},{"style":82},[2022],{"type":38,"value":2023},"    if",{"type":32,"tag":75,"props":2025,"children":2026},{"style":94},[2027],{"type":38,"value":531},{"type":32,"tag":75,"props":2029,"children":2030},{"style":481},[2031],{"type":38,"value":334},{"type":32,"tag":75,"props":2033,"children":2034},{"style":94},[2035],{"type":38,"value":489},{"type":32,"tag":75,"props":2037,"children":2038},{"style":439},[2039],{"type":38,"value":316},{"type":32,"tag":75,"props":2041,"children":2042},{"style":156},[2043],{"type":38,"value":1641},{"type":32,"tag":75,"props":2045,"children":2046},{"style":481},[2047],{"type":38,"value":1411},{"type":32,"tag":75,"props":2049,"children":2050},{"style":94},[2051],{"type":38,"value":489},{"type":32,"tag":75,"props":2053,"children":2054},{"style":439},[2055],{"type":38,"value":216},{"type":32,"tag":75,"props":2057,"children":2058},{"style":156},[2059],{"type":38,"value":2060}," \u003C",{"type":32,"tag":75,"props":2062,"children":2063},{"style":88},[2064],{"type":38,"value":2007},{"type":32,"tag":75,"props":2066,"children":2067},{"style":94},[2068],{"type":38,"value":2069},")\n",{"type":32,"tag":75,"props":2071,"children":2072},{"class":77,"line":125},[2073,2078,2082,2086,2090,2094,2098,2102,2106,2111,2115,2119,2123,2127,2131,2135,2139,2143,2148,2152],{"type":32,"tag":75,"props":2074,"children":2075},{"style":481},[2076],{"type":38,"value":2077},"        sb",{"type":32,"tag":75,"props":2079,"children":2080},{"style":94},[2081],{"type":38,"value":489},{"type":32,"tag":75,"props":2083,"children":2084},{"style":439},[2085],{"type":38,"value":164},{"type":32,"tag":75,"props":2087,"children":2088},{"style":156},[2089],{"type":38,"value":498},{"type":32,"tag":75,"props":2091,"children":2092},{"style":94},[2093],{"type":38,"value":531},{"type":32,"tag":75,"props":2095,"children":2096},{"style":82},[2097],{"type":38,"value":536},{"type":32,"tag":75,"props":2099,"children":2100},{"style":156},[2101],{"type":38,"value":159},{"type":32,"tag":75,"props":2103,"children":2104},{"style":94},[2105],{"type":38,"value":470},{"type":32,"tag":75,"props":2107,"children":2108},{"style":242},[2109],{"type":38,"value":2110}," realloc",{"type":32,"tag":75,"props":2112,"children":2113},{"style":94},[2114],{"type":38,"value":432},{"type":32,"tag":75,"props":2116,"children":2117},{"style":481},[2118],{"type":38,"value":334},{"type":32,"tag":75,"props":2120,"children":2121},{"style":94},[2122],{"type":38,"value":489},{"type":32,"tag":75,"props":2124,"children":2125},{"style":439},[2126],{"type":38,"value":164},{"type":32,"tag":75,"props":2128,"children":2129},{"style":94},[2130],{"type":38,"value":456},{"type":32,"tag":75,"props":2132,"children":2133},{"style":481},[2134],{"type":38,"value":1411},{"type":32,"tag":75,"props":2136,"children":2137},{"style":94},[2138],{"type":38,"value":489},{"type":32,"tag":75,"props":2140,"children":2141},{"style":439},[2142],{"type":38,"value":316},{"type":32,"tag":75,"props":2144,"children":2145},{"style":156},[2146],{"type":38,"value":2147}," +=",{"type":32,"tag":75,"props":2149,"children":2150},{"style":88},[2151],{"type":38,"value":2007},{"type":32,"tag":75,"props":2153,"children":2154},{"style":94},[2155],{"type":38,"value":562},{"type":32,"tag":75,"props":2157,"children":2158},{"class":77,"line":147},[2159],{"type":32,"tag":75,"props":2160,"children":2161},{"style":94},[2162],{"type":38,"value":641},{"type":32,"tag":362,"props":2164,"children":2166},{"id":2165},"strbuf_add",[2167],{"type":32,"tag":71,"props":2168,"children":2169},{"className":66,"language":68,"style":7},[2170,2174],{"type":32,"tag":75,"props":2171,"children":2172},{"style":242},[2173],{"type":38,"value":2165},{"type":32,"tag":75,"props":2175,"children":2176},{"style":94},[2177],{"type":38,"value":250},{"type":32,"tag":40,"props":2179,"children":2180},{},[2181],{"type":32,"tag":44,"props":2182,"children":2183},{},[2184,2186,2193,2195,2202,2204,2212],{"type":38,"value":2185},"向",{"type":32,"tag":71,"props":2187,"children":2188},{"className":66,"language":68,"style":7},[2189],{"type":32,"tag":75,"props":2190,"children":2191},{"style":88},[2192],{"type":38,"value":334},{"type":38,"value":2194},"追加长度为",{"type":32,"tag":71,"props":2196,"children":2197},{"className":66,"language":68,"style":7},[2198],{"type":32,"tag":75,"props":2199,"children":2200},{"style":88},[2201],{"type":38,"value":216},{"type":38,"value":2203},"的数据",{"type":32,"tag":71,"props":2205,"children":2206},{"className":66,"language":68,"style":7},[2207],{"type":32,"tag":75,"props":2208,"children":2209},{"style":88},[2210],{"type":38,"value":2211},"data",{"type":38,"value":402},{"type":32,"tag":44,"props":2214,"children":2215},{},[2216,2218,2223],{"type":38,"value":2217},"追加数据前，先保证容量足够，然后将追加内容拷贝进缓冲区，并更新长度、",{"type":32,"tag":48,"props":2219,"children":2220},{},[2221],{"type":38,"value":2222},"字符串结束标志",{"type":38,"value":402},{"type":32,"tag":64,"props":2225,"children":2227},{"className":66,"code":2226,"language":68,"meta":7,"style":7},"void strbuf_add(struct strbuf *sb, const void *data, size_t len) {\n    strbuf_grow(sb, len + 1);\n    memcpy(sb->buf + sb->len, data, len);\n    sb->buf[sb->len += len] = '\\0';\n}\n",[2228],{"type":32,"tag":71,"props":2229,"children":2230},{"__ignoreMap":7},[2231,2303,2342,2404,2467],{"type":32,"tag":75,"props":2232,"children":2233},{"class":77,"line":78},[2234,2238,2243,2247,2251,2255,2259,2263,2267,2271,2275,2279,2283,2287,2291,2295,2299],{"type":32,"tag":75,"props":2235,"children":2236},{"style":82},[2237],{"type":38,"value":422},{"type":32,"tag":75,"props":2239,"children":2240},{"style":242},[2241],{"type":38,"value":2242}," strbuf_add",{"type":32,"tag":75,"props":2244,"children":2245},{"style":94},[2246],{"type":38,"value":432},{"type":32,"tag":75,"props":2248,"children":2249},{"style":82},[2250],{"type":38,"value":85},{"type":32,"tag":75,"props":2252,"children":2253},{"style":439},[2254],{"type":38,"value":91},{"type":32,"tag":75,"props":2256,"children":2257},{"style":156},[2258],{"type":38,"value":446},{"type":32,"tag":75,"props":2260,"children":2261},{"style":449},[2262],{"type":38,"value":334},{"type":32,"tag":75,"props":2264,"children":2265},{"style":94},[2266],{"type":38,"value":456},{"type":32,"tag":75,"props":2268,"children":2269},{"style":82},[2270],{"type":38,"value":1591},{"type":32,"tag":75,"props":2272,"children":2273},{"style":82},[2274],{"type":38,"value":751},{"type":32,"tag":75,"props":2276,"children":2277},{"style":156},[2278],{"type":38,"value":159},{"type":32,"tag":75,"props":2280,"children":2281},{"style":449},[2282],{"type":38,"value":2211},{"type":32,"tag":75,"props":2284,"children":2285},{"style":94},[2286],{"type":38,"value":456},{"type":32,"tag":75,"props":2288,"children":2289},{"style":82},[2290],{"type":38,"value":461},{"type":32,"tag":75,"props":2292,"children":2293},{"style":449},[2294],{"type":38,"value":111},{"type":32,"tag":75,"props":2296,"children":2297},{"style":94},[2298],{"type":38,"value":470},{"type":32,"tag":75,"props":2300,"children":2301},{"style":94},[2302],{"type":38,"value":475},{"type":32,"tag":75,"props":2304,"children":2305},{"class":77,"line":100},[2306,2311,2315,2319,2323,2328,2333,2338],{"type":32,"tag":75,"props":2307,"children":2308},{"style":242},[2309],{"type":38,"value":2310},"    strbuf_grow",{"type":32,"tag":75,"props":2312,"children":2313},{"style":94},[2314],{"type":38,"value":432},{"type":32,"tag":75,"props":2316,"children":2317},{"style":88},[2318],{"type":38,"value":334},{"type":32,"tag":75,"props":2320,"children":2321},{"style":94},[2322],{"type":38,"value":456},{"type":32,"tag":75,"props":2324,"children":2325},{"style":88},[2326],{"type":38,"value":2327}," len ",{"type":32,"tag":75,"props":2329,"children":2330},{"style":156},[2331],{"type":38,"value":2332},"+",{"type":32,"tag":75,"props":2334,"children":2335},{"style":276},[2336],{"type":38,"value":2337}," 1",{"type":32,"tag":75,"props":2339,"children":2340},{"style":94},[2341],{"type":38,"value":562},{"type":32,"tag":75,"props":2343,"children":2344},{"class":77,"line":125},[2345,2350,2354,2358,2362,2366,2371,2375,2379,2383,2387,2392,2396,2400],{"type":32,"tag":75,"props":2346,"children":2347},{"style":242},[2348],{"type":38,"value":2349},"    memcpy",{"type":32,"tag":75,"props":2351,"children":2352},{"style":94},[2353],{"type":38,"value":432},{"type":32,"tag":75,"props":2355,"children":2356},{"style":481},[2357],{"type":38,"value":334},{"type":32,"tag":75,"props":2359,"children":2360},{"style":94},[2361],{"type":38,"value":489},{"type":32,"tag":75,"props":2363,"children":2364},{"style":439},[2365],{"type":38,"value":164},{"type":32,"tag":75,"props":2367,"children":2368},{"style":156},[2369],{"type":38,"value":2370}," +",{"type":32,"tag":75,"props":2372,"children":2373},{"style":481},[2374],{"type":38,"value":1411},{"type":32,"tag":75,"props":2376,"children":2377},{"style":94},[2378],{"type":38,"value":489},{"type":32,"tag":75,"props":2380,"children":2381},{"style":439},[2382],{"type":38,"value":216},{"type":32,"tag":75,"props":2384,"children":2385},{"style":94},[2386],{"type":38,"value":456},{"type":32,"tag":75,"props":2388,"children":2389},{"style":88},[2390],{"type":38,"value":2391}," data",{"type":32,"tag":75,"props":2393,"children":2394},{"style":94},[2395],{"type":38,"value":456},{"type":32,"tag":75,"props":2397,"children":2398},{"style":88},[2399],{"type":38,"value":111},{"type":32,"tag":75,"props":2401,"children":2402},{"style":94},[2403],{"type":38,"value":562},{"type":32,"tag":75,"props":2405,"children":2406},{"class":77,"line":147},[2407,2411,2415,2419,2423,2427,2431,2435,2439,2443,2447,2451,2455,2459,2463],{"type":32,"tag":75,"props":2408,"children":2409},{"style":481},[2410],{"type":38,"value":484},{"type":32,"tag":75,"props":2412,"children":2413},{"style":94},[2414],{"type":38,"value":489},{"type":32,"tag":75,"props":2416,"children":2417},{"style":439},[2418],{"type":38,"value":164},{"type":32,"tag":75,"props":2420,"children":2421},{"style":94},[2422],{"type":38,"value":582},{"type":32,"tag":75,"props":2424,"children":2425},{"style":481},[2426],{"type":38,"value":334},{"type":32,"tag":75,"props":2428,"children":2429},{"style":94},[2430],{"type":38,"value":489},{"type":32,"tag":75,"props":2432,"children":2433},{"style":439},[2434],{"type":38,"value":216},{"type":32,"tag":75,"props":2436,"children":2437},{"style":156},[2438],{"type":38,"value":2147},{"type":32,"tag":75,"props":2440,"children":2441},{"style":88},[2442],{"type":38,"value":111},{"type":32,"tag":75,"props":2444,"children":2445},{"style":94},[2446],{"type":38,"value":608},{"type":32,"tag":75,"props":2448,"children":2449},{"style":156},[2450],{"type":38,"value":498},{"type":32,"tag":75,"props":2452,"children":2453},{"style":615},[2454],{"type":38,"value":618},{"type":32,"tag":75,"props":2456,"children":2457},{"style":621},[2458],{"type":38,"value":624},{"type":32,"tag":75,"props":2460,"children":2461},{"style":615},[2462],{"type":38,"value":629},{"type":32,"tag":75,"props":2464,"children":2465},{"style":94},[2466],{"type":38,"value":507},{"type":32,"tag":75,"props":2468,"children":2469},{"class":77,"line":176},[2470],{"type":32,"tag":75,"props":2471,"children":2472},{"style":94},[2473],{"type":38,"value":641},{"type":32,"tag":362,"props":2475,"children":2477},{"id":2476},"strbuf_addch",[2478],{"type":32,"tag":71,"props":2479,"children":2480},{"className":66,"language":68,"style":7},[2481,2485],{"type":32,"tag":75,"props":2482,"children":2483},{"style":242},[2484],{"type":38,"value":2476},{"type":32,"tag":75,"props":2486,"children":2487},{"style":94},[2488],{"type":38,"value":250},{"type":32,"tag":40,"props":2490,"children":2491},{},[2492],{"type":32,"tag":44,"props":2493,"children":2494},{},[2495,2496,2503,2505,2512],{"type":38,"value":2185},{"type":32,"tag":71,"props":2497,"children":2498},{"className":66,"language":68,"style":7},[2499],{"type":32,"tag":75,"props":2500,"children":2501},{"style":88},[2502],{"type":38,"value":334},{"type":38,"value":2504},"追加一个字符",{"type":32,"tag":71,"props":2506,"children":2507},{"className":66,"language":68,"style":7},[2508],{"type":32,"tag":75,"props":2509,"children":2510},{"style":88},[2511],{"type":38,"value":68},{"type":38,"value":402},{"type":32,"tag":44,"props":2514,"children":2515},{},[2516],{"type":38,"value":2517},"使用追加函数向缓冲区追加字符，长度为1。",{"type":32,"tag":64,"props":2519,"children":2521},{"className":66,"code":2520,"language":68,"meta":7,"style":7},"void strbuf_addch(struct strbuf *sb, int c) {\n    strbuf_add(sb, &c, 1);\n}\n",[2522],{"type":32,"tag":71,"props":2523,"children":2524},{"__ignoreMap":7},[2525,2579,2620],{"type":32,"tag":75,"props":2526,"children":2527},{"class":77,"line":78},[2528,2532,2537,2541,2545,2549,2553,2557,2561,2566,2571,2575],{"type":32,"tag":75,"props":2529,"children":2530},{"style":82},[2531],{"type":38,"value":422},{"type":32,"tag":75,"props":2533,"children":2534},{"style":242},[2535],{"type":38,"value":2536}," strbuf_addch",{"type":32,"tag":75,"props":2538,"children":2539},{"style":94},[2540],{"type":38,"value":432},{"type":32,"tag":75,"props":2542,"children":2543},{"style":82},[2544],{"type":38,"value":85},{"type":32,"tag":75,"props":2546,"children":2547},{"style":439},[2548],{"type":38,"value":91},{"type":32,"tag":75,"props":2550,"children":2551},{"style":156},[2552],{"type":38,"value":446},{"type":32,"tag":75,"props":2554,"children":2555},{"style":449},[2556],{"type":38,"value":334},{"type":32,"tag":75,"props":2558,"children":2559},{"style":94},[2560],{"type":38,"value":456},{"type":32,"tag":75,"props":2562,"children":2563},{"style":82},[2564],{"type":38,"value":2565}," int",{"type":32,"tag":75,"props":2567,"children":2568},{"style":449},[2569],{"type":38,"value":2570}," c",{"type":32,"tag":75,"props":2572,"children":2573},{"style":94},[2574],{"type":38,"value":470},{"type":32,"tag":75,"props":2576,"children":2577},{"style":94},[2578],{"type":38,"value":475},{"type":32,"tag":75,"props":2580,"children":2581},{"class":77,"line":100},[2582,2587,2591,2595,2599,2604,2608,2612,2616],{"type":32,"tag":75,"props":2583,"children":2584},{"style":242},[2585],{"type":38,"value":2586},"    strbuf_add",{"type":32,"tag":75,"props":2588,"children":2589},{"style":94},[2590],{"type":38,"value":432},{"type":32,"tag":75,"props":2592,"children":2593},{"style":88},[2594],{"type":38,"value":334},{"type":32,"tag":75,"props":2596,"children":2597},{"style":94},[2598],{"type":38,"value":456},{"type":32,"tag":75,"props":2600,"children":2601},{"style":156},[2602],{"type":38,"value":2603}," &",{"type":32,"tag":75,"props":2605,"children":2606},{"style":88},[2607],{"type":38,"value":68},{"type":32,"tag":75,"props":2609,"children":2610},{"style":94},[2611],{"type":38,"value":456},{"type":32,"tag":75,"props":2613,"children":2614},{"style":276},[2615],{"type":38,"value":2337},{"type":32,"tag":75,"props":2617,"children":2618},{"style":94},[2619],{"type":38,"value":562},{"type":32,"tag":75,"props":2621,"children":2622},{"class":77,"line":125},[2623],{"type":32,"tag":75,"props":2624,"children":2625},{"style":94},[2626],{"type":38,"value":641},{"type":32,"tag":362,"props":2628,"children":2630},{"id":2629},"strbuf_addstr",[2631],{"type":32,"tag":71,"props":2632,"children":2633},{"className":66,"language":68,"style":7},[2634,2638],{"type":32,"tag":75,"props":2635,"children":2636},{"style":242},[2637],{"type":38,"value":2629},{"type":32,"tag":75,"props":2639,"children":2640},{"style":94},[2641],{"type":38,"value":250},{"type":32,"tag":40,"props":2643,"children":2644},{},[2645],{"type":32,"tag":44,"props":2646,"children":2647},{},[2648,2649,2656,2658,2666],{"type":38,"value":2185},{"type":32,"tag":71,"props":2650,"children":2651},{"className":66,"language":68,"style":7},[2652],{"type":32,"tag":75,"props":2653,"children":2654},{"style":88},[2655],{"type":38,"value":334},{"type":38,"value":2657},"追加一个字符串",{"type":32,"tag":71,"props":2659,"children":2660},{"className":66,"language":68,"style":7},[2661],{"type":32,"tag":75,"props":2662,"children":2663},{"style":88},[2664],{"type":38,"value":2665},"s",{"type":38,"value":402},{"type":32,"tag":44,"props":2668,"children":2669},{},[2670,2672,2692],{"type":38,"value":2671},"使用追加函数向缓冲区追加字符串，长度为",{"type":32,"tag":71,"props":2673,"children":2674},{"className":66,"language":68,"style":7},[2675,2680,2684,2688],{"type":32,"tag":75,"props":2676,"children":2677},{"style":242},[2678],{"type":38,"value":2679},"strlen",{"type":32,"tag":75,"props":2681,"children":2682},{"style":94},[2683],{"type":38,"value":432},{"type":32,"tag":75,"props":2685,"children":2686},{"style":439},[2687],{"type":38,"value":2665},{"type":32,"tag":75,"props":2689,"children":2690},{"style":94},[2691],{"type":38,"value":470},{"type":38,"value":402},{"type":32,"tag":64,"props":2694,"children":2696},{"className":66,"code":2695,"language":68,"meta":7,"style":7},"void strbuf_addstr(struct strbuf *sb, const char *s) {\n    strbuf_add(sb, s, strlen(s));\n}\n",[2697],{"type":32,"tag":71,"props":2698,"children":2699},{"__ignoreMap":7},[2700,2761,2807],{"type":32,"tag":75,"props":2701,"children":2702},{"class":77,"line":78},[2703,2707,2712,2716,2720,2724,2728,2732,2736,2740,2745,2749,2753,2757],{"type":32,"tag":75,"props":2704,"children":2705},{"style":82},[2706],{"type":38,"value":422},{"type":32,"tag":75,"props":2708,"children":2709},{"style":242},[2710],{"type":38,"value":2711}," strbuf_addstr",{"type":32,"tag":75,"props":2713,"children":2714},{"style":94},[2715],{"type":38,"value":432},{"type":32,"tag":75,"props":2717,"children":2718},{"style":82},[2719],{"type":38,"value":85},{"type":32,"tag":75,"props":2721,"children":2722},{"style":439},[2723],{"type":38,"value":91},{"type":32,"tag":75,"props":2725,"children":2726},{"style":156},[2727],{"type":38,"value":446},{"type":32,"tag":75,"props":2729,"children":2730},{"style":449},[2731],{"type":38,"value":334},{"type":32,"tag":75,"props":2733,"children":2734},{"style":94},[2735],{"type":38,"value":456},{"type":32,"tag":75,"props":2737,"children":2738},{"style":82},[2739],{"type":38,"value":1591},{"type":32,"tag":75,"props":2741,"children":2742},{"style":82},[2743],{"type":38,"value":2744}," char",{"type":32,"tag":75,"props":2746,"children":2747},{"style":156},[2748],{"type":38,"value":159},{"type":32,"tag":75,"props":2750,"children":2751},{"style":449},[2752],{"type":38,"value":2665},{"type":32,"tag":75,"props":2754,"children":2755},{"style":94},[2756],{"type":38,"value":470},{"type":32,"tag":75,"props":2758,"children":2759},{"style":94},[2760],{"type":38,"value":475},{"type":32,"tag":75,"props":2762,"children":2763},{"class":77,"line":100},[2764,2768,2772,2776,2780,2785,2789,2794,2798,2802],{"type":32,"tag":75,"props":2765,"children":2766},{"style":242},[2767],{"type":38,"value":2586},{"type":32,"tag":75,"props":2769,"children":2770},{"style":94},[2771],{"type":38,"value":432},{"type":32,"tag":75,"props":2773,"children":2774},{"style":88},[2775],{"type":38,"value":334},{"type":32,"tag":75,"props":2777,"children":2778},{"style":94},[2779],{"type":38,"value":456},{"type":32,"tag":75,"props":2781,"children":2782},{"style":88},[2783],{"type":38,"value":2784}," s",{"type":32,"tag":75,"props":2786,"children":2787},{"style":94},[2788],{"type":38,"value":456},{"type":32,"tag":75,"props":2790,"children":2791},{"style":242},[2792],{"type":38,"value":2793}," strlen",{"type":32,"tag":75,"props":2795,"children":2796},{"style":94},[2797],{"type":38,"value":432},{"type":32,"tag":75,"props":2799,"children":2800},{"style":88},[2801],{"type":38,"value":2665},{"type":32,"tag":75,"props":2803,"children":2804},{"style":94},[2805],{"type":38,"value":2806},"));\n",{"type":32,"tag":75,"props":2808,"children":2809},{"class":77,"line":125},[2810],{"type":32,"tag":75,"props":2811,"children":2812},{"style":94},[2813],{"type":38,"value":641},{"type":32,"tag":362,"props":2815,"children":2817},{"id":2816},"strbuf_addbuf",[2818],{"type":32,"tag":71,"props":2819,"children":2820},{"className":66,"language":68,"style":7},[2821,2825],{"type":32,"tag":75,"props":2822,"children":2823},{"style":242},[2824],{"type":38,"value":2816},{"type":32,"tag":75,"props":2826,"children":2827},{"style":94},[2828],{"type":38,"value":250},{"type":32,"tag":40,"props":2830,"children":2831},{},[2832],{"type":32,"tag":44,"props":2833,"children":2834},{},[2835,2837,2844,2846,2853],{"type":38,"value":2836},"向一个",{"type":32,"tag":71,"props":2838,"children":2839},{"className":66,"language":68,"style":7},[2840],{"type":32,"tag":75,"props":2841,"children":2842},{"style":88},[2843],{"type":38,"value":334},{"type":38,"value":2845},"追加另一个",{"type":32,"tag":71,"props":2847,"children":2848},{"className":66,"language":68,"style":7},[2849],{"type":32,"tag":75,"props":2850,"children":2851},{"style":88},[2852],{"type":38,"value":206},{"type":38,"value":2854},"的数据。",{"type":32,"tag":44,"props":2856,"children":2857},{},[2858],{"type":38,"value":2859},"使用追加字符串函数向缓冲区追加另一个缓冲区的内容。",{"type":32,"tag":44,"props":2861,"children":2862},{},[2863],{"type":38,"value":2864},"这种做法并不规范！标准做法是使用追加函数向缓冲区追加另一个缓冲区的内容，长度为缓冲区的长度。",{"type":32,"tag":64,"props":2866,"children":2868},{"className":66,"code":2867,"language":68,"meta":7,"style":7},"void strbuf_addbuf(struct strbuf *sb, const struct strbuf *sb2) {\n    strbuf_addstr(sb, sb2->buf);\n}\n",[2869],{"type":32,"tag":71,"props":2870,"children":2871},{"__ignoreMap":7},[2872,2937,2974],{"type":32,"tag":75,"props":2873,"children":2874},{"class":77,"line":78},[2875,2879,2884,2888,2892,2896,2900,2904,2908,2912,2916,2920,2924,2929,2933],{"type":32,"tag":75,"props":2876,"children":2877},{"style":82},[2878],{"type":38,"value":422},{"type":32,"tag":75,"props":2880,"children":2881},{"style":242},[2882],{"type":38,"value":2883}," strbuf_addbuf",{"type":32,"tag":75,"props":2885,"children":2886},{"style":94},[2887],{"type":38,"value":432},{"type":32,"tag":75,"props":2889,"children":2890},{"style":82},[2891],{"type":38,"value":85},{"type":32,"tag":75,"props":2893,"children":2894},{"style":439},[2895],{"type":38,"value":91},{"type":32,"tag":75,"props":2897,"children":2898},{"style":156},[2899],{"type":38,"value":446},{"type":32,"tag":75,"props":2901,"children":2902},{"style":449},[2903],{"type":38,"value":334},{"type":32,"tag":75,"props":2905,"children":2906},{"style":94},[2907],{"type":38,"value":456},{"type":32,"tag":75,"props":2909,"children":2910},{"style":82},[2911],{"type":38,"value":1591},{"type":32,"tag":75,"props":2913,"children":2914},{"style":82},[2915],{"type":38,"value":1147},{"type":32,"tag":75,"props":2917,"children":2918},{"style":439},[2919],{"type":38,"value":91},{"type":32,"tag":75,"props":2921,"children":2922},{"style":156},[2923],{"type":38,"value":446},{"type":32,"tag":75,"props":2925,"children":2926},{"style":449},[2927],{"type":38,"value":2928},"sb2",{"type":32,"tag":75,"props":2930,"children":2931},{"style":94},[2932],{"type":38,"value":470},{"type":32,"tag":75,"props":2934,"children":2935},{"style":94},[2936],{"type":38,"value":475},{"type":32,"tag":75,"props":2938,"children":2939},{"class":77,"line":100},[2940,2945,2949,2953,2957,2962,2966,2970],{"type":32,"tag":75,"props":2941,"children":2942},{"style":242},[2943],{"type":38,"value":2944},"    strbuf_addstr",{"type":32,"tag":75,"props":2946,"children":2947},{"style":94},[2948],{"type":38,"value":432},{"type":32,"tag":75,"props":2950,"children":2951},{"style":88},[2952],{"type":38,"value":334},{"type":32,"tag":75,"props":2954,"children":2955},{"style":94},[2956],{"type":38,"value":456},{"type":32,"tag":75,"props":2958,"children":2959},{"style":481},[2960],{"type":38,"value":2961}," sb2",{"type":32,"tag":75,"props":2963,"children":2964},{"style":94},[2965],{"type":38,"value":489},{"type":32,"tag":75,"props":2967,"children":2968},{"style":439},[2969],{"type":38,"value":164},{"type":32,"tag":75,"props":2971,"children":2972},{"style":94},[2973],{"type":38,"value":562},{"type":32,"tag":75,"props":2975,"children":2976},{"class":77,"line":125},[2977],{"type":32,"tag":75,"props":2978,"children":2979},{"style":94},[2980],{"type":38,"value":641},{"type":32,"tag":362,"props":2982,"children":2983},{"id":245},[2984],{"type":32,"tag":71,"props":2985,"children":2986},{"className":66,"language":68,"style":7},[2987,2991],{"type":32,"tag":75,"props":2988,"children":2989},{"style":242},[2990],{"type":38,"value":245},{"type":32,"tag":75,"props":2992,"children":2993},{"style":94},[2994],{"type":38,"value":250},{"type":32,"tag":40,"props":2996,"children":2997},{},[2998],{"type":32,"tag":44,"props":2999,"children":3000},{},[3001,3003,3010,3011,3018],{"type":38,"value":3002},"设置",{"type":32,"tag":71,"props":3004,"children":3005},{"className":66,"language":68,"style":7},[3006],{"type":32,"tag":75,"props":3007,"children":3008},{"style":88},[3009],{"type":38,"value":334},{"type":38,"value":261},{"type":32,"tag":71,"props":3012,"children":3013},{"className":66,"language":68,"style":7},[3014],{"type":32,"tag":75,"props":3015,"children":3016},{"style":88},[3017],{"type":38,"value":216},{"type":38,"value":402},{"type":32,"tag":44,"props":3020,"children":3021},{},[3022,3024,3039],{"type":38,"value":3023},"如果设置的长度大于缓冲区容量，则先增加缓冲区容量。设置长度，并在对应位置增加字符串结束标志",{"type":32,"tag":71,"props":3025,"children":3026},{"className":66,"language":68,"style":7},[3027,3031,3035],{"type":32,"tag":75,"props":3028,"children":3029},{"style":615},[3030],{"type":38,"value":629},{"type":32,"tag":75,"props":3032,"children":3033},{"style":621},[3034],{"type":38,"value":624},{"type":32,"tag":75,"props":3036,"children":3037},{"style":615},[3038],{"type":38,"value":629},{"type":38,"value":402},{"type":32,"tag":44,"props":3041,"children":3042},{},[3043],{"type":38,"value":3044},"这种做法并不规范！函数默认：设置的长度一定小于容量。所以不需要判断长度或者增加容量，遇到问题应该直接抛出错误。",{"type":32,"tag":64,"props":3046,"children":3048},{"className":66,"code":3047,"language":68,"meta":7,"style":7},"void strbuf_setlen(struct strbuf *sb, size_t len) {\n    if (len > sb->alloc) strbuf_grow(sb, len - sb->len + 1);\n    sb->buf[sb->len = len] = '\\0';\n}\n",[3049],{"type":32,"tag":71,"props":3050,"children":3051},{"__ignoreMap":7},[3052,3104,3190,3253],{"type":32,"tag":75,"props":3053,"children":3054},{"class":77,"line":78},[3055,3059,3064,3068,3072,3076,3080,3084,3088,3092,3096,3100],{"type":32,"tag":75,"props":3056,"children":3057},{"style":82},[3058],{"type":38,"value":422},{"type":32,"tag":75,"props":3060,"children":3061},{"style":242},[3062],{"type":38,"value":3063}," strbuf_setlen",{"type":32,"tag":75,"props":3065,"children":3066},{"style":94},[3067],{"type":38,"value":432},{"type":32,"tag":75,"props":3069,"children":3070},{"style":82},[3071],{"type":38,"value":85},{"type":32,"tag":75,"props":3073,"children":3074},{"style":439},[3075],{"type":38,"value":91},{"type":32,"tag":75,"props":3077,"children":3078},{"style":156},[3079],{"type":38,"value":446},{"type":32,"tag":75,"props":3081,"children":3082},{"style":449},[3083],{"type":38,"value":334},{"type":32,"tag":75,"props":3085,"children":3086},{"style":94},[3087],{"type":38,"value":456},{"type":32,"tag":75,"props":3089,"children":3090},{"style":82},[3091],{"type":38,"value":461},{"type":32,"tag":75,"props":3093,"children":3094},{"style":449},[3095],{"type":38,"value":111},{"type":32,"tag":75,"props":3097,"children":3098},{"style":94},[3099],{"type":38,"value":470},{"type":32,"tag":75,"props":3101,"children":3102},{"style":94},[3103],{"type":38,"value":475},{"type":32,"tag":75,"props":3105,"children":3106},{"class":77,"line":100},[3107,3111,3115,3120,3125,3129,3133,3137,3141,3145,3149,3153,3157,3161,3166,3170,3174,3178,3182,3186],{"type":32,"tag":75,"props":3108,"children":3109},{"style":82},[3110],{"type":38,"value":2023},{"type":32,"tag":75,"props":3112,"children":3113},{"style":94},[3114],{"type":38,"value":531},{"type":32,"tag":75,"props":3116,"children":3117},{"style":88},[3118],{"type":38,"value":3119},"len ",{"type":32,"tag":75,"props":3121,"children":3122},{"style":156},[3123],{"type":38,"value":3124},">",{"type":32,"tag":75,"props":3126,"children":3127},{"style":481},[3128],{"type":38,"value":1411},{"type":32,"tag":75,"props":3130,"children":3131},{"style":94},[3132],{"type":38,"value":489},{"type":32,"tag":75,"props":3134,"children":3135},{"style":439},[3136],{"type":38,"value":316},{"type":32,"tag":75,"props":3138,"children":3139},{"style":94},[3140],{"type":38,"value":470},{"type":32,"tag":75,"props":3142,"children":3143},{"style":242},[3144],{"type":38,"value":1974},{"type":32,"tag":75,"props":3146,"children":3147},{"style":94},[3148],{"type":38,"value":432},{"type":32,"tag":75,"props":3150,"children":3151},{"style":88},[3152],{"type":38,"value":334},{"type":32,"tag":75,"props":3154,"children":3155},{"style":94},[3156],{"type":38,"value":456},{"type":32,"tag":75,"props":3158,"children":3159},{"style":88},[3160],{"type":38,"value":2327},{"type":32,"tag":75,"props":3162,"children":3163},{"style":156},[3164],{"type":38,"value":3165},"-",{"type":32,"tag":75,"props":3167,"children":3168},{"style":481},[3169],{"type":38,"value":1411},{"type":32,"tag":75,"props":3171,"children":3172},{"style":94},[3173],{"type":38,"value":489},{"type":32,"tag":75,"props":3175,"children":3176},{"style":439},[3177],{"type":38,"value":216},{"type":32,"tag":75,"props":3179,"children":3180},{"style":156},[3181],{"type":38,"value":2370},{"type":32,"tag":75,"props":3183,"children":3184},{"style":276},[3185],{"type":38,"value":2337},{"type":32,"tag":75,"props":3187,"children":3188},{"style":94},[3189],{"type":38,"value":562},{"type":32,"tag":75,"props":3191,"children":3192},{"class":77,"line":125},[3193,3197,3201,3205,3209,3213,3217,3221,3225,3229,3233,3237,3241,3245,3249],{"type":32,"tag":75,"props":3194,"children":3195},{"style":481},[3196],{"type":38,"value":484},{"type":32,"tag":75,"props":3198,"children":3199},{"style":94},[3200],{"type":38,"value":489},{"type":32,"tag":75,"props":3202,"children":3203},{"style":439},[3204],{"type":38,"value":164},{"type":32,"tag":75,"props":3206,"children":3207},{"style":94},[3208],{"type":38,"value":582},{"type":32,"tag":75,"props":3210,"children":3211},{"style":481},[3212],{"type":38,"value":334},{"type":32,"tag":75,"props":3214,"children":3215},{"style":94},[3216],{"type":38,"value":489},{"type":32,"tag":75,"props":3218,"children":3219},{"style":439},[3220],{"type":38,"value":216},{"type":32,"tag":75,"props":3222,"children":3223},{"style":156},[3224],{"type":38,"value":498},{"type":32,"tag":75,"props":3226,"children":3227},{"style":88},[3228],{"type":38,"value":111},{"type":32,"tag":75,"props":3230,"children":3231},{"style":94},[3232],{"type":38,"value":608},{"type":32,"tag":75,"props":3234,"children":3235},{"style":156},[3236],{"type":38,"value":498},{"type":32,"tag":75,"props":3238,"children":3239},{"style":615},[3240],{"type":38,"value":618},{"type":32,"tag":75,"props":3242,"children":3243},{"style":621},[3244],{"type":38,"value":624},{"type":32,"tag":75,"props":3246,"children":3247},{"style":615},[3248],{"type":38,"value":629},{"type":32,"tag":75,"props":3250,"children":3251},{"style":94},[3252],{"type":38,"value":507},{"type":32,"tag":75,"props":3254,"children":3255},{"class":77,"line":147},[3256],{"type":32,"tag":75,"props":3257,"children":3258},{"style":94},[3259],{"type":38,"value":641},{"type":32,"tag":362,"props":3261,"children":3263},{"id":3262},"strbuf_avail",[3264],{"type":32,"tag":71,"props":3265,"children":3266},{"className":66,"language":68,"style":7},[3267,3271],{"type":32,"tag":75,"props":3268,"children":3269},{"style":242},[3270],{"type":38,"value":3262},{"type":32,"tag":75,"props":3272,"children":3273},{"style":94},[3274],{"type":38,"value":250},{"type":32,"tag":40,"props":3276,"children":3277},{},[3278],{"type":32,"tag":44,"props":3279,"children":3280},{},[3281,3283,3290],{"type":38,"value":3282},"计算",{"type":32,"tag":71,"props":3284,"children":3285},{"className":66,"language":68,"style":7},[3286],{"type":32,"tag":75,"props":3287,"children":3288},{"style":88},[3289],{"type":38,"value":334},{"type":38,"value":3291},"目前仍可以向后追加的字符串长度。",{"type":32,"tag":44,"props":3293,"children":3294},{},[3295],{"type":38,"value":3296},"返回缓冲区容量减去字符串长度再减一的值。",{"type":32,"tag":64,"props":3298,"children":3300},{"className":66,"code":3299,"language":68,"meta":7,"style":7},"size_t strbuf_avail(const struct strbuf *sb) {\n    return sb->alloc - sb->len - 1;\n}\n",[3301],{"type":32,"tag":71,"props":3302,"children":3303},{"__ignoreMap":7},[3304,3349,3396],{"type":32,"tag":75,"props":3305,"children":3306},{"class":77,"line":78},[3307,3312,3317,3321,3325,3329,3333,3337,3341,3345],{"type":32,"tag":75,"props":3308,"children":3309},{"style":82},[3310],{"type":38,"value":3311},"size_t",{"type":32,"tag":75,"props":3313,"children":3314},{"style":242},[3315],{"type":38,"value":3316}," strbuf_avail",{"type":32,"tag":75,"props":3318,"children":3319},{"style":94},[3320],{"type":38,"value":432},{"type":32,"tag":75,"props":3322,"children":3323},{"style":82},[3324],{"type":38,"value":1565},{"type":32,"tag":75,"props":3326,"children":3327},{"style":82},[3328],{"type":38,"value":1147},{"type":32,"tag":75,"props":3330,"children":3331},{"style":439},[3332],{"type":38,"value":91},{"type":32,"tag":75,"props":3334,"children":3335},{"style":156},[3336],{"type":38,"value":446},{"type":32,"tag":75,"props":3338,"children":3339},{"style":449},[3340],{"type":38,"value":334},{"type":32,"tag":75,"props":3342,"children":3343},{"style":94},[3344],{"type":38,"value":470},{"type":32,"tag":75,"props":3346,"children":3347},{"style":94},[3348],{"type":38,"value":475},{"type":32,"tag":75,"props":3350,"children":3351},{"class":77,"line":100},[3352,3356,3360,3364,3368,3372,3376,3380,3384,3388,3392],{"type":32,"tag":75,"props":3353,"children":3354},{"style":82},[3355],{"type":38,"value":1431},{"type":32,"tag":75,"props":3357,"children":3358},{"style":481},[3359],{"type":38,"value":1411},{"type":32,"tag":75,"props":3361,"children":3362},{"style":94},[3363],{"type":38,"value":489},{"type":32,"tag":75,"props":3365,"children":3366},{"style":439},[3367],{"type":38,"value":316},{"type":32,"tag":75,"props":3369,"children":3370},{"style":156},[3371],{"type":38,"value":1641},{"type":32,"tag":75,"props":3373,"children":3374},{"style":481},[3375],{"type":38,"value":1411},{"type":32,"tag":75,"props":3377,"children":3378},{"style":94},[3379],{"type":38,"value":489},{"type":32,"tag":75,"props":3381,"children":3382},{"style":439},[3383],{"type":38,"value":216},{"type":32,"tag":75,"props":3385,"children":3386},{"style":156},[3387],{"type":38,"value":1641},{"type":32,"tag":75,"props":3389,"children":3390},{"style":276},[3391],{"type":38,"value":2337},{"type":32,"tag":75,"props":3393,"children":3394},{"style":94},[3395],{"type":38,"value":507},{"type":32,"tag":75,"props":3397,"children":3398},{"class":77,"line":125},[3399],{"type":32,"tag":75,"props":3400,"children":3401},{"style":94},[3402],{"type":38,"value":641},{"type":32,"tag":362,"props":3404,"children":3406},{"id":3405},"strbuf_insert",[3407],{"type":32,"tag":71,"props":3408,"children":3409},{"className":66,"language":68,"style":7},[3410,3414],{"type":32,"tag":75,"props":3411,"children":3412},{"style":242},[3413],{"type":38,"value":3405},{"type":32,"tag":75,"props":3415,"children":3416},{"style":94},[3417],{"type":38,"value":250},{"type":32,"tag":40,"props":3419,"children":3420},{},[3421],{"type":32,"tag":44,"props":3422,"children":3423},{},[3424,3425,3432,3434,3442,3444,3451,3452,3459],{"type":38,"value":2185},{"type":32,"tag":71,"props":3426,"children":3427},{"className":66,"language":68,"style":7},[3428],{"type":32,"tag":75,"props":3429,"children":3430},{"style":88},[3431],{"type":38,"value":334},{"type":38,"value":3433},"内存坐标为",{"type":32,"tag":71,"props":3435,"children":3436},{"className":66,"language":68,"style":7},[3437],{"type":32,"tag":75,"props":3438,"children":3439},{"style":88},[3440],{"type":38,"value":3441},"pos",{"type":38,"value":3443},"位置插入长度为",{"type":32,"tag":71,"props":3445,"children":3446},{"className":66,"language":68,"style":7},[3447],{"type":32,"tag":75,"props":3448,"children":3449},{"style":88},[3450],{"type":38,"value":216},{"type":38,"value":2203},{"type":32,"tag":71,"props":3453,"children":3454},{"className":66,"language":68,"style":7},[3455],{"type":32,"tag":75,"props":3456,"children":3457},{"style":88},[3458],{"type":38,"value":2211},{"type":38,"value":402},{"type":32,"tag":44,"props":3461,"children":3462},{},[3463,3465,3477,3479,3486],{"type":38,"value":3464},"设置缓冲区长度为插入后的长度，将插入字符串处的缓冲区内容移动到插入内容结束的位置，并使用",{"type":32,"tag":71,"props":3466,"children":3467},{"className":66,"language":68,"style":7},[3468,3473],{"type":32,"tag":75,"props":3469,"children":3470},{"style":242},[3471],{"type":38,"value":3472},"memcpy",{"type":32,"tag":75,"props":3474,"children":3475},{"style":94},[3476],{"type":38,"value":250},{"type":38,"value":3478},"拷贝长度为",{"type":32,"tag":71,"props":3480,"children":3481},{"className":66,"language":68,"style":7},[3482],{"type":32,"tag":75,"props":3483,"children":3484},{"style":88},[3485],{"type":38,"value":216},{"type":38,"value":3487},"的内容到插入的位置。",{"type":32,"tag":64,"props":3489,"children":3491},{"className":66,"code":3490,"language":68,"meta":7,"style":7},"void strbuf_insert(struct strbuf *sb, size_t pos, const void *data, size_t len) {\n    strbuf_setlen(sb, sb->len + len);\n    memmove(sb->buf + pos + len, sb->buf + pos, sb->len - pos);\n    memcpy(sb->buf + pos, data, len);\n}\n",[3492],{"type":32,"tag":71,"props":3493,"children":3494},{"__ignoreMap":7},[3495,3580,3624,3717,3768],{"type":32,"tag":75,"props":3496,"children":3497},{"class":77,"line":78},[3498,3502,3507,3511,3515,3519,3523,3527,3531,3535,3540,3544,3548,3552,3556,3560,3564,3568,3572,3576],{"type":32,"tag":75,"props":3499,"children":3500},{"style":82},[3501],{"type":38,"value":422},{"type":32,"tag":75,"props":3503,"children":3504},{"style":242},[3505],{"type":38,"value":3506}," strbuf_insert",{"type":32,"tag":75,"props":3508,"children":3509},{"style":94},[3510],{"type":38,"value":432},{"type":32,"tag":75,"props":3512,"children":3513},{"style":82},[3514],{"type":38,"value":85},{"type":32,"tag":75,"props":3516,"children":3517},{"style":439},[3518],{"type":38,"value":91},{"type":32,"tag":75,"props":3520,"children":3521},{"style":156},[3522],{"type":38,"value":446},{"type":32,"tag":75,"props":3524,"children":3525},{"style":449},[3526],{"type":38,"value":334},{"type":32,"tag":75,"props":3528,"children":3529},{"style":94},[3530],{"type":38,"value":456},{"type":32,"tag":75,"props":3532,"children":3533},{"style":82},[3534],{"type":38,"value":461},{"type":32,"tag":75,"props":3536,"children":3537},{"style":449},[3538],{"type":38,"value":3539}," pos",{"type":32,"tag":75,"props":3541,"children":3542},{"style":94},[3543],{"type":38,"value":456},{"type":32,"tag":75,"props":3545,"children":3546},{"style":82},[3547],{"type":38,"value":1591},{"type":32,"tag":75,"props":3549,"children":3550},{"style":82},[3551],{"type":38,"value":751},{"type":32,"tag":75,"props":3553,"children":3554},{"style":156},[3555],{"type":38,"value":159},{"type":32,"tag":75,"props":3557,"children":3558},{"style":449},[3559],{"type":38,"value":2211},{"type":32,"tag":75,"props":3561,"children":3562},{"style":94},[3563],{"type":38,"value":456},{"type":32,"tag":75,"props":3565,"children":3566},{"style":82},[3567],{"type":38,"value":461},{"type":32,"tag":75,"props":3569,"children":3570},{"style":449},[3571],{"type":38,"value":111},{"type":32,"tag":75,"props":3573,"children":3574},{"style":94},[3575],{"type":38,"value":470},{"type":32,"tag":75,"props":3577,"children":3578},{"style":94},[3579],{"type":38,"value":475},{"type":32,"tag":75,"props":3581,"children":3582},{"class":77,"line":100},[3583,3588,3592,3596,3600,3604,3608,3612,3616,3620],{"type":32,"tag":75,"props":3584,"children":3585},{"style":242},[3586],{"type":38,"value":3587},"    strbuf_setlen",{"type":32,"tag":75,"props":3589,"children":3590},{"style":94},[3591],{"type":38,"value":432},{"type":32,"tag":75,"props":3593,"children":3594},{"style":88},[3595],{"type":38,"value":334},{"type":32,"tag":75,"props":3597,"children":3598},{"style":94},[3599],{"type":38,"value":456},{"type":32,"tag":75,"props":3601,"children":3602},{"style":481},[3603],{"type":38,"value":1411},{"type":32,"tag":75,"props":3605,"children":3606},{"style":94},[3607],{"type":38,"value":489},{"type":32,"tag":75,"props":3609,"children":3610},{"style":439},[3611],{"type":38,"value":216},{"type":32,"tag":75,"props":3613,"children":3614},{"style":156},[3615],{"type":38,"value":2370},{"type":32,"tag":75,"props":3617,"children":3618},{"style":88},[3619],{"type":38,"value":111},{"type":32,"tag":75,"props":3621,"children":3622},{"style":94},[3623],{"type":38,"value":562},{"type":32,"tag":75,"props":3625,"children":3626},{"class":77,"line":125},[3627,3632,3636,3640,3644,3648,3652,3657,3661,3665,3669,3673,3677,3681,3685,3689,3693,3697,3701,3705,3709,3713],{"type":32,"tag":75,"props":3628,"children":3629},{"style":242},[3630],{"type":38,"value":3631},"    memmove",{"type":32,"tag":75,"props":3633,"children":3634},{"style":94},[3635],{"type":38,"value":432},{"type":32,"tag":75,"props":3637,"children":3638},{"style":481},[3639],{"type":38,"value":334},{"type":32,"tag":75,"props":3641,"children":3642},{"style":94},[3643],{"type":38,"value":489},{"type":32,"tag":75,"props":3645,"children":3646},{"style":439},[3647],{"type":38,"value":164},{"type":32,"tag":75,"props":3649,"children":3650},{"style":156},[3651],{"type":38,"value":2370},{"type":32,"tag":75,"props":3653,"children":3654},{"style":88},[3655],{"type":38,"value":3656}," pos ",{"type":32,"tag":75,"props":3658,"children":3659},{"style":156},[3660],{"type":38,"value":2332},{"type":32,"tag":75,"props":3662,"children":3663},{"style":88},[3664],{"type":38,"value":111},{"type":32,"tag":75,"props":3666,"children":3667},{"style":94},[3668],{"type":38,"value":456},{"type":32,"tag":75,"props":3670,"children":3671},{"style":481},[3672],{"type":38,"value":1411},{"type":32,"tag":75,"props":3674,"children":3675},{"style":94},[3676],{"type":38,"value":489},{"type":32,"tag":75,"props":3678,"children":3679},{"style":439},[3680],{"type":38,"value":164},{"type":32,"tag":75,"props":3682,"children":3683},{"style":156},[3684],{"type":38,"value":2370},{"type":32,"tag":75,"props":3686,"children":3687},{"style":88},[3688],{"type":38,"value":3539},{"type":32,"tag":75,"props":3690,"children":3691},{"style":94},[3692],{"type":38,"value":456},{"type":32,"tag":75,"props":3694,"children":3695},{"style":481},[3696],{"type":38,"value":1411},{"type":32,"tag":75,"props":3698,"children":3699},{"style":94},[3700],{"type":38,"value":489},{"type":32,"tag":75,"props":3702,"children":3703},{"style":439},[3704],{"type":38,"value":216},{"type":32,"tag":75,"props":3706,"children":3707},{"style":156},[3708],{"type":38,"value":1641},{"type":32,"tag":75,"props":3710,"children":3711},{"style":88},[3712],{"type":38,"value":3539},{"type":32,"tag":75,"props":3714,"children":3715},{"style":94},[3716],{"type":38,"value":562},{"type":32,"tag":75,"props":3718,"children":3719},{"class":77,"line":147},[3720,3724,3728,3732,3736,3740,3744,3748,3752,3756,3760,3764],{"type":32,"tag":75,"props":3721,"children":3722},{"style":242},[3723],{"type":38,"value":2349},{"type":32,"tag":75,"props":3725,"children":3726},{"style":94},[3727],{"type":38,"value":432},{"type":32,"tag":75,"props":3729,"children":3730},{"style":481},[3731],{"type":38,"value":334},{"type":32,"tag":75,"props":3733,"children":3734},{"style":94},[3735],{"type":38,"value":489},{"type":32,"tag":75,"props":3737,"children":3738},{"style":439},[3739],{"type":38,"value":164},{"type":32,"tag":75,"props":3741,"children":3742},{"style":156},[3743],{"type":38,"value":2370},{"type":32,"tag":75,"props":3745,"children":3746},{"style":88},[3747],{"type":38,"value":3539},{"type":32,"tag":75,"props":3749,"children":3750},{"style":94},[3751],{"type":38,"value":456},{"type":32,"tag":75,"props":3753,"children":3754},{"style":88},[3755],{"type":38,"value":2391},{"type":32,"tag":75,"props":3757,"children":3758},{"style":94},[3759],{"type":38,"value":456},{"type":32,"tag":75,"props":3761,"children":3762},{"style":88},[3763],{"type":38,"value":111},{"type":32,"tag":75,"props":3765,"children":3766},{"style":94},[3767],{"type":38,"value":562},{"type":32,"tag":75,"props":3769,"children":3770},{"class":77,"line":176},[3771],{"type":32,"tag":75,"props":3772,"children":3773},{"style":94},[3774],{"type":38,"value":641},{"type":32,"tag":338,"props":3776,"children":3778},{"id":3777},"part-2c",[3779],{"type":38,"value":3780},"Part 2C",{"type":32,"tag":362,"props":3782,"children":3784},{"id":3783},"strbuf_rtrim",[3785],{"type":32,"tag":71,"props":3786,"children":3787},{"className":66,"language":68,"style":7},[3788,3792],{"type":32,"tag":75,"props":3789,"children":3790},{"style":242},[3791],{"type":38,"value":3783},{"type":32,"tag":75,"props":3793,"children":3794},{"style":94},[3795],{"type":38,"value":250},{"type":32,"tag":40,"props":3797,"children":3798},{},[3799],{"type":32,"tag":44,"props":3800,"children":3801},{},[3802,3804,3811,3813,3829],{"type":38,"value":3803},"去除",{"type":32,"tag":71,"props":3805,"children":3806},{"className":66,"language":68,"style":7},[3807],{"type":32,"tag":75,"props":3808,"children":3809},{"style":88},[3810],{"type":38,"value":334},{"type":38,"value":3812},"缓冲区右端的所有空格和 ",{"type":32,"tag":71,"props":3814,"children":3815},{"className":66,"language":68,"style":7},[3816,3820,3825],{"type":32,"tag":75,"props":3817,"children":3818},{"style":615},[3819],{"type":38,"value":629},{"type":32,"tag":75,"props":3821,"children":3822},{"style":621},[3823],{"type":38,"value":3824},"\\t",{"type":32,"tag":75,"props":3826,"children":3827},{"style":615},[3828],{"type":38,"value":629},{"type":38,"value":402},{"type":32,"tag":44,"props":3831,"children":3832},{},[3833,3835,3850],{"type":38,"value":3834},"如果读到结尾处时空格或者制表符，则填充字符串结束标志",{"type":32,"tag":71,"props":3836,"children":3837},{"className":66,"language":68,"style":7},[3838,3842,3846],{"type":32,"tag":75,"props":3839,"children":3840},{"style":615},[3841],{"type":38,"value":629},{"type":32,"tag":75,"props":3843,"children":3844},{"style":621},[3845],{"type":38,"value":624},{"type":32,"tag":75,"props":3847,"children":3848},{"style":615},[3849],{"type":38,"value":629},{"type":38,"value":3851},"，并减少长度，直到结尾处不是空格或者制表符。",{"type":32,"tag":64,"props":3853,"children":3855},{"className":66,"code":3854,"language":68,"meta":7,"style":7},"void strbuf_rtrim(struct strbuf *sb) {\n    while (sb->buf[sb->len - 1] == ' ' || sb->buf[sb->len - 1] == '\\t')\n        sb->buf[--sb->len] = '\\0';\n}\n",[3856],{"type":32,"tag":71,"props":3857,"children":3858},{"__ignoreMap":7},[3859,3899,4025,4085],{"type":32,"tag":75,"props":3860,"children":3861},{"class":77,"line":78},[3862,3866,3871,3875,3879,3883,3887,3891,3895],{"type":32,"tag":75,"props":3863,"children":3864},{"style":82},[3865],{"type":38,"value":422},{"type":32,"tag":75,"props":3867,"children":3868},{"style":242},[3869],{"type":38,"value":3870}," strbuf_rtrim",{"type":32,"tag":75,"props":3872,"children":3873},{"style":94},[3874],{"type":38,"value":432},{"type":32,"tag":75,"props":3876,"children":3877},{"style":82},[3878],{"type":38,"value":85},{"type":32,"tag":75,"props":3880,"children":3881},{"style":439},[3882],{"type":38,"value":91},{"type":32,"tag":75,"props":3884,"children":3885},{"style":156},[3886],{"type":38,"value":446},{"type":32,"tag":75,"props":3888,"children":3889},{"style":449},[3890],{"type":38,"value":334},{"type":32,"tag":75,"props":3892,"children":3893},{"style":94},[3894],{"type":38,"value":470},{"type":32,"tag":75,"props":3896,"children":3897},{"style":94},[3898],{"type":38,"value":475},{"type":32,"tag":75,"props":3900,"children":3901},{"class":77,"line":100},[3902,3907,3911,3915,3919,3923,3927,3931,3935,3939,3943,3947,3951,3956,3961,3965,3969,3973,3977,3981,3985,3989,3993,3997,4001,4005,4009,4013,4017,4021],{"type":32,"tag":75,"props":3903,"children":3904},{"style":82},[3905],{"type":38,"value":3906},"    while",{"type":32,"tag":75,"props":3908,"children":3909},{"style":94},[3910],{"type":38,"value":531},{"type":32,"tag":75,"props":3912,"children":3913},{"style":481},[3914],{"type":38,"value":334},{"type":32,"tag":75,"props":3916,"children":3917},{"style":94},[3918],{"type":38,"value":489},{"type":32,"tag":75,"props":3920,"children":3921},{"style":439},[3922],{"type":38,"value":164},{"type":32,"tag":75,"props":3924,"children":3925},{"style":94},[3926],{"type":38,"value":582},{"type":32,"tag":75,"props":3928,"children":3929},{"style":481},[3930],{"type":38,"value":334},{"type":32,"tag":75,"props":3932,"children":3933},{"style":94},[3934],{"type":38,"value":489},{"type":32,"tag":75,"props":3936,"children":3937},{"style":439},[3938],{"type":38,"value":216},{"type":32,"tag":75,"props":3940,"children":3941},{"style":156},[3942],{"type":38,"value":1641},{"type":32,"tag":75,"props":3944,"children":3945},{"style":276},[3946],{"type":38,"value":2337},{"type":32,"tag":75,"props":3948,"children":3949},{"style":94},[3950],{"type":38,"value":608},{"type":32,"tag":75,"props":3952,"children":3953},{"style":156},[3954],{"type":38,"value":3955}," ==",{"type":32,"tag":75,"props":3957,"children":3958},{"style":615},[3959],{"type":38,"value":3960}," ' '",{"type":32,"tag":75,"props":3962,"children":3963},{"style":1657},[3964],{"type":38,"value":1660},{"type":32,"tag":75,"props":3966,"children":3967},{"style":481},[3968],{"type":38,"value":1411},{"type":32,"tag":75,"props":3970,"children":3971},{"style":94},[3972],{"type":38,"value":489},{"type":32,"tag":75,"props":3974,"children":3975},{"style":439},[3976],{"type":38,"value":164},{"type":32,"tag":75,"props":3978,"children":3979},{"style":94},[3980],{"type":38,"value":582},{"type":32,"tag":75,"props":3982,"children":3983},{"style":481},[3984],{"type":38,"value":334},{"type":32,"tag":75,"props":3986,"children":3987},{"style":94},[3988],{"type":38,"value":489},{"type":32,"tag":75,"props":3990,"children":3991},{"style":439},[3992],{"type":38,"value":216},{"type":32,"tag":75,"props":3994,"children":3995},{"style":156},[3996],{"type":38,"value":1641},{"type":32,"tag":75,"props":3998,"children":3999},{"style":276},[4000],{"type":38,"value":2337},{"type":32,"tag":75,"props":4002,"children":4003},{"style":94},[4004],{"type":38,"value":608},{"type":32,"tag":75,"props":4006,"children":4007},{"style":156},[4008],{"type":38,"value":3955},{"type":32,"tag":75,"props":4010,"children":4011},{"style":615},[4012],{"type":38,"value":618},{"type":32,"tag":75,"props":4014,"children":4015},{"style":621},[4016],{"type":38,"value":3824},{"type":32,"tag":75,"props":4018,"children":4019},{"style":615},[4020],{"type":38,"value":629},{"type":32,"tag":75,"props":4022,"children":4023},{"style":94},[4024],{"type":38,"value":2069},{"type":32,"tag":75,"props":4026,"children":4027},{"class":77,"line":125},[4028,4032,4036,4040,4044,4049,4053,4057,4061,4065,4069,4073,4077,4081],{"type":32,"tag":75,"props":4029,"children":4030},{"style":481},[4031],{"type":38,"value":2077},{"type":32,"tag":75,"props":4033,"children":4034},{"style":94},[4035],{"type":38,"value":489},{"type":32,"tag":75,"props":4037,"children":4038},{"style":439},[4039],{"type":38,"value":164},{"type":32,"tag":75,"props":4041,"children":4042},{"style":94},[4043],{"type":38,"value":582},{"type":32,"tag":75,"props":4045,"children":4046},{"style":156},[4047],{"type":38,"value":4048},"--",{"type":32,"tag":75,"props":4050,"children":4051},{"style":481},[4052],{"type":38,"value":334},{"type":32,"tag":75,"props":4054,"children":4055},{"style":94},[4056],{"type":38,"value":489},{"type":32,"tag":75,"props":4058,"children":4059},{"style":439},[4060],{"type":38,"value":216},{"type":32,"tag":75,"props":4062,"children":4063},{"style":94},[4064],{"type":38,"value":608},{"type":32,"tag":75,"props":4066,"children":4067},{"style":156},[4068],{"type":38,"value":498},{"type":32,"tag":75,"props":4070,"children":4071},{"style":615},[4072],{"type":38,"value":618},{"type":32,"tag":75,"props":4074,"children":4075},{"style":621},[4076],{"type":38,"value":624},{"type":32,"tag":75,"props":4078,"children":4079},{"style":615},[4080],{"type":38,"value":629},{"type":32,"tag":75,"props":4082,"children":4083},{"style":94},[4084],{"type":38,"value":507},{"type":32,"tag":75,"props":4086,"children":4087},{"class":77,"line":147},[4088],{"type":32,"tag":75,"props":4089,"children":4090},{"style":94},[4091],{"type":38,"value":641},{"type":32,"tag":362,"props":4093,"children":4095},{"id":4094},"strbuf_ltrim",[4096],{"type":32,"tag":71,"props":4097,"children":4098},{"className":66,"language":68,"style":7},[4099,4103],{"type":32,"tag":75,"props":4100,"children":4101},{"style":242},[4102],{"type":38,"value":4094},{"type":32,"tag":75,"props":4104,"children":4105},{"style":94},[4106],{"type":38,"value":250},{"type":32,"tag":40,"props":4108,"children":4109},{},[4110],{"type":32,"tag":44,"props":4111,"children":4112},{},[4113,4114,4121,4123,4138],{"type":38,"value":3803},{"type":32,"tag":71,"props":4115,"children":4116},{"className":66,"language":68,"style":7},[4117],{"type":32,"tag":75,"props":4118,"children":4119},{"style":88},[4120],{"type":38,"value":334},{"type":38,"value":4122},"缓冲区左端的所有空格和 ",{"type":32,"tag":71,"props":4124,"children":4125},{"className":66,"language":68,"style":7},[4126,4130,4134],{"type":32,"tag":75,"props":4127,"children":4128},{"style":615},[4129],{"type":38,"value":629},{"type":32,"tag":75,"props":4131,"children":4132},{"style":621},[4133],{"type":38,"value":3824},{"type":32,"tag":75,"props":4135,"children":4136},{"style":615},[4137],{"type":38,"value":629},{"type":38,"value":402},{"type":32,"tag":44,"props":4140,"children":4141},{},[4142],{"type":38,"value":4143},"声明一个修剪位置变量为缓冲区内容开头的相对位置，如果读到修剪位置处时空格或者制表符，则增加修剪位置，直到修剪位置处不是空格或者制表符。",{"type":32,"tag":44,"props":4145,"children":4146},{},[4147],{"type":38,"value":4148},"将修剪位置处开始，长度为缓冲区长度减去修剪位置+1的缓冲区内容移动到缓冲区内容开头，并将缓冲区长度减去修剪位置，就完成了缓冲区左端的修剪操作。",{"type":32,"tag":64,"props":4150,"children":4152},{"className":66,"code":4151,"language":68,"meta":7,"style":7},"void strbuf_ltrim(struct strbuf *sb) {\n    int trimpos = 0;\n    while (sb->buf[trimpos] == ' ' || sb->buf[trimpos] == '\\t') trimpos++;\n    memmove(sb->buf, sb->buf + trimpos, (sb->len -= trimpos) + 1);\n}\n",[4153],{"type":32,"tag":71,"props":4154,"children":4155},{"__ignoreMap":7},[4156,4196,4220,4326,4418],{"type":32,"tag":75,"props":4157,"children":4158},{"class":77,"line":78},[4159,4163,4168,4172,4176,4180,4184,4188,4192],{"type":32,"tag":75,"props":4160,"children":4161},{"style":82},[4162],{"type":38,"value":422},{"type":32,"tag":75,"props":4164,"children":4165},{"style":242},[4166],{"type":38,"value":4167}," strbuf_ltrim",{"type":32,"tag":75,"props":4169,"children":4170},{"style":94},[4171],{"type":38,"value":432},{"type":32,"tag":75,"props":4173,"children":4174},{"style":82},[4175],{"type":38,"value":85},{"type":32,"tag":75,"props":4177,"children":4178},{"style":439},[4179],{"type":38,"value":91},{"type":32,"tag":75,"props":4181,"children":4182},{"style":156},[4183],{"type":38,"value":446},{"type":32,"tag":75,"props":4185,"children":4186},{"style":449},[4187],{"type":38,"value":334},{"type":32,"tag":75,"props":4189,"children":4190},{"style":94},[4191],{"type":38,"value":470},{"type":32,"tag":75,"props":4193,"children":4194},{"style":94},[4195],{"type":38,"value":475},{"type":32,"tag":75,"props":4197,"children":4198},{"class":77,"line":100},[4199,4203,4208,4212,4216],{"type":32,"tag":75,"props":4200,"children":4201},{"style":82},[4202],{"type":38,"value":106},{"type":32,"tag":75,"props":4204,"children":4205},{"style":88},[4206],{"type":38,"value":4207}," trimpos ",{"type":32,"tag":75,"props":4209,"children":4210},{"style":156},[4211],{"type":38,"value":1186},{"type":32,"tag":75,"props":4213,"children":4214},{"style":276},[4215],{"type":38,"value":603},{"type":32,"tag":75,"props":4217,"children":4218},{"style":94},[4219],{"type":38,"value":507},{"type":32,"tag":75,"props":4221,"children":4222},{"class":77,"line":125},[4223,4227,4231,4235,4239,4243,4247,4252,4256,4260,4264,4268,4272,4276,4280,4284,4288,4292,4296,4300,4304,4308,4312,4317,4322],{"type":32,"tag":75,"props":4224,"children":4225},{"style":82},[4226],{"type":38,"value":3906},{"type":32,"tag":75,"props":4228,"children":4229},{"style":94},[4230],{"type":38,"value":531},{"type":32,"tag":75,"props":4232,"children":4233},{"style":481},[4234],{"type":38,"value":334},{"type":32,"tag":75,"props":4236,"children":4237},{"style":94},[4238],{"type":38,"value":489},{"type":32,"tag":75,"props":4240,"children":4241},{"style":439},[4242],{"type":38,"value":164},{"type":32,"tag":75,"props":4244,"children":4245},{"style":94},[4246],{"type":38,"value":582},{"type":32,"tag":75,"props":4248,"children":4249},{"style":88},[4250],{"type":38,"value":4251},"trimpos",{"type":32,"tag":75,"props":4253,"children":4254},{"style":94},[4255],{"type":38,"value":608},{"type":32,"tag":75,"props":4257,"children":4258},{"style":156},[4259],{"type":38,"value":3955},{"type":32,"tag":75,"props":4261,"children":4262},{"style":615},[4263],{"type":38,"value":3960},{"type":32,"tag":75,"props":4265,"children":4266},{"style":1657},[4267],{"type":38,"value":1660},{"type":32,"tag":75,"props":4269,"children":4270},{"style":481},[4271],{"type":38,"value":1411},{"type":32,"tag":75,"props":4273,"children":4274},{"style":94},[4275],{"type":38,"value":489},{"type":32,"tag":75,"props":4277,"children":4278},{"style":439},[4279],{"type":38,"value":164},{"type":32,"tag":75,"props":4281,"children":4282},{"style":94},[4283],{"type":38,"value":582},{"type":32,"tag":75,"props":4285,"children":4286},{"style":88},[4287],{"type":38,"value":4251},{"type":32,"tag":75,"props":4289,"children":4290},{"style":94},[4291],{"type":38,"value":608},{"type":32,"tag":75,"props":4293,"children":4294},{"style":156},[4295],{"type":38,"value":3955},{"type":32,"tag":75,"props":4297,"children":4298},{"style":615},[4299],{"type":38,"value":618},{"type":32,"tag":75,"props":4301,"children":4302},{"style":621},[4303],{"type":38,"value":3824},{"type":32,"tag":75,"props":4305,"children":4306},{"style":615},[4307],{"type":38,"value":629},{"type":32,"tag":75,"props":4309,"children":4310},{"style":94},[4311],{"type":38,"value":470},{"type":32,"tag":75,"props":4313,"children":4314},{"style":88},[4315],{"type":38,"value":4316}," trimpos",{"type":32,"tag":75,"props":4318,"children":4319},{"style":156},[4320],{"type":38,"value":4321},"++",{"type":32,"tag":75,"props":4323,"children":4324},{"style":94},[4325],{"type":38,"value":507},{"type":32,"tag":75,"props":4327,"children":4328},{"class":77,"line":147},[4329,4333,4337,4341,4345,4349,4353,4357,4361,4365,4369,4373,4377,4381,4385,4389,4393,4398,4402,4406,4410,4414],{"type":32,"tag":75,"props":4330,"children":4331},{"style":242},[4332],{"type":38,"value":3631},{"type":32,"tag":75,"props":4334,"children":4335},{"style":94},[4336],{"type":38,"value":432},{"type":32,"tag":75,"props":4338,"children":4339},{"style":481},[4340],{"type":38,"value":334},{"type":32,"tag":75,"props":4342,"children":4343},{"style":94},[4344],{"type":38,"value":489},{"type":32,"tag":75,"props":4346,"children":4347},{"style":439},[4348],{"type":38,"value":164},{"type":32,"tag":75,"props":4350,"children":4351},{"style":94},[4352],{"type":38,"value":456},{"type":32,"tag":75,"props":4354,"children":4355},{"style":481},[4356],{"type":38,"value":1411},{"type":32,"tag":75,"props":4358,"children":4359},{"style":94},[4360],{"type":38,"value":489},{"type":32,"tag":75,"props":4362,"children":4363},{"style":439},[4364],{"type":38,"value":164},{"type":32,"tag":75,"props":4366,"children":4367},{"style":156},[4368],{"type":38,"value":2370},{"type":32,"tag":75,"props":4370,"children":4371},{"style":88},[4372],{"type":38,"value":4316},{"type":32,"tag":75,"props":4374,"children":4375},{"style":94},[4376],{"type":38,"value":456},{"type":32,"tag":75,"props":4378,"children":4379},{"style":94},[4380],{"type":38,"value":531},{"type":32,"tag":75,"props":4382,"children":4383},{"style":481},[4384],{"type":38,"value":334},{"type":32,"tag":75,"props":4386,"children":4387},{"style":94},[4388],{"type":38,"value":489},{"type":32,"tag":75,"props":4390,"children":4391},{"style":439},[4392],{"type":38,"value":216},{"type":32,"tag":75,"props":4394,"children":4395},{"style":156},[4396],{"type":38,"value":4397}," -=",{"type":32,"tag":75,"props":4399,"children":4400},{"style":88},[4401],{"type":38,"value":4316},{"type":32,"tag":75,"props":4403,"children":4404},{"style":94},[4405],{"type":38,"value":470},{"type":32,"tag":75,"props":4407,"children":4408},{"style":156},[4409],{"type":38,"value":2370},{"type":32,"tag":75,"props":4411,"children":4412},{"style":276},[4413],{"type":38,"value":2337},{"type":32,"tag":75,"props":4415,"children":4416},{"style":94},[4417],{"type":38,"value":562},{"type":32,"tag":75,"props":4419,"children":4420},{"class":77,"line":176},[4421],{"type":32,"tag":75,"props":4422,"children":4423},{"style":94},[4424],{"type":38,"value":641},{"type":32,"tag":362,"props":4426,"children":4428},{"id":4427},"strbuf_remove",[4429],{"type":32,"tag":71,"props":4430,"children":4431},{"className":66,"language":68,"style":7},[4432,4436],{"type":32,"tag":75,"props":4433,"children":4434},{"style":242},[4435],{"type":38,"value":4427},{"type":32,"tag":75,"props":4437,"children":4438},{"style":94},[4439],{"type":38,"value":250},{"type":32,"tag":40,"props":4441,"children":4442},{},[4443],{"type":32,"tag":44,"props":4444,"children":4445},{},[4446,4448,4455,4457,4464,4466,4473],{"type":38,"value":4447},"删除 ",{"type":32,"tag":71,"props":4449,"children":4450},{"className":66,"language":68,"style":7},[4451],{"type":32,"tag":75,"props":4452,"children":4453},{"style":88},[4454],{"type":38,"value":334},{"type":38,"value":4456}," 缓冲区从 ",{"type":32,"tag":71,"props":4458,"children":4459},{"className":66,"language":68,"style":7},[4460],{"type":32,"tag":75,"props":4461,"children":4462},{"style":88},[4463],{"type":38,"value":3441},{"type":38,"value":4465}," 坐标长度为 ",{"type":32,"tag":71,"props":4467,"children":4468},{"className":66,"language":68,"style":7},[4469],{"type":32,"tag":75,"props":4470,"children":4471},{"style":88},[4472],{"type":38,"value":216},{"type":38,"value":4474}," 的内容。",{"type":32,"tag":44,"props":4476,"children":4477},{},[4478],{"type":38,"value":4479},"将删除坐标加删除长度处，长度为缓冲区长度减删除长度减相对删除位置+1的内容，移动到绝对删除位置处，并将缓冲区长度减去删除长度，便完成了删除缓冲区指定位置处指定长度内容的操作。",{"type":32,"tag":64,"props":4481,"children":4483},{"className":66,"code":4482,"language":68,"meta":7,"style":7},"void strbuf_remove(struct strbuf *sb, size_t pos, size_t len) {\n    memmove(sb->buf + pos, sb->buf + pos + len, (sb->len -= len) - pos + 1);\n}\n",[4484],{"type":32,"tag":71,"props":4485,"children":4486},{"__ignoreMap":7},[4487,4551,4666],{"type":32,"tag":75,"props":4488,"children":4489},{"class":77,"line":78},[4490,4494,4499,4503,4507,4511,4515,4519,4523,4527,4531,4535,4539,4543,4547],{"type":32,"tag":75,"props":4491,"children":4492},{"style":82},[4493],{"type":38,"value":422},{"type":32,"tag":75,"props":4495,"children":4496},{"style":242},[4497],{"type":38,"value":4498}," strbuf_remove",{"type":32,"tag":75,"props":4500,"children":4501},{"style":94},[4502],{"type":38,"value":432},{"type":32,"tag":75,"props":4504,"children":4505},{"style":82},[4506],{"type":38,"value":85},{"type":32,"tag":75,"props":4508,"children":4509},{"style":439},[4510],{"type":38,"value":91},{"type":32,"tag":75,"props":4512,"children":4513},{"style":156},[4514],{"type":38,"value":446},{"type":32,"tag":75,"props":4516,"children":4517},{"style":449},[4518],{"type":38,"value":334},{"type":32,"tag":75,"props":4520,"children":4521},{"style":94},[4522],{"type":38,"value":456},{"type":32,"tag":75,"props":4524,"children":4525},{"style":82},[4526],{"type":38,"value":461},{"type":32,"tag":75,"props":4528,"children":4529},{"style":449},[4530],{"type":38,"value":3539},{"type":32,"tag":75,"props":4532,"children":4533},{"style":94},[4534],{"type":38,"value":456},{"type":32,"tag":75,"props":4536,"children":4537},{"style":82},[4538],{"type":38,"value":461},{"type":32,"tag":75,"props":4540,"children":4541},{"style":449},[4542],{"type":38,"value":111},{"type":32,"tag":75,"props":4544,"children":4545},{"style":94},[4546],{"type":38,"value":470},{"type":32,"tag":75,"props":4548,"children":4549},{"style":94},[4550],{"type":38,"value":475},{"type":32,"tag":75,"props":4552,"children":4553},{"class":77,"line":100},[4554,4558,4562,4566,4570,4574,4578,4582,4586,4590,4594,4598,4602,4606,4610,4614,4618,4622,4626,4630,4634,4638,4642,4646,4650,4654,4658,4662],{"type":32,"tag":75,"props":4555,"children":4556},{"style":242},[4557],{"type":38,"value":3631},{"type":32,"tag":75,"props":4559,"children":4560},{"style":94},[4561],{"type":38,"value":432},{"type":32,"tag":75,"props":4563,"children":4564},{"style":481},[4565],{"type":38,"value":334},{"type":32,"tag":75,"props":4567,"children":4568},{"style":94},[4569],{"type":38,"value":489},{"type":32,"tag":75,"props":4571,"children":4572},{"style":439},[4573],{"type":38,"value":164},{"type":32,"tag":75,"props":4575,"children":4576},{"style":156},[4577],{"type":38,"value":2370},{"type":32,"tag":75,"props":4579,"children":4580},{"style":88},[4581],{"type":38,"value":3539},{"type":32,"tag":75,"props":4583,"children":4584},{"style":94},[4585],{"type":38,"value":456},{"type":32,"tag":75,"props":4587,"children":4588},{"style":481},[4589],{"type":38,"value":1411},{"type":32,"tag":75,"props":4591,"children":4592},{"style":94},[4593],{"type":38,"value":489},{"type":32,"tag":75,"props":4595,"children":4596},{"style":439},[4597],{"type":38,"value":164},{"type":32,"tag":75,"props":4599,"children":4600},{"style":156},[4601],{"type":38,"value":2370},{"type":32,"tag":75,"props":4603,"children":4604},{"style":88},[4605],{"type":38,"value":3656},{"type":32,"tag":75,"props":4607,"children":4608},{"style":156},[4609],{"type":38,"value":2332},{"type":32,"tag":75,"props":4611,"children":4612},{"style":88},[4613],{"type":38,"value":111},{"type":32,"tag":75,"props":4615,"children":4616},{"style":94},[4617],{"type":38,"value":456},{"type":32,"tag":75,"props":4619,"children":4620},{"style":94},[4621],{"type":38,"value":531},{"type":32,"tag":75,"props":4623,"children":4624},{"style":481},[4625],{"type":38,"value":334},{"type":32,"tag":75,"props":4627,"children":4628},{"style":94},[4629],{"type":38,"value":489},{"type":32,"tag":75,"props":4631,"children":4632},{"style":439},[4633],{"type":38,"value":216},{"type":32,"tag":75,"props":4635,"children":4636},{"style":156},[4637],{"type":38,"value":4397},{"type":32,"tag":75,"props":4639,"children":4640},{"style":88},[4641],{"type":38,"value":111},{"type":32,"tag":75,"props":4643,"children":4644},{"style":94},[4645],{"type":38,"value":470},{"type":32,"tag":75,"props":4647,"children":4648},{"style":156},[4649],{"type":38,"value":1641},{"type":32,"tag":75,"props":4651,"children":4652},{"style":88},[4653],{"type":38,"value":3656},{"type":32,"tag":75,"props":4655,"children":4656},{"style":156},[4657],{"type":38,"value":2332},{"type":32,"tag":75,"props":4659,"children":4660},{"style":276},[4661],{"type":38,"value":2337},{"type":32,"tag":75,"props":4663,"children":4664},{"style":94},[4665],{"type":38,"value":562},{"type":32,"tag":75,"props":4667,"children":4668},{"class":77,"line":125},[4669],{"type":32,"tag":75,"props":4670,"children":4671},{"style":94},[4672],{"type":38,"value":641},{"type":32,"tag":338,"props":4674,"children":4676},{"id":4675},"part-2d",[4677],{"type":38,"value":4678},"Part 2D",{"type":32,"tag":362,"props":4680,"children":4682},{"id":4681},"strbuf_read",[4683],{"type":32,"tag":71,"props":4684,"children":4685},{"className":66,"language":68,"style":7},[4686,4690],{"type":32,"tag":75,"props":4687,"children":4688},{"style":242},[4689],{"type":38,"value":4681},{"type":32,"tag":75,"props":4691,"children":4692},{"style":94},[4693],{"type":38,"value":250},{"type":32,"tag":40,"props":4695,"children":4696},{},[4697],{"type":32,"tag":44,"props":4698,"children":4699},{},[4700,4707,4709,4737,4739,4747,4749,4756],{"type":32,"tag":71,"props":4701,"children":4702},{"className":66,"language":68,"style":7},[4703],{"type":32,"tag":75,"props":4704,"children":4705},{"style":88},[4706],{"type":38,"value":334},{"type":38,"value":4708},"增长",{"type":32,"tag":71,"props":4710,"children":4711},{"className":66,"language":68,"style":7},[4712,4717,4722,4727,4732],{"type":32,"tag":75,"props":4713,"children":4714},{"style":88},[4715],{"type":38,"value":4716},"hint ",{"type":32,"tag":75,"props":4718,"children":4719},{"style":156},[4720],{"type":38,"value":4721},"?",{"type":32,"tag":75,"props":4723,"children":4724},{"style":88},[4725],{"type":38,"value":4726}," hint ",{"type":32,"tag":75,"props":4728,"children":4729},{"style":156},[4730],{"type":38,"value":4731},":",{"type":32,"tag":75,"props":4733,"children":4734},{"style":276},[4735],{"type":38,"value":4736}," 8192",{"type":38,"value":4738},"大小，然后将文件描述符为",{"type":32,"tag":71,"props":4740,"children":4741},{"className":66,"language":68,"style":7},[4742],{"type":32,"tag":75,"props":4743,"children":4744},{"style":88},[4745],{"type":38,"value":4746},"fd",{"type":38,"value":4748},"的所有文件内容追加到",{"type":32,"tag":71,"props":4750,"children":4751},{"className":66,"language":68,"style":7},[4752],{"type":32,"tag":75,"props":4753,"children":4754},{"style":88},[4755],{"type":38,"value":334},{"type":38,"value":4757},"中。",{"type":32,"tag":44,"props":4759,"children":4760},{},[4761,4763,4774,4776,4788,4790,4802,4804,4816,4818,4829],{"type":38,"value":4762},"先使用",{"type":32,"tag":71,"props":4764,"children":4765},{"className":66,"language":68,"style":7},[4766,4770],{"type":32,"tag":75,"props":4767,"children":4768},{"style":242},[4769],{"type":38,"value":1902},{"type":32,"tag":75,"props":4771,"children":4772},{"style":94},[4773],{"type":38,"value":250},{"type":38,"value":4775},"增长内存空间，再使用",{"type":32,"tag":71,"props":4777,"children":4778},{"className":66,"language":68,"style":7},[4779,4784],{"type":32,"tag":75,"props":4780,"children":4781},{"style":242},[4782],{"type":38,"value":4783},"fdopen",{"type":32,"tag":75,"props":4785,"children":4786},{"style":94},[4787],{"type":38,"value":250},{"type":38,"value":4789},"读取文件到文件指针",{"type":32,"tag":71,"props":4791,"children":4792},{"className":66,"language":68,"style":7},[4793,4797],{"type":32,"tag":75,"props":4794,"children":4795},{"style":156},[4796],{"type":38,"value":446},{"type":32,"tag":75,"props":4798,"children":4799},{"style":88},[4800],{"type":38,"value":4801},"fp",{"type":38,"value":4803},"。使用",{"type":32,"tag":71,"props":4805,"children":4806},{"className":66,"language":68,"style":7},[4807,4812],{"type":32,"tag":75,"props":4808,"children":4809},{"style":242},[4810],{"type":38,"value":4811},"fgetc",{"type":32,"tag":75,"props":4813,"children":4814},{"style":94},[4815],{"type":38,"value":250},{"type":38,"value":4817},"逐字符读取，并使用",{"type":32,"tag":71,"props":4819,"children":4820},{"className":66,"language":68,"style":7},[4821,4825],{"type":32,"tag":75,"props":4822,"children":4823},{"style":242},[4824],{"type":38,"value":2476},{"type":32,"tag":75,"props":4826,"children":4827},{"style":94},[4828],{"type":38,"value":250},{"type":38,"value":4830},"将字符加入缓冲区，直到读到文件末尾结束，返回读取的文件长度。",{"type":32,"tag":64,"props":4832,"children":4834},{"className":66,"code":4833,"language":68,"meta":7,"style":7},"ssize_t strbuf_read(struct strbuf *sb, int fd, size_t hint) {\n    strbuf_grow(sb, hint ? hint : 8192);\n    FILE *fp = fdopen(fd, \"r\");\n    for (char ch; (ch = fgetc(fp)) != EOF;) strbuf_addch(sb, ch);\n    return sb->len;\n}\n",[4835],{"type":32,"tag":71,"props":4836,"children":4837},{"__ignoreMap":7},[4838,4905,4948,4995,5090,5113],{"type":32,"tag":75,"props":4839,"children":4840},{"class":77,"line":78},[4841,4846,4851,4855,4859,4863,4867,4871,4875,4879,4884,4888,4892,4897,4901],{"type":32,"tag":75,"props":4842,"children":4843},{"style":82},[4844],{"type":38,"value":4845},"ssize_t",{"type":32,"tag":75,"props":4847,"children":4848},{"style":242},[4849],{"type":38,"value":4850}," strbuf_read",{"type":32,"tag":75,"props":4852,"children":4853},{"style":94},[4854],{"type":38,"value":432},{"type":32,"tag":75,"props":4856,"children":4857},{"style":82},[4858],{"type":38,"value":85},{"type":32,"tag":75,"props":4860,"children":4861},{"style":439},[4862],{"type":38,"value":91},{"type":32,"tag":75,"props":4864,"children":4865},{"style":156},[4866],{"type":38,"value":446},{"type":32,"tag":75,"props":4868,"children":4869},{"style":449},[4870],{"type":38,"value":334},{"type":32,"tag":75,"props":4872,"children":4873},{"style":94},[4874],{"type":38,"value":456},{"type":32,"tag":75,"props":4876,"children":4877},{"style":82},[4878],{"type":38,"value":2565},{"type":32,"tag":75,"props":4880,"children":4881},{"style":449},[4882],{"type":38,"value":4883}," fd",{"type":32,"tag":75,"props":4885,"children":4886},{"style":94},[4887],{"type":38,"value":456},{"type":32,"tag":75,"props":4889,"children":4890},{"style":82},[4891],{"type":38,"value":461},{"type":32,"tag":75,"props":4893,"children":4894},{"style":449},[4895],{"type":38,"value":4896}," hint",{"type":32,"tag":75,"props":4898,"children":4899},{"style":94},[4900],{"type":38,"value":470},{"type":32,"tag":75,"props":4902,"children":4903},{"style":94},[4904],{"type":38,"value":475},{"type":32,"tag":75,"props":4906,"children":4907},{"class":77,"line":100},[4908,4912,4916,4920,4924,4928,4932,4936,4940,4944],{"type":32,"tag":75,"props":4909,"children":4910},{"style":242},[4911],{"type":38,"value":2310},{"type":32,"tag":75,"props":4913,"children":4914},{"style":94},[4915],{"type":38,"value":432},{"type":32,"tag":75,"props":4917,"children":4918},{"style":88},[4919],{"type":38,"value":334},{"type":32,"tag":75,"props":4921,"children":4922},{"style":94},[4923],{"type":38,"value":456},{"type":32,"tag":75,"props":4925,"children":4926},{"style":88},[4927],{"type":38,"value":4726},{"type":32,"tag":75,"props":4929,"children":4930},{"style":156},[4931],{"type":38,"value":4721},{"type":32,"tag":75,"props":4933,"children":4934},{"style":88},[4935],{"type":38,"value":4726},{"type":32,"tag":75,"props":4937,"children":4938},{"style":156},[4939],{"type":38,"value":4731},{"type":32,"tag":75,"props":4941,"children":4942},{"style":276},[4943],{"type":38,"value":4736},{"type":32,"tag":75,"props":4945,"children":4946},{"style":94},[4947],{"type":38,"value":562},{"type":32,"tag":75,"props":4949,"children":4950},{"class":77,"line":125},[4951,4956,4960,4965,4969,4974,4978,4982,4986,4991],{"type":32,"tag":75,"props":4952,"children":4953},{"style":88},[4954],{"type":38,"value":4955},"    FILE ",{"type":32,"tag":75,"props":4957,"children":4958},{"style":156},[4959],{"type":38,"value":446},{"type":32,"tag":75,"props":4961,"children":4962},{"style":88},[4963],{"type":38,"value":4964},"fp ",{"type":32,"tag":75,"props":4966,"children":4967},{"style":156},[4968],{"type":38,"value":1186},{"type":32,"tag":75,"props":4970,"children":4971},{"style":242},[4972],{"type":38,"value":4973}," fdopen",{"type":32,"tag":75,"props":4975,"children":4976},{"style":94},[4977],{"type":38,"value":432},{"type":32,"tag":75,"props":4979,"children":4980},{"style":88},[4981],{"type":38,"value":4746},{"type":32,"tag":75,"props":4983,"children":4984},{"style":94},[4985],{"type":38,"value":456},{"type":32,"tag":75,"props":4987,"children":4988},{"style":615},[4989],{"type":38,"value":4990}," \"r\"",{"type":32,"tag":75,"props":4992,"children":4993},{"style":94},[4994],{"type":38,"value":562},{"type":32,"tag":75,"props":4996,"children":4997},{"class":77,"line":147},[4998,5003,5007,5011,5016,5020,5024,5029,5033,5038,5042,5046,5051,5056,5061,5066,5070,5074,5078,5082,5086],{"type":32,"tag":75,"props":4999,"children":5000},{"style":82},[5001],{"type":38,"value":5002},"    for",{"type":32,"tag":75,"props":5004,"children":5005},{"style":94},[5006],{"type":38,"value":531},{"type":32,"tag":75,"props":5008,"children":5009},{"style":82},[5010],{"type":38,"value":536},{"type":32,"tag":75,"props":5012,"children":5013},{"style":88},[5014],{"type":38,"value":5015}," ch",{"type":32,"tag":75,"props":5017,"children":5018},{"style":94},[5019],{"type":38,"value":116},{"type":32,"tag":75,"props":5021,"children":5022},{"style":94},[5023],{"type":38,"value":531},{"type":32,"tag":75,"props":5025,"children":5026},{"style":88},[5027],{"type":38,"value":5028},"ch ",{"type":32,"tag":75,"props":5030,"children":5031},{"style":156},[5032],{"type":38,"value":1186},{"type":32,"tag":75,"props":5034,"children":5035},{"style":242},[5036],{"type":38,"value":5037}," fgetc",{"type":32,"tag":75,"props":5039,"children":5040},{"style":94},[5041],{"type":38,"value":432},{"type":32,"tag":75,"props":5043,"children":5044},{"style":88},[5045],{"type":38,"value":4801},{"type":32,"tag":75,"props":5047,"children":5048},{"style":94},[5049],{"type":38,"value":5050},"))",{"type":32,"tag":75,"props":5052,"children":5053},{"style":156},[5054],{"type":38,"value":5055}," !=",{"type":32,"tag":75,"props":5057,"children":5058},{"style":88},[5059],{"type":38,"value":5060}," EOF",{"type":32,"tag":75,"props":5062,"children":5063},{"style":94},[5064],{"type":38,"value":5065},";)",{"type":32,"tag":75,"props":5067,"children":5068},{"style":242},[5069],{"type":38,"value":2536},{"type":32,"tag":75,"props":5071,"children":5072},{"style":94},[5073],{"type":38,"value":432},{"type":32,"tag":75,"props":5075,"children":5076},{"style":88},[5077],{"type":38,"value":334},{"type":32,"tag":75,"props":5079,"children":5080},{"style":94},[5081],{"type":38,"value":456},{"type":32,"tag":75,"props":5083,"children":5084},{"style":88},[5085],{"type":38,"value":5015},{"type":32,"tag":75,"props":5087,"children":5088},{"style":94},[5089],{"type":38,"value":562},{"type":32,"tag":75,"props":5091,"children":5092},{"class":77,"line":176},[5093,5097,5101,5105,5109],{"type":32,"tag":75,"props":5094,"children":5095},{"style":82},[5096],{"type":38,"value":1431},{"type":32,"tag":75,"props":5098,"children":5099},{"style":481},[5100],{"type":38,"value":1411},{"type":32,"tag":75,"props":5102,"children":5103},{"style":94},[5104],{"type":38,"value":489},{"type":32,"tag":75,"props":5106,"children":5107},{"style":439},[5108],{"type":38,"value":216},{"type":32,"tag":75,"props":5110,"children":5111},{"style":94},[5112],{"type":38,"value":507},{"type":32,"tag":75,"props":5114,"children":5116},{"class":77,"line":5115},6,[5117],{"type":32,"tag":75,"props":5118,"children":5119},{"style":94},[5120],{"type":38,"value":641},{"type":32,"tag":362,"props":5122,"children":5124},{"id":5123},"strbuf_getline",[5125],{"type":32,"tag":71,"props":5126,"children":5127},{"className":66,"language":68,"style":7},[5128,5132],{"type":32,"tag":75,"props":5129,"children":5130},{"style":242},[5131],{"type":38,"value":5123},{"type":32,"tag":75,"props":5133,"children":5134},{"style":94},[5135],{"type":38,"value":250},{"type":32,"tag":40,"props":5137,"children":5138},{},[5139],{"type":32,"tag":44,"props":5140,"children":5141},{},[5142,5144,5151,5153,5160],{"type":38,"value":5143},"将文件句柄为",{"type":32,"tag":71,"props":5145,"children":5146},{"className":66,"language":68,"style":7},[5147],{"type":32,"tag":75,"props":5148,"children":5149},{"style":88},[5150],{"type":38,"value":4801},{"type":38,"value":5152},"的一行内容（抛弃换行符）读取到",{"type":32,"tag":71,"props":5154,"children":5155},{"className":66,"language":68,"style":7},[5156],{"type":32,"tag":75,"props":5157,"children":5158},{"style":88},[5159],{"type":38,"value":334},{"type":38,"value":402},{"type":32,"tag":44,"props":5162,"children":5163},{},[5164,5166,5177,5179,5190,5192,5203],{"type":38,"value":5165},"使用",{"type":32,"tag":71,"props":5167,"children":5168},{"className":66,"language":68,"style":7},[5169,5173],{"type":32,"tag":75,"props":5170,"children":5171},{"style":242},[5172],{"type":38,"value":4811},{"type":32,"tag":75,"props":5174,"children":5175},{"style":94},[5176],{"type":38,"value":250},{"type":38,"value":5178},"逐字符读取文件指针",{"type":32,"tag":71,"props":5180,"children":5181},{"className":66,"language":68,"style":7},[5182,5186],{"type":32,"tag":75,"props":5183,"children":5184},{"style":156},[5185],{"type":38,"value":446},{"type":32,"tag":75,"props":5187,"children":5188},{"style":88},[5189],{"type":38,"value":4801},{"type":38,"value":5191},"，并使用",{"type":32,"tag":71,"props":5193,"children":5194},{"className":66,"language":68,"style":7},[5195,5199],{"type":32,"tag":75,"props":5196,"children":5197},{"style":242},[5198],{"type":38,"value":2476},{"type":32,"tag":75,"props":5200,"children":5201},{"style":94},[5202],{"type":38,"value":250},{"type":38,"value":5204},"将字符加入缓冲区，直到读到换行符或者文件末尾结束，返回读取的文件长度。",{"type":32,"tag":64,"props":5206,"children":5208},{"className":66,"code":5207,"language":68,"meta":7,"style":7},"int strbuf_getline(struct strbuf *sb, FILE *fp) {\n    for (char ch; (ch = fgetc(fp)) != '\\n' && ch != EOF;) strbuf_addch(sb, ch);\n    return sb->len;\n}\n",[5209],{"type":32,"tag":71,"props":5210,"children":5211},{"__ignoreMap":7},[5212,5269,5384,5407],{"type":32,"tag":75,"props":5213,"children":5214},{"class":77,"line":78},[5215,5219,5224,5228,5232,5236,5240,5244,5248,5253,5257,5261,5265],{"type":32,"tag":75,"props":5216,"children":5217},{"style":82},[5218],{"type":38,"value":1551},{"type":32,"tag":75,"props":5220,"children":5221},{"style":242},[5222],{"type":38,"value":5223}," strbuf_getline",{"type":32,"tag":75,"props":5225,"children":5226},{"style":94},[5227],{"type":38,"value":432},{"type":32,"tag":75,"props":5229,"children":5230},{"style":82},[5231],{"type":38,"value":85},{"type":32,"tag":75,"props":5233,"children":5234},{"style":439},[5235],{"type":38,"value":91},{"type":32,"tag":75,"props":5237,"children":5238},{"style":156},[5239],{"type":38,"value":446},{"type":32,"tag":75,"props":5241,"children":5242},{"style":449},[5243],{"type":38,"value":334},{"type":32,"tag":75,"props":5245,"children":5246},{"style":94},[5247],{"type":38,"value":456},{"type":32,"tag":75,"props":5249,"children":5250},{"style":439},[5251],{"type":38,"value":5252}," FILE ",{"type":32,"tag":75,"props":5254,"children":5255},{"style":156},[5256],{"type":38,"value":446},{"type":32,"tag":75,"props":5258,"children":5259},{"style":449},[5260],{"type":38,"value":4801},{"type":32,"tag":75,"props":5262,"children":5263},{"style":94},[5264],{"type":38,"value":470},{"type":32,"tag":75,"props":5266,"children":5267},{"style":94},[5268],{"type":38,"value":475},{"type":32,"tag":75,"props":5270,"children":5271},{"class":77,"line":100},[5272,5276,5280,5284,5288,5292,5296,5300,5304,5308,5312,5316,5320,5324,5328,5333,5337,5342,5347,5352,5356,5360,5364,5368,5372,5376,5380],{"type":32,"tag":75,"props":5273,"children":5274},{"style":82},[5275],{"type":38,"value":5002},{"type":32,"tag":75,"props":5277,"children":5278},{"style":94},[5279],{"type":38,"value":531},{"type":32,"tag":75,"props":5281,"children":5282},{"style":82},[5283],{"type":38,"value":536},{"type":32,"tag":75,"props":5285,"children":5286},{"style":88},[5287],{"type":38,"value":5015},{"type":32,"tag":75,"props":5289,"children":5290},{"style":94},[5291],{"type":38,"value":116},{"type":32,"tag":75,"props":5293,"children":5294},{"style":94},[5295],{"type":38,"value":531},{"type":32,"tag":75,"props":5297,"children":5298},{"style":88},[5299],{"type":38,"value":5028},{"type":32,"tag":75,"props":5301,"children":5302},{"style":156},[5303],{"type":38,"value":1186},{"type":32,"tag":75,"props":5305,"children":5306},{"style":242},[5307],{"type":38,"value":5037},{"type":32,"tag":75,"props":5309,"children":5310},{"style":94},[5311],{"type":38,"value":432},{"type":32,"tag":75,"props":5313,"children":5314},{"style":88},[5315],{"type":38,"value":4801},{"type":32,"tag":75,"props":5317,"children":5318},{"style":94},[5319],{"type":38,"value":5050},{"type":32,"tag":75,"props":5321,"children":5322},{"style":156},[5323],{"type":38,"value":5055},{"type":32,"tag":75,"props":5325,"children":5326},{"style":615},[5327],{"type":38,"value":618},{"type":32,"tag":75,"props":5329,"children":5330},{"style":621},[5331],{"type":38,"value":5332},"\\n",{"type":32,"tag":75,"props":5334,"children":5335},{"style":615},[5336],{"type":38,"value":629},{"type":32,"tag":75,"props":5338,"children":5339},{"style":1657},[5340],{"type":38,"value":5341}," &&",{"type":32,"tag":75,"props":5343,"children":5344},{"style":88},[5345],{"type":38,"value":5346}," ch ",{"type":32,"tag":75,"props":5348,"children":5349},{"style":156},[5350],{"type":38,"value":5351},"!=",{"type":32,"tag":75,"props":5353,"children":5354},{"style":88},[5355],{"type":38,"value":5060},{"type":32,"tag":75,"props":5357,"children":5358},{"style":94},[5359],{"type":38,"value":5065},{"type":32,"tag":75,"props":5361,"children":5362},{"style":242},[5363],{"type":38,"value":2536},{"type":32,"tag":75,"props":5365,"children":5366},{"style":94},[5367],{"type":38,"value":432},{"type":32,"tag":75,"props":5369,"children":5370},{"style":88},[5371],{"type":38,"value":334},{"type":32,"tag":75,"props":5373,"children":5374},{"style":94},[5375],{"type":38,"value":456},{"type":32,"tag":75,"props":5377,"children":5378},{"style":88},[5379],{"type":38,"value":5015},{"type":32,"tag":75,"props":5381,"children":5382},{"style":94},[5383],{"type":38,"value":562},{"type":32,"tag":75,"props":5385,"children":5386},{"class":77,"line":125},[5387,5391,5395,5399,5403],{"type":32,"tag":75,"props":5388,"children":5389},{"style":82},[5390],{"type":38,"value":1431},{"type":32,"tag":75,"props":5392,"children":5393},{"style":481},[5394],{"type":38,"value":1411},{"type":32,"tag":75,"props":5396,"children":5397},{"style":94},[5398],{"type":38,"value":489},{"type":32,"tag":75,"props":5400,"children":5401},{"style":439},[5402],{"type":38,"value":216},{"type":32,"tag":75,"props":5404,"children":5405},{"style":94},[5406],{"type":38,"value":507},{"type":32,"tag":75,"props":5408,"children":5409},{"class":77,"line":147},[5410],{"type":32,"tag":75,"props":5411,"children":5412},{"style":94},[5413],{"type":38,"value":641},{"type":32,"tag":338,"props":5415,"children":5417},{"id":5416},"challenge",[5418],{"type":38,"value":5419},"CHALLENGE",{"type":32,"tag":40,"props":5421,"children":5422},{},[5423],{"type":32,"tag":44,"props":5424,"children":5425},{},[5426],{"type":38,"value":5427},"1.实现字符串切割（C 系字符串函数的一个痛点）。",{"type":32,"tag":362,"props":5429,"children":5431},{"id":5430},"strbuf_split_buf",[5432],{"type":32,"tag":71,"props":5433,"children":5434},{"className":66,"language":68,"style":7},[5435,5439],{"type":32,"tag":75,"props":5436,"children":5437},{"style":242},[5438],{"type":38,"value":5430},{"type":32,"tag":75,"props":5440,"children":5441},{"style":94},[5442],{"type":38,"value":250},{"type":32,"tag":40,"props":5444,"children":5445},{},[5446],{"type":32,"tag":44,"props":5447,"children":5448},{},[5449,5451,5458,5460,5467,5469,5477,5479,5491,5493,5501],{"type":38,"value":5450},"将长度为",{"type":32,"tag":71,"props":5452,"children":5453},{"className":66,"language":68,"style":7},[5454],{"type":32,"tag":75,"props":5455,"children":5456},{"style":88},[5457],{"type":38,"value":216},{"type":38,"value":5459},"的字符串",{"type":32,"tag":71,"props":5461,"children":5462},{"className":66,"language":68,"style":7},[5463],{"type":32,"tag":75,"props":5464,"children":5465},{"style":88},[5466],{"type":38,"value":760},{"type":38,"value":5468},"根据切割字符",{"type":32,"tag":71,"props":5470,"children":5471},{"className":66,"language":68,"style":7},[5472],{"type":32,"tag":75,"props":5473,"children":5474},{"style":88},[5475],{"type":38,"value":5476},"terminator",{"type":38,"value":5478},"切成多个 strbuf,并从结果返回，max 可以用来限定最大切割数量。返回",{"type":32,"tag":71,"props":5480,"children":5481},{"className":66,"language":68,"style":7},[5482,5486],{"type":32,"tag":75,"props":5483,"children":5484},{"style":82},[5485],{"type":38,"value":85},{"type":32,"tag":75,"props":5487,"children":5488},{"style":88},[5489],{"type":38,"value":5490}," strbuf",{"type":38,"value":5492},"的指针数组，数组的最后元素为",{"type":32,"tag":71,"props":5494,"children":5495},{"className":66,"language":68,"style":7},[5496],{"type":32,"tag":75,"props":5497,"children":5498},{"style":1032},[5499],{"type":38,"value":5500},"NULL",{"type":38,"value":402},{"type":32,"tag":44,"props":5503,"children":5504},{},[5505,5507,5519,5521,5536],{"type":38,"value":5506},"刚开始，我尝试使用",{"type":32,"tag":71,"props":5508,"children":5509},{"className":66,"language":68,"style":7},[5510,5515],{"type":32,"tag":75,"props":5511,"children":5512},{"style":242},[5513],{"type":38,"value":5514},"strtok",{"type":32,"tag":75,"props":5516,"children":5517},{"style":94},[5518],{"type":38,"value":250},{"type":38,"value":5520},"实现，但是由于缓冲区内容含有",{"type":32,"tag":71,"props":5522,"children":5523},{"className":66,"language":68,"style":7},[5524,5528,5532],{"type":32,"tag":75,"props":5525,"children":5526},{"style":615},[5527],{"type":38,"value":629},{"type":32,"tag":75,"props":5529,"children":5530},{"style":621},[5531],{"type":38,"value":624},{"type":32,"tag":75,"props":5533,"children":5534},{"style":615},[5535],{"type":38,"value":629},{"type":38,"value":5537},"，此后的内容被舍弃了，所以并没有达成目标。",{"type":32,"tag":64,"props":5539,"children":5541},{"className":66,"code":5540,"language":68,"meta":7,"style":7},"struct strbuf **strbuf_split_buf(const char *str, size_t len, int terminator, int max) {\n    struct strbuf **ret = (struct strbuf **) malloc(sizeof(struct strbuf *) * (max + 1));\n    char s[len + 1], delim[2] = {(char) terminator};\n    memcpy(s, str, len + 1);\n    char *token = strtok(s, delim);\n    for (int i = 0; token && i \u003C max; ret[++i] = NULL) {\n        ret[i] = (struct strbuf *) malloc(sizeof(struct strbuf));\n        strbuf_init(ret[i], 0);\n        strbuf_addstr(ret[i], token);\n        token = strtok(NULL, delim);\n    }\n    return ret;\n}\n",[5542],{"type":32,"tag":71,"props":5543,"children":5544},{"__ignoreMap":7},[5545,5631,5733,5808,5851,5896,5993,6066,6104,6142,6179,6188,6204],{"type":32,"tag":75,"props":5546,"children":5547},{"class":77,"line":78},[5548,5552,5556,5561,5565,5569,5573,5577,5581,5585,5589,5593,5597,5601,5605,5610,5614,5618,5623,5627],{"type":32,"tag":75,"props":5549,"children":5550},{"style":82},[5551],{"type":38,"value":85},{"type":32,"tag":75,"props":5553,"children":5554},{"style":88},[5555],{"type":38,"value":91},{"type":32,"tag":75,"props":5557,"children":5558},{"style":156},[5559],{"type":38,"value":5560},"**",{"type":32,"tag":75,"props":5562,"children":5563},{"style":242},[5564],{"type":38,"value":5430},{"type":32,"tag":75,"props":5566,"children":5567},{"style":94},[5568],{"type":38,"value":432},{"type":32,"tag":75,"props":5570,"children":5571},{"style":82},[5572],{"type":38,"value":1565},{"type":32,"tag":75,"props":5574,"children":5575},{"style":82},[5576],{"type":38,"value":2744},{"type":32,"tag":75,"props":5578,"children":5579},{"style":156},[5580],{"type":38,"value":159},{"type":32,"tag":75,"props":5582,"children":5583},{"style":449},[5584],{"type":38,"value":760},{"type":32,"tag":75,"props":5586,"children":5587},{"style":94},[5588],{"type":38,"value":456},{"type":32,"tag":75,"props":5590,"children":5591},{"style":82},[5592],{"type":38,"value":461},{"type":32,"tag":75,"props":5594,"children":5595},{"style":449},[5596],{"type":38,"value":111},{"type":32,"tag":75,"props":5598,"children":5599},{"style":94},[5600],{"type":38,"value":456},{"type":32,"tag":75,"props":5602,"children":5603},{"style":82},[5604],{"type":38,"value":2565},{"type":32,"tag":75,"props":5606,"children":5607},{"style":449},[5608],{"type":38,"value":5609}," terminator",{"type":32,"tag":75,"props":5611,"children":5612},{"style":94},[5613],{"type":38,"value":456},{"type":32,"tag":75,"props":5615,"children":5616},{"style":82},[5617],{"type":38,"value":2565},{"type":32,"tag":75,"props":5619,"children":5620},{"style":449},[5621],{"type":38,"value":5622}," max",{"type":32,"tag":75,"props":5624,"children":5625},{"style":94},[5626],{"type":38,"value":470},{"type":32,"tag":75,"props":5628,"children":5629},{"style":94},[5630],{"type":38,"value":475},{"type":32,"tag":75,"props":5632,"children":5633},{"class":77,"line":100},[5634,5638,5642,5646,5651,5655,5659,5663,5667,5671,5675,5679,5683,5688,5692,5696,5700,5704,5708,5712,5716,5721,5725,5729],{"type":32,"tag":75,"props":5635,"children":5636},{"style":82},[5637],{"type":38,"value":1176},{"type":32,"tag":75,"props":5639,"children":5640},{"style":88},[5641],{"type":38,"value":91},{"type":32,"tag":75,"props":5643,"children":5644},{"style":156},[5645],{"type":38,"value":5560},{"type":32,"tag":75,"props":5647,"children":5648},{"style":88},[5649],{"type":38,"value":5650},"ret ",{"type":32,"tag":75,"props":5652,"children":5653},{"style":156},[5654],{"type":38,"value":1186},{"type":32,"tag":75,"props":5656,"children":5657},{"style":94},[5658],{"type":38,"value":531},{"type":32,"tag":75,"props":5660,"children":5661},{"style":82},[5662],{"type":38,"value":85},{"type":32,"tag":75,"props":5664,"children":5665},{"style":88},[5666],{"type":38,"value":91},{"type":32,"tag":75,"props":5668,"children":5669},{"style":156},[5670],{"type":38,"value":5560},{"type":32,"tag":75,"props":5672,"children":5673},{"style":94},[5674],{"type":38,"value":470},{"type":32,"tag":75,"props":5676,"children":5677},{"style":242},[5678],{"type":38,"value":549},{"type":32,"tag":75,"props":5680,"children":5681},{"style":94},[5682],{"type":38,"value":432},{"type":32,"tag":75,"props":5684,"children":5685},{"style":156},[5686],{"type":38,"value":5687},"sizeof",{"type":32,"tag":75,"props":5689,"children":5690},{"style":94},[5691],{"type":38,"value":432},{"type":32,"tag":75,"props":5693,"children":5694},{"style":82},[5695],{"type":38,"value":85},{"type":32,"tag":75,"props":5697,"children":5698},{"style":88},[5699],{"type":38,"value":91},{"type":32,"tag":75,"props":5701,"children":5702},{"style":156},[5703],{"type":38,"value":446},{"type":32,"tag":75,"props":5705,"children":5706},{"style":94},[5707],{"type":38,"value":470},{"type":32,"tag":75,"props":5709,"children":5710},{"style":156},[5711],{"type":38,"value":159},{"type":32,"tag":75,"props":5713,"children":5714},{"style":94},[5715],{"type":38,"value":531},{"type":32,"tag":75,"props":5717,"children":5718},{"style":88},[5719],{"type":38,"value":5720},"max ",{"type":32,"tag":75,"props":5722,"children":5723},{"style":156},[5724],{"type":38,"value":2332},{"type":32,"tag":75,"props":5726,"children":5727},{"style":276},[5728],{"type":38,"value":2337},{"type":32,"tag":75,"props":5730,"children":5731},{"style":94},[5732],{"type":38,"value":2806},{"type":32,"tag":75,"props":5734,"children":5735},{"class":77,"line":125},[5736,5740,5744,5748,5752,5756,5760,5765,5770,5774,5779,5783,5787,5792,5796,5800,5804],{"type":32,"tag":75,"props":5737,"children":5738},{"style":82},[5739],{"type":38,"value":153},{"type":32,"tag":75,"props":5741,"children":5742},{"style":439},[5743],{"type":38,"value":2784},{"type":32,"tag":75,"props":5745,"children":5746},{"style":94},[5747],{"type":38,"value":582},{"type":32,"tag":75,"props":5749,"children":5750},{"style":88},[5751],{"type":38,"value":3119},{"type":32,"tag":75,"props":5753,"children":5754},{"style":156},[5755],{"type":38,"value":2332},{"type":32,"tag":75,"props":5757,"children":5758},{"style":276},[5759],{"type":38,"value":2337},{"type":32,"tag":75,"props":5761,"children":5762},{"style":94},[5763],{"type":38,"value":5764},"],",{"type":32,"tag":75,"props":5766,"children":5767},{"style":439},[5768],{"type":38,"value":5769}," delim",{"type":32,"tag":75,"props":5771,"children":5772},{"style":94},[5773],{"type":38,"value":582},{"type":32,"tag":75,"props":5775,"children":5776},{"style":276},[5777],{"type":38,"value":5778},"2",{"type":32,"tag":75,"props":5780,"children":5781},{"style":94},[5782],{"type":38,"value":608},{"type":32,"tag":75,"props":5784,"children":5785},{"style":156},[5786],{"type":38,"value":498},{"type":32,"tag":75,"props":5788,"children":5789},{"style":94},[5790],{"type":38,"value":5791}," {(",{"type":32,"tag":75,"props":5793,"children":5794},{"style":82},[5795],{"type":38,"value":536},{"type":32,"tag":75,"props":5797,"children":5798},{"style":94},[5799],{"type":38,"value":470},{"type":32,"tag":75,"props":5801,"children":5802},{"style":88},[5803],{"type":38,"value":5609},{"type":32,"tag":75,"props":5805,"children":5806},{"style":94},[5807],{"type":38,"value":182},{"type":32,"tag":75,"props":5809,"children":5810},{"class":77,"line":147},[5811,5815,5819,5823,5827,5831,5835,5839,5843,5847],{"type":32,"tag":75,"props":5812,"children":5813},{"style":242},[5814],{"type":38,"value":2349},{"type":32,"tag":75,"props":5816,"children":5817},{"style":94},[5818],{"type":38,"value":432},{"type":32,"tag":75,"props":5820,"children":5821},{"style":88},[5822],{"type":38,"value":2665},{"type":32,"tag":75,"props":5824,"children":5825},{"style":94},[5826],{"type":38,"value":456},{"type":32,"tag":75,"props":5828,"children":5829},{"style":88},[5830],{"type":38,"value":886},{"type":32,"tag":75,"props":5832,"children":5833},{"style":94},[5834],{"type":38,"value":456},{"type":32,"tag":75,"props":5836,"children":5837},{"style":88},[5838],{"type":38,"value":2327},{"type":32,"tag":75,"props":5840,"children":5841},{"style":156},[5842],{"type":38,"value":2332},{"type":32,"tag":75,"props":5844,"children":5845},{"style":276},[5846],{"type":38,"value":2337},{"type":32,"tag":75,"props":5848,"children":5849},{"style":94},[5850],{"type":38,"value":562},{"type":32,"tag":75,"props":5852,"children":5853},{"class":77,"line":176},[5854,5858,5862,5867,5871,5876,5880,5884,5888,5892],{"type":32,"tag":75,"props":5855,"children":5856},{"style":82},[5857],{"type":38,"value":153},{"type":32,"tag":75,"props":5859,"children":5860},{"style":156},[5861],{"type":38,"value":159},{"type":32,"tag":75,"props":5863,"children":5864},{"style":88},[5865],{"type":38,"value":5866},"token ",{"type":32,"tag":75,"props":5868,"children":5869},{"style":156},[5870],{"type":38,"value":1186},{"type":32,"tag":75,"props":5872,"children":5873},{"style":242},[5874],{"type":38,"value":5875}," strtok",{"type":32,"tag":75,"props":5877,"children":5878},{"style":94},[5879],{"type":38,"value":432},{"type":32,"tag":75,"props":5881,"children":5882},{"style":88},[5883],{"type":38,"value":2665},{"type":32,"tag":75,"props":5885,"children":5886},{"style":94},[5887],{"type":38,"value":456},{"type":32,"tag":75,"props":5889,"children":5890},{"style":88},[5891],{"type":38,"value":5769},{"type":32,"tag":75,"props":5893,"children":5894},{"style":94},[5895],{"type":38,"value":562},{"type":32,"tag":75,"props":5897,"children":5898},{"class":77,"line":5115},[5899,5903,5907,5911,5916,5920,5924,5928,5933,5938,5942,5947,5951,5955,5960,5964,5968,5973,5977,5981,5985,5989],{"type":32,"tag":75,"props":5900,"children":5901},{"style":82},[5902],{"type":38,"value":5002},{"type":32,"tag":75,"props":5904,"children":5905},{"style":94},[5906],{"type":38,"value":531},{"type":32,"tag":75,"props":5908,"children":5909},{"style":82},[5910],{"type":38,"value":1551},{"type":32,"tag":75,"props":5912,"children":5913},{"style":88},[5914],{"type":38,"value":5915}," i ",{"type":32,"tag":75,"props":5917,"children":5918},{"style":156},[5919],{"type":38,"value":1186},{"type":32,"tag":75,"props":5921,"children":5922},{"style":276},[5923],{"type":38,"value":603},{"type":32,"tag":75,"props":5925,"children":5926},{"style":94},[5927],{"type":38,"value":116},{"type":32,"tag":75,"props":5929,"children":5930},{"style":88},[5931],{"type":38,"value":5932}," token ",{"type":32,"tag":75,"props":5934,"children":5935},{"style":1657},[5936],{"type":38,"value":5937},"&&",{"type":32,"tag":75,"props":5939,"children":5940},{"style":88},[5941],{"type":38,"value":5915},{"type":32,"tag":75,"props":5943,"children":5944},{"style":156},[5945],{"type":38,"value":5946},"\u003C",{"type":32,"tag":75,"props":5948,"children":5949},{"style":88},[5950],{"type":38,"value":5622},{"type":32,"tag":75,"props":5952,"children":5953},{"style":94},[5954],{"type":38,"value":116},{"type":32,"tag":75,"props":5956,"children":5957},{"style":439},[5958],{"type":38,"value":5959}," ret",{"type":32,"tag":75,"props":5961,"children":5962},{"style":94},[5963],{"type":38,"value":582},{"type":32,"tag":75,"props":5965,"children":5966},{"style":156},[5967],{"type":38,"value":4321},{"type":32,"tag":75,"props":5969,"children":5970},{"style":88},[5971],{"type":38,"value":5972},"i",{"type":32,"tag":75,"props":5974,"children":5975},{"style":94},[5976],{"type":38,"value":608},{"type":32,"tag":75,"props":5978,"children":5979},{"style":156},[5980],{"type":38,"value":498},{"type":32,"tag":75,"props":5982,"children":5983},{"style":1032},[5984],{"type":38,"value":1035},{"type":32,"tag":75,"props":5986,"children":5987},{"style":94},[5988],{"type":38,"value":470},{"type":32,"tag":75,"props":5990,"children":5991},{"style":94},[5992],{"type":38,"value":475},{"type":32,"tag":75,"props":5994,"children":5996},{"class":77,"line":5995},7,[5997,6002,6006,6010,6014,6018,6022,6026,6030,6034,6038,6042,6046,6050,6054,6058,6062],{"type":32,"tag":75,"props":5998,"children":5999},{"style":439},[6000],{"type":38,"value":6001},"        ret",{"type":32,"tag":75,"props":6003,"children":6004},{"style":94},[6005],{"type":38,"value":582},{"type":32,"tag":75,"props":6007,"children":6008},{"style":88},[6009],{"type":38,"value":5972},{"type":32,"tag":75,"props":6011,"children":6012},{"style":94},[6013],{"type":38,"value":608},{"type":32,"tag":75,"props":6015,"children":6016},{"style":156},[6017],{"type":38,"value":498},{"type":32,"tag":75,"props":6019,"children":6020},{"style":94},[6021],{"type":38,"value":531},{"type":32,"tag":75,"props":6023,"children":6024},{"style":82},[6025],{"type":38,"value":85},{"type":32,"tag":75,"props":6027,"children":6028},{"style":88},[6029],{"type":38,"value":91},{"type":32,"tag":75,"props":6031,"children":6032},{"style":156},[6033],{"type":38,"value":446},{"type":32,"tag":75,"props":6035,"children":6036},{"style":94},[6037],{"type":38,"value":470},{"type":32,"tag":75,"props":6039,"children":6040},{"style":242},[6041],{"type":38,"value":549},{"type":32,"tag":75,"props":6043,"children":6044},{"style":94},[6045],{"type":38,"value":432},{"type":32,"tag":75,"props":6047,"children":6048},{"style":156},[6049],{"type":38,"value":5687},{"type":32,"tag":75,"props":6051,"children":6052},{"style":94},[6053],{"type":38,"value":432},{"type":32,"tag":75,"props":6055,"children":6056},{"style":82},[6057],{"type":38,"value":85},{"type":32,"tag":75,"props":6059,"children":6060},{"style":88},[6061],{"type":38,"value":5490},{"type":32,"tag":75,"props":6063,"children":6064},{"style":94},[6065],{"type":38,"value":2806},{"type":32,"tag":75,"props":6067,"children":6069},{"class":77,"line":6068},8,[6070,6075,6079,6084,6088,6092,6096,6100],{"type":32,"tag":75,"props":6071,"children":6072},{"style":242},[6073],{"type":38,"value":6074},"        strbuf_init",{"type":32,"tag":75,"props":6076,"children":6077},{"style":94},[6078],{"type":38,"value":432},{"type":32,"tag":75,"props":6080,"children":6081},{"style":439},[6082],{"type":38,"value":6083},"ret",{"type":32,"tag":75,"props":6085,"children":6086},{"style":94},[6087],{"type":38,"value":582},{"type":32,"tag":75,"props":6089,"children":6090},{"style":88},[6091],{"type":38,"value":5972},{"type":32,"tag":75,"props":6093,"children":6094},{"style":94},[6095],{"type":38,"value":5764},{"type":32,"tag":75,"props":6097,"children":6098},{"style":276},[6099],{"type":38,"value":603},{"type":32,"tag":75,"props":6101,"children":6102},{"style":94},[6103],{"type":38,"value":562},{"type":32,"tag":75,"props":6105,"children":6107},{"class":77,"line":6106},9,[6108,6113,6117,6121,6125,6129,6133,6138],{"type":32,"tag":75,"props":6109,"children":6110},{"style":242},[6111],{"type":38,"value":6112},"        strbuf_addstr",{"type":32,"tag":75,"props":6114,"children":6115},{"style":94},[6116],{"type":38,"value":432},{"type":32,"tag":75,"props":6118,"children":6119},{"style":439},[6120],{"type":38,"value":6083},{"type":32,"tag":75,"props":6122,"children":6123},{"style":94},[6124],{"type":38,"value":582},{"type":32,"tag":75,"props":6126,"children":6127},{"style":88},[6128],{"type":38,"value":5972},{"type":32,"tag":75,"props":6130,"children":6131},{"style":94},[6132],{"type":38,"value":5764},{"type":32,"tag":75,"props":6134,"children":6135},{"style":88},[6136],{"type":38,"value":6137}," token",{"type":32,"tag":75,"props":6139,"children":6140},{"style":94},[6141],{"type":38,"value":562},{"type":32,"tag":75,"props":6143,"children":6145},{"class":77,"line":6144},10,[6146,6151,6155,6159,6163,6167,6171,6175],{"type":32,"tag":75,"props":6147,"children":6148},{"style":88},[6149],{"type":38,"value":6150},"        token ",{"type":32,"tag":75,"props":6152,"children":6153},{"style":156},[6154],{"type":38,"value":1186},{"type":32,"tag":75,"props":6156,"children":6157},{"style":242},[6158],{"type":38,"value":5875},{"type":32,"tag":75,"props":6160,"children":6161},{"style":94},[6162],{"type":38,"value":432},{"type":32,"tag":75,"props":6164,"children":6165},{"style":1032},[6166],{"type":38,"value":5500},{"type":32,"tag":75,"props":6168,"children":6169},{"style":94},[6170],{"type":38,"value":456},{"type":32,"tag":75,"props":6172,"children":6173},{"style":88},[6174],{"type":38,"value":5769},{"type":32,"tag":75,"props":6176,"children":6177},{"style":94},[6178],{"type":38,"value":562},{"type":32,"tag":75,"props":6180,"children":6182},{"class":77,"line":6181},11,[6183],{"type":32,"tag":75,"props":6184,"children":6185},{"style":94},[6186],{"type":38,"value":6187},"    }\n",{"type":32,"tag":75,"props":6189,"children":6191},{"class":77,"line":6190},12,[6192,6196,6200],{"type":32,"tag":75,"props":6193,"children":6194},{"style":82},[6195],{"type":38,"value":1431},{"type":32,"tag":75,"props":6197,"children":6198},{"style":88},[6199],{"type":38,"value":5959},{"type":32,"tag":75,"props":6201,"children":6202},{"style":94},[6203],{"type":38,"value":507},{"type":32,"tag":75,"props":6205,"children":6207},{"class":77,"line":6206},13,[6208],{"type":32,"tag":75,"props":6209,"children":6210},{"style":94},[6211],{"type":38,"value":641},{"type":32,"tag":44,"props":6213,"children":6214},{},[6215],{"type":38,"value":6216},"后来，则标记字串的起始位置和结束位置，通过循环来逐字符判断，满足条件则切割，循环完毕即输出。",{"type":32,"tag":64,"props":6218,"children":6220},{"className":66,"code":6219,"language":68,"meta":7,"style":7},"struct strbuf **strbuf_split_buf(const char *str, size_t len, int terminator, int max) {\n    struct strbuf **ret = (struct strbuf **) malloc(sizeof(struct strbuf *) * (max + 1));\n    for (int pos = 0, flag = 0, n = 0; pos \u003C= len && n \u003C max; pos++) {\n        while (str[flag] == terminator) pos = flag++ + 2;\n        if (pos == len || pos > flag && str[pos] == terminator) {\n            ret[n] = (struct strbuf *) malloc(sizeof(struct strbuf));\n            strbuf_init(ret[n], 0);\n            strbuf_add(ret[n], str + flag, pos - flag);\n            // printf(\"[%d]: %s (%d~%d, %d)\\n\", n, ret[n]->buf, flag, pos, pos - flag);\n            while (str[pos] == terminator) flag = pos++;\n            ret[++n] = NULL;\n        }\n    }\n    return ret;\n}\n",[6221],{"type":32,"tag":71,"props":6222,"children":6223},{"__ignoreMap":7},[6224,6307,6406,6520,6591,6670,6743,6779,6840,6848,6908,6943,6951,6958,6974],{"type":32,"tag":75,"props":6225,"children":6226},{"class":77,"line":78},[6227,6231,6235,6239,6243,6247,6251,6255,6259,6263,6267,6271,6275,6279,6283,6287,6291,6295,6299,6303],{"type":32,"tag":75,"props":6228,"children":6229},{"style":82},[6230],{"type":38,"value":85},{"type":32,"tag":75,"props":6232,"children":6233},{"style":88},[6234],{"type":38,"value":91},{"type":32,"tag":75,"props":6236,"children":6237},{"style":156},[6238],{"type":38,"value":5560},{"type":32,"tag":75,"props":6240,"children":6241},{"style":242},[6242],{"type":38,"value":5430},{"type":32,"tag":75,"props":6244,"children":6245},{"style":94},[6246],{"type":38,"value":432},{"type":32,"tag":75,"props":6248,"children":6249},{"style":82},[6250],{"type":38,"value":1565},{"type":32,"tag":75,"props":6252,"children":6253},{"style":82},[6254],{"type":38,"value":2744},{"type":32,"tag":75,"props":6256,"children":6257},{"style":156},[6258],{"type":38,"value":159},{"type":32,"tag":75,"props":6260,"children":6261},{"style":449},[6262],{"type":38,"value":760},{"type":32,"tag":75,"props":6264,"children":6265},{"style":94},[6266],{"type":38,"value":456},{"type":32,"tag":75,"props":6268,"children":6269},{"style":82},[6270],{"type":38,"value":461},{"type":32,"tag":75,"props":6272,"children":6273},{"style":449},[6274],{"type":38,"value":111},{"type":32,"tag":75,"props":6276,"children":6277},{"style":94},[6278],{"type":38,"value":456},{"type":32,"tag":75,"props":6280,"children":6281},{"style":82},[6282],{"type":38,"value":2565},{"type":32,"tag":75,"props":6284,"children":6285},{"style":449},[6286],{"type":38,"value":5609},{"type":32,"tag":75,"props":6288,"children":6289},{"style":94},[6290],{"type":38,"value":456},{"type":32,"tag":75,"props":6292,"children":6293},{"style":82},[6294],{"type":38,"value":2565},{"type":32,"tag":75,"props":6296,"children":6297},{"style":449},[6298],{"type":38,"value":5622},{"type":32,"tag":75,"props":6300,"children":6301},{"style":94},[6302],{"type":38,"value":470},{"type":32,"tag":75,"props":6304,"children":6305},{"style":94},[6306],{"type":38,"value":475},{"type":32,"tag":75,"props":6308,"children":6309},{"class":77,"line":100},[6310,6314,6318,6322,6326,6330,6334,6338,6342,6346,6350,6354,6358,6362,6366,6370,6374,6378,6382,6386,6390,6394,6398,6402],{"type":32,"tag":75,"props":6311,"children":6312},{"style":82},[6313],{"type":38,"value":1176},{"type":32,"tag":75,"props":6315,"children":6316},{"style":88},[6317],{"type":38,"value":91},{"type":32,"tag":75,"props":6319,"children":6320},{"style":156},[6321],{"type":38,"value":5560},{"type":32,"tag":75,"props":6323,"children":6324},{"style":88},[6325],{"type":38,"value":5650},{"type":32,"tag":75,"props":6327,"children":6328},{"style":156},[6329],{"type":38,"value":1186},{"type":32,"tag":75,"props":6331,"children":6332},{"style":94},[6333],{"type":38,"value":531},{"type":32,"tag":75,"props":6335,"children":6336},{"style":82},[6337],{"type":38,"value":85},{"type":32,"tag":75,"props":6339,"children":6340},{"style":88},[6341],{"type":38,"value":91},{"type":32,"tag":75,"props":6343,"children":6344},{"style":156},[6345],{"type":38,"value":5560},{"type":32,"tag":75,"props":6347,"children":6348},{"style":94},[6349],{"type":38,"value":470},{"type":32,"tag":75,"props":6351,"children":6352},{"style":242},[6353],{"type":38,"value":549},{"type":32,"tag":75,"props":6355,"children":6356},{"style":94},[6357],{"type":38,"value":432},{"type":32,"tag":75,"props":6359,"children":6360},{"style":156},[6361],{"type":38,"value":5687},{"type":32,"tag":75,"props":6363,"children":6364},{"style":94},[6365],{"type":38,"value":432},{"type":32,"tag":75,"props":6367,"children":6368},{"style":82},[6369],{"type":38,"value":85},{"type":32,"tag":75,"props":6371,"children":6372},{"style":88},[6373],{"type":38,"value":91},{"type":32,"tag":75,"props":6375,"children":6376},{"style":156},[6377],{"type":38,"value":446},{"type":32,"tag":75,"props":6379,"children":6380},{"style":94},[6381],{"type":38,"value":470},{"type":32,"tag":75,"props":6383,"children":6384},{"style":156},[6385],{"type":38,"value":159},{"type":32,"tag":75,"props":6387,"children":6388},{"style":94},[6389],{"type":38,"value":531},{"type":32,"tag":75,"props":6391,"children":6392},{"style":88},[6393],{"type":38,"value":5720},{"type":32,"tag":75,"props":6395,"children":6396},{"style":156},[6397],{"type":38,"value":2332},{"type":32,"tag":75,"props":6399,"children":6400},{"style":276},[6401],{"type":38,"value":2337},{"type":32,"tag":75,"props":6403,"children":6404},{"style":94},[6405],{"type":38,"value":2806},{"type":32,"tag":75,"props":6407,"children":6408},{"class":77,"line":125},[6409,6413,6417,6421,6425,6429,6433,6437,6442,6446,6450,6454,6459,6463,6467,6471,6475,6480,6484,6488,6492,6496,6500,6504,6508,6512,6516],{"type":32,"tag":75,"props":6410,"children":6411},{"style":82},[6412],{"type":38,"value":5002},{"type":32,"tag":75,"props":6414,"children":6415},{"style":94},[6416],{"type":38,"value":531},{"type":32,"tag":75,"props":6418,"children":6419},{"style":82},[6420],{"type":38,"value":1551},{"type":32,"tag":75,"props":6422,"children":6423},{"style":88},[6424],{"type":38,"value":3656},{"type":32,"tag":75,"props":6426,"children":6427},{"style":156},[6428],{"type":38,"value":1186},{"type":32,"tag":75,"props":6430,"children":6431},{"style":276},[6432],{"type":38,"value":603},{"type":32,"tag":75,"props":6434,"children":6435},{"style":94},[6436],{"type":38,"value":456},{"type":32,"tag":75,"props":6438,"children":6439},{"style":88},[6440],{"type":38,"value":6441}," flag ",{"type":32,"tag":75,"props":6443,"children":6444},{"style":156},[6445],{"type":38,"value":1186},{"type":32,"tag":75,"props":6447,"children":6448},{"style":276},[6449],{"type":38,"value":603},{"type":32,"tag":75,"props":6451,"children":6452},{"style":94},[6453],{"type":38,"value":456},{"type":32,"tag":75,"props":6455,"children":6456},{"style":88},[6457],{"type":38,"value":6458}," n ",{"type":32,"tag":75,"props":6460,"children":6461},{"style":156},[6462],{"type":38,"value":1186},{"type":32,"tag":75,"props":6464,"children":6465},{"style":276},[6466],{"type":38,"value":603},{"type":32,"tag":75,"props":6468,"children":6469},{"style":94},[6470],{"type":38,"value":116},{"type":32,"tag":75,"props":6472,"children":6473},{"style":88},[6474],{"type":38,"value":3656},{"type":32,"tag":75,"props":6476,"children":6477},{"style":156},[6478],{"type":38,"value":6479},"\u003C=",{"type":32,"tag":75,"props":6481,"children":6482},{"style":88},[6483],{"type":38,"value":2327},{"type":32,"tag":75,"props":6485,"children":6486},{"style":1657},[6487],{"type":38,"value":5937},{"type":32,"tag":75,"props":6489,"children":6490},{"style":88},[6491],{"type":38,"value":6458},{"type":32,"tag":75,"props":6493,"children":6494},{"style":156},[6495],{"type":38,"value":5946},{"type":32,"tag":75,"props":6497,"children":6498},{"style":88},[6499],{"type":38,"value":5622},{"type":32,"tag":75,"props":6501,"children":6502},{"style":94},[6503],{"type":38,"value":116},{"type":32,"tag":75,"props":6505,"children":6506},{"style":88},[6507],{"type":38,"value":3539},{"type":32,"tag":75,"props":6509,"children":6510},{"style":156},[6511],{"type":38,"value":4321},{"type":32,"tag":75,"props":6513,"children":6514},{"style":94},[6515],{"type":38,"value":470},{"type":32,"tag":75,"props":6517,"children":6518},{"style":94},[6519],{"type":38,"value":475},{"type":32,"tag":75,"props":6521,"children":6522},{"class":77,"line":147},[6523,6528,6532,6536,6540,6545,6549,6553,6557,6561,6565,6569,6574,6578,6582,6587],{"type":32,"tag":75,"props":6524,"children":6525},{"style":82},[6526],{"type":38,"value":6527},"        while",{"type":32,"tag":75,"props":6529,"children":6530},{"style":94},[6531],{"type":38,"value":531},{"type":32,"tag":75,"props":6533,"children":6534},{"style":439},[6535],{"type":38,"value":760},{"type":32,"tag":75,"props":6537,"children":6538},{"style":94},[6539],{"type":38,"value":582},{"type":32,"tag":75,"props":6541,"children":6542},{"style":88},[6543],{"type":38,"value":6544},"flag",{"type":32,"tag":75,"props":6546,"children":6547},{"style":94},[6548],{"type":38,"value":608},{"type":32,"tag":75,"props":6550,"children":6551},{"style":156},[6552],{"type":38,"value":3955},{"type":32,"tag":75,"props":6554,"children":6555},{"style":88},[6556],{"type":38,"value":5609},{"type":32,"tag":75,"props":6558,"children":6559},{"style":94},[6560],{"type":38,"value":470},{"type":32,"tag":75,"props":6562,"children":6563},{"style":88},[6564],{"type":38,"value":3656},{"type":32,"tag":75,"props":6566,"children":6567},{"style":156},[6568],{"type":38,"value":1186},{"type":32,"tag":75,"props":6570,"children":6571},{"style":88},[6572],{"type":38,"value":6573}," flag",{"type":32,"tag":75,"props":6575,"children":6576},{"style":156},[6577],{"type":38,"value":4321},{"type":32,"tag":75,"props":6579,"children":6580},{"style":156},[6581],{"type":38,"value":2370},{"type":32,"tag":75,"props":6583,"children":6584},{"style":276},[6585],{"type":38,"value":6586}," 2",{"type":32,"tag":75,"props":6588,"children":6589},{"style":94},[6590],{"type":38,"value":507},{"type":32,"tag":75,"props":6592,"children":6593},{"class":77,"line":176},[6594,6599,6603,6608,6613,6617,6622,6626,6630,6634,6638,6642,6646,6650,6654,6658,6662,6666],{"type":32,"tag":75,"props":6595,"children":6596},{"style":82},[6597],{"type":38,"value":6598},"        if",{"type":32,"tag":75,"props":6600,"children":6601},{"style":94},[6602],{"type":38,"value":531},{"type":32,"tag":75,"props":6604,"children":6605},{"style":88},[6606],{"type":38,"value":6607},"pos ",{"type":32,"tag":75,"props":6609,"children":6610},{"style":156},[6611],{"type":38,"value":6612},"==",{"type":32,"tag":75,"props":6614,"children":6615},{"style":88},[6616],{"type":38,"value":2327},{"type":32,"tag":75,"props":6618,"children":6619},{"style":1657},[6620],{"type":38,"value":6621},"||",{"type":32,"tag":75,"props":6623,"children":6624},{"style":88},[6625],{"type":38,"value":3656},{"type":32,"tag":75,"props":6627,"children":6628},{"style":156},[6629],{"type":38,"value":3124},{"type":32,"tag":75,"props":6631,"children":6632},{"style":88},[6633],{"type":38,"value":6441},{"type":32,"tag":75,"props":6635,"children":6636},{"style":1657},[6637],{"type":38,"value":5937},{"type":32,"tag":75,"props":6639,"children":6640},{"style":439},[6641],{"type":38,"value":886},{"type":32,"tag":75,"props":6643,"children":6644},{"style":94},[6645],{"type":38,"value":582},{"type":32,"tag":75,"props":6647,"children":6648},{"style":88},[6649],{"type":38,"value":3441},{"type":32,"tag":75,"props":6651,"children":6652},{"style":94},[6653],{"type":38,"value":608},{"type":32,"tag":75,"props":6655,"children":6656},{"style":156},[6657],{"type":38,"value":3955},{"type":32,"tag":75,"props":6659,"children":6660},{"style":88},[6661],{"type":38,"value":5609},{"type":32,"tag":75,"props":6663,"children":6664},{"style":94},[6665],{"type":38,"value":470},{"type":32,"tag":75,"props":6667,"children":6668},{"style":94},[6669],{"type":38,"value":475},{"type":32,"tag":75,"props":6671,"children":6672},{"class":77,"line":5115},[6673,6678,6682,6687,6691,6695,6699,6703,6707,6711,6715,6719,6723,6727,6731,6735,6739],{"type":32,"tag":75,"props":6674,"children":6675},{"style":439},[6676],{"type":38,"value":6677},"            ret",{"type":32,"tag":75,"props":6679,"children":6680},{"style":94},[6681],{"type":38,"value":582},{"type":32,"tag":75,"props":6683,"children":6684},{"style":88},[6685],{"type":38,"value":6686},"n",{"type":32,"tag":75,"props":6688,"children":6689},{"style":94},[6690],{"type":38,"value":608},{"type":32,"tag":75,"props":6692,"children":6693},{"style":156},[6694],{"type":38,"value":498},{"type":32,"tag":75,"props":6696,"children":6697},{"style":94},[6698],{"type":38,"value":531},{"type":32,"tag":75,"props":6700,"children":6701},{"style":82},[6702],{"type":38,"value":85},{"type":32,"tag":75,"props":6704,"children":6705},{"style":88},[6706],{"type":38,"value":91},{"type":32,"tag":75,"props":6708,"children":6709},{"style":156},[6710],{"type":38,"value":446},{"type":32,"tag":75,"props":6712,"children":6713},{"style":94},[6714],{"type":38,"value":470},{"type":32,"tag":75,"props":6716,"children":6717},{"style":242},[6718],{"type":38,"value":549},{"type":32,"tag":75,"props":6720,"children":6721},{"style":94},[6722],{"type":38,"value":432},{"type":32,"tag":75,"props":6724,"children":6725},{"style":156},[6726],{"type":38,"value":5687},{"type":32,"tag":75,"props":6728,"children":6729},{"style":94},[6730],{"type":38,"value":432},{"type":32,"tag":75,"props":6732,"children":6733},{"style":82},[6734],{"type":38,"value":85},{"type":32,"tag":75,"props":6736,"children":6737},{"style":88},[6738],{"type":38,"value":5490},{"type":32,"tag":75,"props":6740,"children":6741},{"style":94},[6742],{"type":38,"value":2806},{"type":32,"tag":75,"props":6744,"children":6745},{"class":77,"line":5995},[6746,6751,6755,6759,6763,6767,6771,6775],{"type":32,"tag":75,"props":6747,"children":6748},{"style":242},[6749],{"type":38,"value":6750},"            strbuf_init",{"type":32,"tag":75,"props":6752,"children":6753},{"style":94},[6754],{"type":38,"value":432},{"type":32,"tag":75,"props":6756,"children":6757},{"style":439},[6758],{"type":38,"value":6083},{"type":32,"tag":75,"props":6760,"children":6761},{"style":94},[6762],{"type":38,"value":582},{"type":32,"tag":75,"props":6764,"children":6765},{"style":88},[6766],{"type":38,"value":6686},{"type":32,"tag":75,"props":6768,"children":6769},{"style":94},[6770],{"type":38,"value":5764},{"type":32,"tag":75,"props":6772,"children":6773},{"style":276},[6774],{"type":38,"value":603},{"type":32,"tag":75,"props":6776,"children":6777},{"style":94},[6778],{"type":38,"value":562},{"type":32,"tag":75,"props":6780,"children":6781},{"class":77,"line":6068},[6782,6787,6791,6795,6799,6803,6807,6812,6816,6820,6824,6828,6832,6836],{"type":32,"tag":75,"props":6783,"children":6784},{"style":242},[6785],{"type":38,"value":6786},"            strbuf_add",{"type":32,"tag":75,"props":6788,"children":6789},{"style":94},[6790],{"type":38,"value":432},{"type":32,"tag":75,"props":6792,"children":6793},{"style":439},[6794],{"type":38,"value":6083},{"type":32,"tag":75,"props":6796,"children":6797},{"style":94},[6798],{"type":38,"value":582},{"type":32,"tag":75,"props":6800,"children":6801},{"style":88},[6802],{"type":38,"value":6686},{"type":32,"tag":75,"props":6804,"children":6805},{"style":94},[6806],{"type":38,"value":5764},{"type":32,"tag":75,"props":6808,"children":6809},{"style":88},[6810],{"type":38,"value":6811}," str ",{"type":32,"tag":75,"props":6813,"children":6814},{"style":156},[6815],{"type":38,"value":2332},{"type":32,"tag":75,"props":6817,"children":6818},{"style":88},[6819],{"type":38,"value":6573},{"type":32,"tag":75,"props":6821,"children":6822},{"style":94},[6823],{"type":38,"value":456},{"type":32,"tag":75,"props":6825,"children":6826},{"style":88},[6827],{"type":38,"value":3656},{"type":32,"tag":75,"props":6829,"children":6830},{"style":156},[6831],{"type":38,"value":3165},{"type":32,"tag":75,"props":6833,"children":6834},{"style":88},[6835],{"type":38,"value":6573},{"type":32,"tag":75,"props":6837,"children":6838},{"style":94},[6839],{"type":38,"value":562},{"type":32,"tag":75,"props":6841,"children":6842},{"class":77,"line":6106},[6843],{"type":32,"tag":75,"props":6844,"children":6845},{"style":119},[6846],{"type":38,"value":6847},"            // printf(\"[%d]: %s (%d~%d, %d)\\n\", n, ret[n]->buf, flag, pos, pos - flag);\n",{"type":32,"tag":75,"props":6849,"children":6850},{"class":77,"line":6144},[6851,6856,6860,6864,6868,6872,6876,6880,6884,6888,6892,6896,6900,6904],{"type":32,"tag":75,"props":6852,"children":6853},{"style":82},[6854],{"type":38,"value":6855},"            while",{"type":32,"tag":75,"props":6857,"children":6858},{"style":94},[6859],{"type":38,"value":531},{"type":32,"tag":75,"props":6861,"children":6862},{"style":439},[6863],{"type":38,"value":760},{"type":32,"tag":75,"props":6865,"children":6866},{"style":94},[6867],{"type":38,"value":582},{"type":32,"tag":75,"props":6869,"children":6870},{"style":88},[6871],{"type":38,"value":3441},{"type":32,"tag":75,"props":6873,"children":6874},{"style":94},[6875],{"type":38,"value":608},{"type":32,"tag":75,"props":6877,"children":6878},{"style":156},[6879],{"type":38,"value":3955},{"type":32,"tag":75,"props":6881,"children":6882},{"style":88},[6883],{"type":38,"value":5609},{"type":32,"tag":75,"props":6885,"children":6886},{"style":94},[6887],{"type":38,"value":470},{"type":32,"tag":75,"props":6889,"children":6890},{"style":88},[6891],{"type":38,"value":6441},{"type":32,"tag":75,"props":6893,"children":6894},{"style":156},[6895],{"type":38,"value":1186},{"type":32,"tag":75,"props":6897,"children":6898},{"style":88},[6899],{"type":38,"value":3539},{"type":32,"tag":75,"props":6901,"children":6902},{"style":156},[6903],{"type":38,"value":4321},{"type":32,"tag":75,"props":6905,"children":6906},{"style":94},[6907],{"type":38,"value":507},{"type":32,"tag":75,"props":6909,"children":6910},{"class":77,"line":6181},[6911,6915,6919,6923,6927,6931,6935,6939],{"type":32,"tag":75,"props":6912,"children":6913},{"style":439},[6914],{"type":38,"value":6677},{"type":32,"tag":75,"props":6916,"children":6917},{"style":94},[6918],{"type":38,"value":582},{"type":32,"tag":75,"props":6920,"children":6921},{"style":156},[6922],{"type":38,"value":4321},{"type":32,"tag":75,"props":6924,"children":6925},{"style":88},[6926],{"type":38,"value":6686},{"type":32,"tag":75,"props":6928,"children":6929},{"style":94},[6930],{"type":38,"value":608},{"type":32,"tag":75,"props":6932,"children":6933},{"style":156},[6934],{"type":38,"value":498},{"type":32,"tag":75,"props":6936,"children":6937},{"style":1032},[6938],{"type":38,"value":1035},{"type":32,"tag":75,"props":6940,"children":6941},{"style":94},[6942],{"type":38,"value":507},{"type":32,"tag":75,"props":6944,"children":6945},{"class":77,"line":6190},[6946],{"type":32,"tag":75,"props":6947,"children":6948},{"style":94},[6949],{"type":38,"value":6950},"        }\n",{"type":32,"tag":75,"props":6952,"children":6953},{"class":77,"line":6206},[6954],{"type":32,"tag":75,"props":6955,"children":6956},{"style":94},[6957],{"type":38,"value":6187},{"type":32,"tag":75,"props":6959,"children":6961},{"class":77,"line":6960},14,[6962,6966,6970],{"type":32,"tag":75,"props":6963,"children":6964},{"style":82},[6965],{"type":38,"value":1431},{"type":32,"tag":75,"props":6967,"children":6968},{"style":88},[6969],{"type":38,"value":5959},{"type":32,"tag":75,"props":6971,"children":6972},{"style":94},[6973],{"type":38,"value":507},{"type":32,"tag":75,"props":6975,"children":6977},{"class":77,"line":6976},15,[6978],{"type":32,"tag":75,"props":6979,"children":6980},{"style":94},[6981],{"type":38,"value":641},{"type":32,"tag":40,"props":6983,"children":6984},{},[6985],{"type":32,"tag":44,"props":6986,"children":6987},{},[6988],{"type":38,"value":6989},"2.实现判断一个strbuf是否以指定字符串开头的功能（C系字符串函数的另一个痛点）。",{"type":32,"tag":362,"props":6991,"children":6993},{"id":6992},"strbuf_begin_judge",[6994],{"type":32,"tag":71,"props":6995,"children":6996},{"className":66,"language":68,"style":7},[6997,7001],{"type":32,"tag":75,"props":6998,"children":6999},{"style":242},[7000],{"type":38,"value":6992},{"type":32,"tag":75,"props":7002,"children":7003},{"style":94},[7004],{"type":38,"value":250},{"type":32,"tag":40,"props":7006,"children":7007},{},[7008],{"type":32,"tag":44,"props":7009,"children":7010},{},[7011],{"type":38,"value":7012},"target_str：目标字符串，str：前缀字符串，strlen：target_str长度，前缀相同返回true失败返回false",{"type":32,"tag":44,"props":7014,"children":7015},{},[7016,7018,7026,7028,7040,7042,7049,7051,7058,7060,7068],{"type":38,"value":7017},"前缀字符串为空则返回",{"type":32,"tag":71,"props":7019,"children":7020},{"className":66,"language":68,"style":7},[7021],{"type":32,"tag":75,"props":7022,"children":7023},{"style":1032},[7024],{"type":38,"value":7025},"true",{"type":38,"value":7027},"，否则使用",{"type":32,"tag":71,"props":7029,"children":7030},{"className":66,"language":68,"style":7},[7031,7036],{"type":32,"tag":75,"props":7032,"children":7033},{"style":242},[7034],{"type":38,"value":7035},"strncmp",{"type":32,"tag":75,"props":7037,"children":7038},{"style":94},[7039],{"type":38,"value":250},{"type":38,"value":7041},"对比目标字符串的前",{"type":32,"tag":71,"props":7043,"children":7044},{"className":66,"language":68,"style":7},[7045],{"type":32,"tag":75,"props":7046,"children":7047},{"style":88},[7048],{"type":38,"value":2679},{"type":38,"value":7050},"字节是否与前缀字符串相同，如果相同结果为0返回",{"type":32,"tag":71,"props":7052,"children":7053},{"className":66,"language":68,"style":7},[7054],{"type":32,"tag":75,"props":7055,"children":7056},{"style":1032},[7057],{"type":38,"value":7025},{"type":38,"value":7059},"，否则返回",{"type":32,"tag":71,"props":7061,"children":7062},{"className":66,"language":68,"style":7},[7063],{"type":32,"tag":75,"props":7064,"children":7065},{"style":1032},[7066],{"type":38,"value":7067},"false",{"type":38,"value":402},{"type":32,"tag":64,"props":7070,"children":7072},{"className":66,"code":7071,"language":68,"meta":7,"style":7},"bool strbuf_begin_judge(char *target_str, const char *str, int strnlen) {\n    return str == NULL || !strncmp(target_str, str, strlen(str));\n}\n",[7073],{"type":32,"tag":71,"props":7074,"children":7075},{"__ignoreMap":7},[7076,7147,7215],{"type":32,"tag":75,"props":7077,"children":7078},{"class":77,"line":78},[7079,7084,7089,7093,7097,7101,7106,7110,7114,7118,7122,7126,7130,7134,7139,7143],{"type":32,"tag":75,"props":7080,"children":7081},{"style":82},[7082],{"type":38,"value":7083},"bool",{"type":32,"tag":75,"props":7085,"children":7086},{"style":242},[7087],{"type":38,"value":7088}," strbuf_begin_judge",{"type":32,"tag":75,"props":7090,"children":7091},{"style":94},[7092],{"type":38,"value":432},{"type":32,"tag":75,"props":7094,"children":7095},{"style":82},[7096],{"type":38,"value":536},{"type":32,"tag":75,"props":7098,"children":7099},{"style":156},[7100],{"type":38,"value":159},{"type":32,"tag":75,"props":7102,"children":7103},{"style":449},[7104],{"type":38,"value":7105},"target_str",{"type":32,"tag":75,"props":7107,"children":7108},{"style":94},[7109],{"type":38,"value":456},{"type":32,"tag":75,"props":7111,"children":7112},{"style":82},[7113],{"type":38,"value":1591},{"type":32,"tag":75,"props":7115,"children":7116},{"style":82},[7117],{"type":38,"value":2744},{"type":32,"tag":75,"props":7119,"children":7120},{"style":156},[7121],{"type":38,"value":159},{"type":32,"tag":75,"props":7123,"children":7124},{"style":449},[7125],{"type":38,"value":760},{"type":32,"tag":75,"props":7127,"children":7128},{"style":94},[7129],{"type":38,"value":456},{"type":32,"tag":75,"props":7131,"children":7132},{"style":82},[7133],{"type":38,"value":2565},{"type":32,"tag":75,"props":7135,"children":7136},{"style":449},[7137],{"type":38,"value":7138}," strnlen",{"type":32,"tag":75,"props":7140,"children":7141},{"style":94},[7142],{"type":38,"value":470},{"type":32,"tag":75,"props":7144,"children":7145},{"style":94},[7146],{"type":38,"value":475},{"type":32,"tag":75,"props":7148,"children":7149},{"class":77,"line":100},[7150,7154,7158,7162,7166,7170,7175,7179,7183,7187,7191,7195,7199,7203,7207,7211],{"type":32,"tag":75,"props":7151,"children":7152},{"style":82},[7153],{"type":38,"value":1431},{"type":32,"tag":75,"props":7155,"children":7156},{"style":88},[7157],{"type":38,"value":6811},{"type":32,"tag":75,"props":7159,"children":7160},{"style":156},[7161],{"type":38,"value":6612},{"type":32,"tag":75,"props":7163,"children":7164},{"style":1032},[7165],{"type":38,"value":1035},{"type":32,"tag":75,"props":7167,"children":7168},{"style":1657},[7169],{"type":38,"value":1660},{"type":32,"tag":75,"props":7171,"children":7172},{"style":1657},[7173],{"type":38,"value":7174}," !",{"type":32,"tag":75,"props":7176,"children":7177},{"style":242},[7178],{"type":38,"value":7035},{"type":32,"tag":75,"props":7180,"children":7181},{"style":94},[7182],{"type":38,"value":432},{"type":32,"tag":75,"props":7184,"children":7185},{"style":88},[7186],{"type":38,"value":7105},{"type":32,"tag":75,"props":7188,"children":7189},{"style":94},[7190],{"type":38,"value":456},{"type":32,"tag":75,"props":7192,"children":7193},{"style":88},[7194],{"type":38,"value":886},{"type":32,"tag":75,"props":7196,"children":7197},{"style":94},[7198],{"type":38,"value":456},{"type":32,"tag":75,"props":7200,"children":7201},{"style":242},[7202],{"type":38,"value":2793},{"type":32,"tag":75,"props":7204,"children":7205},{"style":94},[7206],{"type":38,"value":432},{"type":32,"tag":75,"props":7208,"children":7209},{"style":88},[7210],{"type":38,"value":760},{"type":32,"tag":75,"props":7212,"children":7213},{"style":94},[7214],{"type":38,"value":2806},{"type":32,"tag":75,"props":7216,"children":7217},{"class":77,"line":125},[7218],{"type":32,"tag":75,"props":7219,"children":7220},{"style":94},[7221],{"type":38,"value":641},{"type":32,"tag":40,"props":7223,"children":7224},{},[7225],{"type":32,"tag":44,"props":7226,"children":7227},{},[7228,7230,7251],{"type":38,"value":7229},"3.获取字符串从坐标",{"type":32,"tag":71,"props":7231,"children":7232},{"className":66,"language":68,"style":7},[7233,7237,7242,7246],{"type":32,"tag":75,"props":7234,"children":7235},{"style":94},[7236],{"type":38,"value":582},{"type":32,"tag":75,"props":7238,"children":7239},{"style":88},[7240],{"type":38,"value":7241},"begin",{"type":32,"tag":75,"props":7243,"children":7244},{"style":94},[7245],{"type":38,"value":456},{"type":32,"tag":75,"props":7247,"children":7248},{"style":88},[7249],{"type":38,"value":7250}," end)",{"type":38,"value":7252},"的所有内容（可以分成引用和拷贝两个模式）。",{"type":32,"tag":362,"props":7254,"children":7256},{"id":7255},"strbuf_get_mid_buf",[7257],{"type":32,"tag":71,"props":7258,"children":7259},{"className":66,"language":68,"style":7},[7260,7264],{"type":32,"tag":75,"props":7261,"children":7262},{"style":242},[7263],{"type":38,"value":7255},{"type":32,"tag":75,"props":7265,"children":7266},{"style":94},[7267],{"type":38,"value":250},{"type":32,"tag":40,"props":7269,"children":7270},{},[7271],{"type":32,"tag":44,"props":7272,"children":7273},{},[7274],{"type":38,"value":7275},"target_str：目标字符串，begin：开始下标，end：结束下标，len：target_buf的长度。参数不合法返回NULL。下标从0开始，[begin, end)区间。",{"type":32,"tag":44,"props":7277,"children":7278},{},[7279,7281,7288],{"type":38,"value":7280},"如果参数不合法（起始大于结束、结束大于长度）返回",{"type":32,"tag":71,"props":7282,"children":7283},{"className":66,"language":68,"style":7},[7284],{"type":32,"tag":75,"props":7285,"children":7286},{"style":1032},[7287],{"type":38,"value":5500},{"type":38,"value":402},{"type":32,"tag":44,"props":7290,"children":7291},{},[7292,7294,7309],{"type":38,"value":7293},"否则为字符串申请结束下标减开始下标+1的空间，将指定位置指定长度的字符串填入，并在末尾加上字符串结束标志",{"type":32,"tag":71,"props":7295,"children":7296},{"className":66,"language":68,"style":7},[7297,7301,7305],{"type":32,"tag":75,"props":7298,"children":7299},{"style":615},[7300],{"type":38,"value":629},{"type":32,"tag":75,"props":7302,"children":7303},{"style":621},[7304],{"type":38,"value":624},{"type":32,"tag":75,"props":7306,"children":7307},{"style":615},[7308],{"type":38,"value":629},{"type":38,"value":7310},"，返回字符串。",{"type":32,"tag":64,"props":7312,"children":7314},{"className":66,"code":7313,"language":68,"meta":7,"style":7},"char *strbuf_get_mid_buf(char *target_buf, int begin, int end, int len) {\n    if (begin > end || end >= len) return NULL;\n    char *str = (char *) malloc(end - begin + 1);\n    memcpy(str, target_buf + begin, end - begin);\n    str[end - begin] = '\\0';\n    return str;\n}\n",[7315],{"type":32,"tag":71,"props":7316,"children":7317},{"__ignoreMap":7},[7318,7396,7455,7525,7577,7625,7640],{"type":32,"tag":75,"props":7319,"children":7320},{"class":77,"line":78},[7321,7325,7329,7333,7337,7341,7345,7350,7354,7358,7363,7367,7371,7376,7380,7384,7388,7392],{"type":32,"tag":75,"props":7322,"children":7323},{"style":82},[7324],{"type":38,"value":536},{"type":32,"tag":75,"props":7326,"children":7327},{"style":156},[7328],{"type":38,"value":159},{"type":32,"tag":75,"props":7330,"children":7331},{"style":242},[7332],{"type":38,"value":7255},{"type":32,"tag":75,"props":7334,"children":7335},{"style":94},[7336],{"type":38,"value":432},{"type":32,"tag":75,"props":7338,"children":7339},{"style":82},[7340],{"type":38,"value":536},{"type":32,"tag":75,"props":7342,"children":7343},{"style":156},[7344],{"type":38,"value":159},{"type":32,"tag":75,"props":7346,"children":7347},{"style":449},[7348],{"type":38,"value":7349},"target_buf",{"type":32,"tag":75,"props":7351,"children":7352},{"style":94},[7353],{"type":38,"value":456},{"type":32,"tag":75,"props":7355,"children":7356},{"style":82},[7357],{"type":38,"value":2565},{"type":32,"tag":75,"props":7359,"children":7360},{"style":449},[7361],{"type":38,"value":7362}," begin",{"type":32,"tag":75,"props":7364,"children":7365},{"style":94},[7366],{"type":38,"value":456},{"type":32,"tag":75,"props":7368,"children":7369},{"style":82},[7370],{"type":38,"value":2565},{"type":32,"tag":75,"props":7372,"children":7373},{"style":449},[7374],{"type":38,"value":7375}," end",{"type":32,"tag":75,"props":7377,"children":7378},{"style":94},[7379],{"type":38,"value":456},{"type":32,"tag":75,"props":7381,"children":7382},{"style":82},[7383],{"type":38,"value":2565},{"type":32,"tag":75,"props":7385,"children":7386},{"style":449},[7387],{"type":38,"value":111},{"type":32,"tag":75,"props":7389,"children":7390},{"style":94},[7391],{"type":38,"value":470},{"type":32,"tag":75,"props":7393,"children":7394},{"style":94},[7395],{"type":38,"value":475},{"type":32,"tag":75,"props":7397,"children":7398},{"class":77,"line":100},[7399,7403,7407,7412,7416,7421,7425,7429,7434,7438,7442,7447,7451],{"type":32,"tag":75,"props":7400,"children":7401},{"style":82},[7402],{"type":38,"value":2023},{"type":32,"tag":75,"props":7404,"children":7405},{"style":94},[7406],{"type":38,"value":531},{"type":32,"tag":75,"props":7408,"children":7409},{"style":88},[7410],{"type":38,"value":7411},"begin ",{"type":32,"tag":75,"props":7413,"children":7414},{"style":156},[7415],{"type":38,"value":3124},{"type":32,"tag":75,"props":7417,"children":7418},{"style":88},[7419],{"type":38,"value":7420}," end ",{"type":32,"tag":75,"props":7422,"children":7423},{"style":1657},[7424],{"type":38,"value":6621},{"type":32,"tag":75,"props":7426,"children":7427},{"style":88},[7428],{"type":38,"value":7420},{"type":32,"tag":75,"props":7430,"children":7431},{"style":156},[7432],{"type":38,"value":7433},">=",{"type":32,"tag":75,"props":7435,"children":7436},{"style":88},[7437],{"type":38,"value":111},{"type":32,"tag":75,"props":7439,"children":7440},{"style":94},[7441],{"type":38,"value":470},{"type":32,"tag":75,"props":7443,"children":7444},{"style":82},[7445],{"type":38,"value":7446}," return",{"type":32,"tag":75,"props":7448,"children":7449},{"style":1032},[7450],{"type":38,"value":1035},{"type":32,"tag":75,"props":7452,"children":7453},{"style":94},[7454],{"type":38,"value":507},{"type":32,"tag":75,"props":7456,"children":7457},{"class":77,"line":125},[7458,7462,7466,7471,7475,7479,7483,7487,7491,7495,7499,7504,7508,7513,7517,7521],{"type":32,"tag":75,"props":7459,"children":7460},{"style":82},[7461],{"type":38,"value":153},{"type":32,"tag":75,"props":7463,"children":7464},{"style":156},[7465],{"type":38,"value":159},{"type":32,"tag":75,"props":7467,"children":7468},{"style":88},[7469],{"type":38,"value":7470},"str ",{"type":32,"tag":75,"props":7472,"children":7473},{"style":156},[7474],{"type":38,"value":1186},{"type":32,"tag":75,"props":7476,"children":7477},{"style":94},[7478],{"type":38,"value":531},{"type":32,"tag":75,"props":7480,"children":7481},{"style":82},[7482],{"type":38,"value":536},{"type":32,"tag":75,"props":7484,"children":7485},{"style":156},[7486],{"type":38,"value":159},{"type":32,"tag":75,"props":7488,"children":7489},{"style":94},[7490],{"type":38,"value":470},{"type":32,"tag":75,"props":7492,"children":7493},{"style":242},[7494],{"type":38,"value":549},{"type":32,"tag":75,"props":7496,"children":7497},{"style":94},[7498],{"type":38,"value":432},{"type":32,"tag":75,"props":7500,"children":7501},{"style":88},[7502],{"type":38,"value":7503},"end ",{"type":32,"tag":75,"props":7505,"children":7506},{"style":156},[7507],{"type":38,"value":3165},{"type":32,"tag":75,"props":7509,"children":7510},{"style":88},[7511],{"type":38,"value":7512}," begin ",{"type":32,"tag":75,"props":7514,"children":7515},{"style":156},[7516],{"type":38,"value":2332},{"type":32,"tag":75,"props":7518,"children":7519},{"style":276},[7520],{"type":38,"value":2337},{"type":32,"tag":75,"props":7522,"children":7523},{"style":94},[7524],{"type":38,"value":562},{"type":32,"tag":75,"props":7526,"children":7527},{"class":77,"line":147},[7528,7532,7536,7540,7544,7549,7553,7557,7561,7565,7569,7573],{"type":32,"tag":75,"props":7529,"children":7530},{"style":242},[7531],{"type":38,"value":2349},{"type":32,"tag":75,"props":7533,"children":7534},{"style":94},[7535],{"type":38,"value":432},{"type":32,"tag":75,"props":7537,"children":7538},{"style":88},[7539],{"type":38,"value":760},{"type":32,"tag":75,"props":7541,"children":7542},{"style":94},[7543],{"type":38,"value":456},{"type":32,"tag":75,"props":7545,"children":7546},{"style":88},[7547],{"type":38,"value":7548}," target_buf ",{"type":32,"tag":75,"props":7550,"children":7551},{"style":156},[7552],{"type":38,"value":2332},{"type":32,"tag":75,"props":7554,"children":7555},{"style":88},[7556],{"type":38,"value":7362},{"type":32,"tag":75,"props":7558,"children":7559},{"style":94},[7560],{"type":38,"value":456},{"type":32,"tag":75,"props":7562,"children":7563},{"style":88},[7564],{"type":38,"value":7420},{"type":32,"tag":75,"props":7566,"children":7567},{"style":156},[7568],{"type":38,"value":3165},{"type":32,"tag":75,"props":7570,"children":7571},{"style":88},[7572],{"type":38,"value":7362},{"type":32,"tag":75,"props":7574,"children":7575},{"style":94},[7576],{"type":38,"value":562},{"type":32,"tag":75,"props":7578,"children":7579},{"class":77,"line":176},[7580,7585,7589,7593,7597,7601,7605,7609,7613,7617,7621],{"type":32,"tag":75,"props":7581,"children":7582},{"style":439},[7583],{"type":38,"value":7584},"    str",{"type":32,"tag":75,"props":7586,"children":7587},{"style":94},[7588],{"type":38,"value":582},{"type":32,"tag":75,"props":7590,"children":7591},{"style":88},[7592],{"type":38,"value":7503},{"type":32,"tag":75,"props":7594,"children":7595},{"style":156},[7596],{"type":38,"value":3165},{"type":32,"tag":75,"props":7598,"children":7599},{"style":88},[7600],{"type":38,"value":7362},{"type":32,"tag":75,"props":7602,"children":7603},{"style":94},[7604],{"type":38,"value":608},{"type":32,"tag":75,"props":7606,"children":7607},{"style":156},[7608],{"type":38,"value":498},{"type":32,"tag":75,"props":7610,"children":7611},{"style":615},[7612],{"type":38,"value":618},{"type":32,"tag":75,"props":7614,"children":7615},{"style":621},[7616],{"type":38,"value":624},{"type":32,"tag":75,"props":7618,"children":7619},{"style":615},[7620],{"type":38,"value":629},{"type":32,"tag":75,"props":7622,"children":7623},{"style":94},[7624],{"type":38,"value":507},{"type":32,"tag":75,"props":7626,"children":7627},{"class":77,"line":5115},[7628,7632,7636],{"type":32,"tag":75,"props":7629,"children":7630},{"style":82},[7631],{"type":38,"value":1431},{"type":32,"tag":75,"props":7633,"children":7634},{"style":88},[7635],{"type":38,"value":886},{"type":32,"tag":75,"props":7637,"children":7638},{"style":94},[7639],{"type":38,"value":507},{"type":32,"tag":75,"props":7641,"children":7642},{"class":77,"line":5995},[7643],{"type":32,"tag":75,"props":7644,"children":7645},{"style":94},[7646],{"type":38,"value":641},{"type":32,"tag":7648,"props":7649,"children":7650},"style",{},[7651],{"type":38,"value":7652},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":147,"depth":147,"links":7654},[7655],{"id":35,"depth":100,"text":22,"children":7656},[7657,7673,7691,7699,7705],{"id":340,"depth":125,"text":343,"children":7658},[7659,7661,7663,7665,7667,7669,7671],{"id":364,"depth":147,"text":7660},"strbuf_init()",{"id":644,"depth":147,"text":7662},"strbuf_attach()",{"id":900,"depth":147,"text":7664},"strbuf_release()",{"id":1065,"depth":147,"text":7666},"strbuf_swap()",{"id":1262,"depth":147,"text":7668},"strbuf_detach()",{"id":1457,"depth":147,"text":7670},"strbuf_cmp()",{"id":1727,"depth":147,"text":7672},"strbuf_reset()",{"id":1880,"depth":125,"text":1883,"children":7674},[7675,7677,7679,7681,7683,7685,7687,7689],{"id":1902,"depth":147,"text":7676},"strbuf_grow()",{"id":2165,"depth":147,"text":7678},"strbuf_add()",{"id":2476,"depth":147,"text":7680},"strbuf_addch()",{"id":2629,"depth":147,"text":7682},"strbuf_addstr()",{"id":2816,"depth":147,"text":7684},"strbuf_addbuf()",{"id":245,"depth":147,"text":7686},"strbuf_setlen()",{"id":3262,"depth":147,"text":7688},"strbuf_avail()",{"id":3405,"depth":147,"text":7690},"strbuf_insert()",{"id":3777,"depth":125,"text":3780,"children":7692},[7693,7695,7697],{"id":3783,"depth":147,"text":7694},"strbuf_rtrim()",{"id":4094,"depth":147,"text":7696},"strbuf_ltrim()",{"id":4427,"depth":147,"text":7698},"strbuf_remove()",{"id":4675,"depth":125,"text":4678,"children":7700},[7701,7703],{"id":4681,"depth":147,"text":7702},"strbuf_read()",{"id":5123,"depth":147,"text":7704},"strbuf_getline()",{"id":5416,"depth":125,"text":5419,"children":7706},[7707,7709,7711],{"id":5430,"depth":147,"text":7708},"strbuf_split_buf()",{"id":6992,"depth":147,"text":7710},"strbuf_begin_judge()",{"id":7255,"depth":147,"text":7712},"strbuf_get_mid_buf()","markdown","content:posts:2023:c-strbuf.md","content","posts/2023/c-strbuf.md","posts/2023/c-strbuf","md","/posts",[7721,7725],{"_path":7722,"title":7723,"date":7724},"/2022/c-next-sec","C语言字符串时间获取下一秒的思考","2022-12-18T11:53:37.000Z",{"_path":7726,"title":7727,"date":7728},"/2023/linuxqq-crash","Linux QQ 崩溃解决办法","2023-03-16T13:02:22.000Z",1744367798088]