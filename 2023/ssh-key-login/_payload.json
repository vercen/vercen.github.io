[{"data":1,"prerenderedAt":562},["ShallowReactive",2],{"/2023/ssh-key-login":3,"surround-/2023/ssh-key-login":553},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"updated":11,"image":12,"categories":13,"tags":15,"recommend":19,"readingTime":20,"body":25,"_type":546,"_id":547,"_source":548,"_file":549,"_stem":550,"_extension":551,"_original_dir":552},"/2023/ssh-key-login","2023",false,"","SSH 免密登录","生成SSH密钥，启用公钥认证，将公钥添加至授权列表，实现 Windows/Linux/GitHub SSH 免密登录。","2023-12-25T08:15:00.000Z","2024-12-26T12:32:04.000Z","https://7.isyangs.cn/24/6664009c87ec5-24.jpg",[14],"经验分享",[16,17,18],"教程","ssh","远程",true,{"text":21,"minutes":22,"time":23,"words":24},"4 min read",3.06,183600,612,{"type":26,"children":27,"toc":537},"root",[28,36,44,51,56,61,119,124,137,155,182,196,202,216,285,290,296,310,317,322,336,348,480,485,518,524,531],{"type":29,"tag":30,"props":31,"children":32},"element","p",{},[33],{"type":34,"value":35},"text","在终端中使用 SSH 之前，可以先美化终端以提升用户体验。",{"type":29,"tag":37,"props":38,"children":43},"link-banner",{"banner":39,"description":40,"link":41,"title":42},"https://7.isyangs.cn/24/6671b766a4312-24.jpg","一篇优化 Windows Terminal 体验的指南，涵盖 PowerShell 增强、Oh My Posh 主题配置、集成 Git Bash 以及终端美化等方面。","/2024/windows-terminal","Windows 终端体验优化指南",[],{"type":29,"tag":45,"props":46,"children":48},"h2",{"id":47},"生成ssh密钥",[49],{"type":34,"value":50},"生成SSH密钥",{"type":29,"tag":30,"props":52,"children":53},{},[54],{"type":34,"value":55},"ED225519 类型的密钥综合性能更好。",{"type":29,"tag":57,"props":58,"children":60},"copy",{"code":59},"ssh-keygen -t ed25519",[],{"type":29,"tag":30,"props":62,"children":63},{},[64,66,101,103,109,111,117],{"type":34,"value":65},"连续按回车键即可。如果你想自定义生成内容，请使用 ",{"type":29,"tag":67,"props":68,"children":71},"code",{"className":69,"language":70,"style":7},"language-sh shiki shiki-themes catppuccin-latte one-dark-pro","sh",[72,79,85,91,96],{"type":29,"tag":73,"props":74,"children":76},"span",{"style":75},"--shiki-default:#1E66F5;--shiki-default-font-style:italic;--shiki-dark:#61AFEF;--shiki-dark-font-style:inherit",[77],{"type":34,"value":78},"ssh-keygen",{"type":29,"tag":73,"props":80,"children":82},{"style":81},"--shiki-default:#40A02B;--shiki-dark:#D19A66",[83],{"type":34,"value":84}," -t",{"type":29,"tag":73,"props":86,"children":88},{"style":87},"--shiki-default:#40A02B;--shiki-dark:#98C379",[89],{"type":34,"value":90}," ed25519",{"type":29,"tag":73,"props":92,"children":93},{"style":81},[94],{"type":34,"value":95}," -C",{"type":29,"tag":73,"props":97,"children":98},{"style":87},[99],{"type":34,"value":100}," \"内容\"",{"type":34,"value":102},"。生成好的",{"type":29,"tag":104,"props":105,"children":106},"strong",{},[107],{"type":34,"value":108},"公钥",{"type":34,"value":110},"可以通过 ",{"type":29,"tag":67,"props":112,"children":114},{"className":113},[],[115],{"type":34,"value":116},"cat ~/.ssh/id_ed25519.pub",{"type":34,"value":118}," 查看。",{"type":29,"tag":45,"props":120,"children":122},{"id":121},"将公钥加入认证列表",[123],{"type":34,"value":121},{"type":29,"tag":30,"props":125,"children":126},{},[127,129,135],{"type":34,"value":128},"如果服务端是 Windows OpenSSH，请将服务端 ",{"type":29,"tag":67,"props":130,"children":132},{"className":131},[],[133],{"type":34,"value":134},"%ProgramData%\\ssh\\sshd_config",{"type":34,"value":136}," 文件中的此行取消注释（需要管理员权限）：",{"type":29,"tag":138,"props":139,"children":141},"pre",{"className":69,"code":140,"filename":134,"language":70,"meta":7,"style":7},"# PubkeyAuthentication yes\n",[142],{"type":29,"tag":67,"props":143,"children":144},{"__ignoreMap":7},[145],{"type":29,"tag":73,"props":146,"children":149},{"class":147,"line":148},"line",1,[150],{"type":29,"tag":73,"props":151,"children":153},{"style":152},"--shiki-default:#9CA0B0;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic",[154],{"type":34,"value":140},{"type":29,"tag":30,"props":156,"children":157},{},[158,160,166,168,172,174,180],{"type":34,"value":159},"在 ",{"type":29,"tag":67,"props":161,"children":163},{"className":162},[],[164],{"type":34,"value":165},"~/.ssh/authorized_keys",{"type":34,"value":167}," 文件中逐行添加",{"type":29,"tag":104,"props":169,"children":170},{},[171],{"type":34,"value":108},{"type":34,"value":173},"即可。此文件的权限应当是 ",{"type":29,"tag":67,"props":175,"children":177},{"className":176},[],[178],{"type":34,"value":179},"644",{"type":34,"value":181},"，否则可能会被拒绝读取（也就是无法用SSH公钥认证登录）。",{"type":29,"tag":30,"props":183,"children":184},{},[185,187],{"type":34,"value":186},"示例：",{"type":29,"tag":188,"props":189,"children":193},"a",{"href":190,"rel":191},"https://gist.github.com/L33Z22L11/fdac255fe90aa9677bf530e7792db703",[192],"nofollow",[194],{"type":34,"value":195},"我的SSH公钥",{"type":29,"tag":45,"props":197,"children":199},{"id":198},"避免每次输入用户名和ip地址",[200],{"type":34,"value":201},"避免每次输入用户名和IP地址",{"type":29,"tag":30,"props":203,"children":204},{},[205,207,214],{"type":34,"value":206},"如果你有经常连接的 SSH 服务器，可以在 SSH 配置文件中按照以下格式添加条目，即可直接通过 Host 项的名字连接，还能在 ",{"type":29,"tag":67,"props":208,"children":209},{"className":69,"language":70,"style":7},[210],{"type":29,"tag":73,"props":211,"children":212},{"style":75},[213],{"type":34,"value":17},{"type":34,"value":215}," 命令输到一半时按 Tab 键自动补全：",{"type":29,"tag":138,"props":217,"children":222},{"className":218,"code":219,"filename":220,"language":221,"meta":7,"style":7},"language-ssh-config shiki shiki-themes catppuccin-latte one-dark-pro","Host zhilu-server\n    Hostname 1.1.1.1\n    Port 8022\n    User zhilu\n","~/.ssh/config","ssh-config",[223],{"type":29,"tag":67,"props":224,"children":225},{"__ignoreMap":7},[226,241,257,271],{"type":29,"tag":73,"props":227,"children":228},{"class":147,"line":148},[229,235],{"type":29,"tag":73,"props":230,"children":232},{"style":231},"--shiki-default:#8839EF;--shiki-dark:#C678DD",[233],{"type":34,"value":234},"Host",{"type":29,"tag":73,"props":236,"children":238},{"style":237},"--shiki-default:#4C4F69;--shiki-dark:#61AFEF",[239],{"type":34,"value":240}," zhilu-server\n",{"type":29,"tag":73,"props":242,"children":244},{"class":147,"line":243},2,[245,251],{"type":29,"tag":73,"props":246,"children":248},{"style":247},"--shiki-default:#4C4F69;--shiki-dark:#ABB2BF",[249],{"type":34,"value":250},"    Hostname ",{"type":29,"tag":73,"props":252,"children":254},{"style":253},"--shiki-default:#FE640B;--shiki-dark:#D19A66",[255],{"type":34,"value":256},"1.1.1.1\n",{"type":29,"tag":73,"props":258,"children":260},{"class":147,"line":259},3,[261,266],{"type":29,"tag":73,"props":262,"children":263},{"style":231},[264],{"type":34,"value":265},"    Port",{"type":29,"tag":73,"props":267,"children":268},{"style":253},[269],{"type":34,"value":270}," 8022\n",{"type":29,"tag":73,"props":272,"children":274},{"class":147,"line":273},4,[275,280],{"type":29,"tag":73,"props":276,"children":277},{"style":231},[278],{"type":34,"value":279},"    User",{"type":29,"tag":73,"props":281,"children":282},{"style":247},[283],{"type":34,"value":284}," zhilu\n",{"type":29,"tag":30,"props":286,"children":287},{},[288],{"type":34,"value":289},"在 SSH 配置文件中，缩进是一个 Tab 或者 4 个空格。（早期 CMake 的惯用缩进 8 个空格作为规范）",{"type":29,"tag":45,"props":291,"children":293},{"id":292},"使用公钥完成-github-登录",[294],{"type":34,"value":295},"使用公钥完成 GitHub 登录",{"type":29,"tag":30,"props":297,"children":298},{},[299,301,308],{"type":34,"value":300},"参见 GitHub 官方教程：",{"type":29,"tag":188,"props":302,"children":305},{"href":303,"rel":304},"https://docs.github.com/zh/authentication/connecting-to-github-with-ssh",[192],[306],{"type":34,"value":307},"通过 SSH 连接到 GitHub",{"type":34,"value":309},"。",{"type":29,"tag":311,"props":312,"children":314},"h3",{"id":313},"设置-ssh-代理",[315],{"type":34,"value":316},"设置 SSH 代理",{"type":29,"tag":30,"props":318,"children":319},{},[320],{"type":34,"value":321},"通常不建议使用 HTTPS 连接到 GitHub，通过 SSH 连接时一般不需要代理即可直接访问。如果没有使用“TUN 模式”或透明代理，系统代理设置不会自动应用到 SSH 连接上。",{"type":29,"tag":323,"props":324,"children":325},"ul",{},[326],{"type":29,"tag":327,"props":328,"children":329},"li",{},[330,332],{"type":34,"value":331},"更改仓库的远程地址\n",{"type":29,"tag":57,"props":333,"children":335},{"code":334},"git remote set-url origin git@github.com:username/repo.git",[],{"type":29,"tag":30,"props":337,"children":338},{},[339,341,346],{"type":34,"value":340},"当使用代理时，大多数节点",{"type":29,"tag":104,"props":342,"children":343},{},[344],{"type":34,"value":345},"不允许直接访问 22 端口",{"type":34,"value":347},"，因此应在 443 端口通过 SSH 连接到 GitHub 仓库。可以通过修改 SSH 配置文件实现：",{"type":29,"tag":138,"props":349,"children":351},{"className":218,"code":350,"filename":220,"language":221,"meta":7,"style":7},"Host github.com\n    Hostname ssh.github.com\n    Port 443\n    User git\n    # TUN 模式或透明代理不需要 ProxyCommand\n    # Windows下SOCKS5\n    # ProxyCommand connect -S 127.0.0.1:10808 %h %p\n    # Windows下HTTP\n    # ProxyCommand connect -H 127.0.0.1:10809 %h %p\n    # Linux和macOS下SOCKS5\n    # ProxyCommand nc -v -x 127.0.0.1:20170 %h %p\n    # Linux和macOS下HTTP\n    # ProxyCommand nc -v -X connect -x 127.0.0.1:20172 %h %p\n",[352],{"type":29,"tag":67,"props":353,"children":354},{"__ignoreMap":7},[355,367,375,387,399,408,417,426,435,444,453,462,471],{"type":29,"tag":73,"props":356,"children":357},{"class":147,"line":148},[358,362],{"type":29,"tag":73,"props":359,"children":360},{"style":231},[361],{"type":34,"value":234},{"type":29,"tag":73,"props":363,"children":364},{"style":237},[365],{"type":34,"value":366}," github.com\n",{"type":29,"tag":73,"props":368,"children":369},{"class":147,"line":243},[370],{"type":29,"tag":73,"props":371,"children":372},{"style":247},[373],{"type":34,"value":374},"    Hostname ssh.github.com\n",{"type":29,"tag":73,"props":376,"children":377},{"class":147,"line":259},[378,382],{"type":29,"tag":73,"props":379,"children":380},{"style":231},[381],{"type":34,"value":265},{"type":29,"tag":73,"props":383,"children":384},{"style":253},[385],{"type":34,"value":386}," 443\n",{"type":29,"tag":73,"props":388,"children":389},{"class":147,"line":273},[390,394],{"type":29,"tag":73,"props":391,"children":392},{"style":231},[393],{"type":34,"value":279},{"type":29,"tag":73,"props":395,"children":396},{"style":247},[397],{"type":34,"value":398}," git\n",{"type":29,"tag":73,"props":400,"children":402},{"class":147,"line":401},5,[403],{"type":29,"tag":73,"props":404,"children":405},{"style":152},[406],{"type":34,"value":407},"    # TUN 模式或透明代理不需要 ProxyCommand\n",{"type":29,"tag":73,"props":409,"children":411},{"class":147,"line":410},6,[412],{"type":29,"tag":73,"props":413,"children":414},{"style":152},[415],{"type":34,"value":416},"    # Windows下SOCKS5\n",{"type":29,"tag":73,"props":418,"children":420},{"class":147,"line":419},7,[421],{"type":29,"tag":73,"props":422,"children":423},{"style":152},[424],{"type":34,"value":425},"    # ProxyCommand connect -S 127.0.0.1:10808 %h %p\n",{"type":29,"tag":73,"props":427,"children":429},{"class":147,"line":428},8,[430],{"type":29,"tag":73,"props":431,"children":432},{"style":152},[433],{"type":34,"value":434},"    # Windows下HTTP\n",{"type":29,"tag":73,"props":436,"children":438},{"class":147,"line":437},9,[439],{"type":29,"tag":73,"props":440,"children":441},{"style":152},[442],{"type":34,"value":443},"    # ProxyCommand connect -H 127.0.0.1:10809 %h %p\n",{"type":29,"tag":73,"props":445,"children":447},{"class":147,"line":446},10,[448],{"type":29,"tag":73,"props":449,"children":450},{"style":152},[451],{"type":34,"value":452},"    # Linux和macOS下SOCKS5\n",{"type":29,"tag":73,"props":454,"children":456},{"class":147,"line":455},11,[457],{"type":29,"tag":73,"props":458,"children":459},{"style":152},[460],{"type":34,"value":461},"    # ProxyCommand nc -v -x 127.0.0.1:20170 %h %p\n",{"type":29,"tag":73,"props":463,"children":465},{"class":147,"line":464},12,[466],{"type":29,"tag":73,"props":467,"children":468},{"style":152},[469],{"type":34,"value":470},"    # Linux和macOS下HTTP\n",{"type":29,"tag":73,"props":472,"children":474},{"class":147,"line":473},13,[475],{"type":29,"tag":73,"props":476,"children":477},{"style":152},[478],{"type":34,"value":479},"    # ProxyCommand nc -v -X connect -x 127.0.0.1:20172 %h %p\n",{"type":29,"tag":30,"props":481,"children":482},{},[483],{"type":34,"value":484},"这样一般能正常执行 git 操作，如果不行，可以通过启用或取消注释来通过代理访问 GitHub，端口可能需要更改。",{"type":29,"tag":323,"props":486,"children":487},{},[488,503],{"type":29,"tag":327,"props":489,"children":490},{},[491,493,501],{"type":34,"value":492},"Linux 和 macOS：可以使用 ",{"type":29,"tag":67,"props":494,"children":495},{"className":69,"language":70,"style":7},[496],{"type":29,"tag":73,"props":497,"children":498},{"style":75},[499],{"type":34,"value":500},"nc",{"type":34,"value":502}," 工具来实现 SOCKS5 代理。",{"type":29,"tag":327,"props":504,"children":505},{},[506,508,516],{"type":34,"value":507},"Windows：需要用 ",{"type":29,"tag":67,"props":509,"children":510},{"className":69,"language":70,"style":7},[511],{"type":29,"tag":73,"props":512,"children":513},{"style":75},[514],{"type":34,"value":515},"connect",{"type":34,"value":517}," 命令，该命令可在 Git for Windows 提供的 Git Bash 中找到，如果无法执行 connect，可能需要使用 Git Bash 操作。",{"type":29,"tag":45,"props":519,"children":521},{"id":520},"关于-ssh-的更多玩法",[522],{"type":34,"value":523},"关于 SSH 的更多玩法",{"type":29,"tag":525,"props":526,"children":530},"link-card",{"icon":527,"link":528,"title":529},"https://cdn.yuuu.org/img/favicon-192x192.png","https://yuuu.org/post/64202.html","ssh 知识整理 | 微霞",[],{"type":29,"tag":532,"props":533,"children":534},"style",{},[535],{"type":34,"value":536},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":273,"depth":273,"links":538},[539,540,541,542,545],{"id":47,"depth":243,"text":50},{"id":121,"depth":243,"text":121},{"id":198,"depth":243,"text":201},{"id":292,"depth":243,"text":295,"children":543},[544],{"id":313,"depth":259,"text":316},{"id":520,"depth":243,"text":523},"markdown","content:posts:2023:ssh-key-login.md","content","posts/2023/ssh-key-login.md","posts/2023/ssh-key-login","md","/posts",[554,558],{"_path":555,"title":556,"date":557},"/2023/xv6-lab-setup","xv6 lab环境配置","2023-11-20T09:09:28.000Z",{"_path":559,"title":560,"date":561},"/2024/moonlight-streaming-guide","Moonlight 串流指南","2024-01-18T10:58:55.000Z",1743402550457]